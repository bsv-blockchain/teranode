2024-07-11T16:44:39+02:00 | INFO  | k8sresolver/builder.go:24        | k8sres| [k8s] GRPC k8sresolver init
2024/07/11 16:44:39 | logger.go:161            | ubsv   | [0;32mINFO [0m | Socket created. Connect with 'nc -U /tmp/gocore/UBSV.sock'
2024-07-11T16:44:39+02:00 | INFO  | main.go:127                      | ubsv  | STATS

SETTINGS_ENV
------------
Context:     Not set (dev)
Application: Not set

SETTINGS
--------
ASSET_GRPC_PORT=8091
ASSET_HTTP_PORT=8090
BLOCKCHAIN_GRPC_PORT=8087
BLOCKCHAIN_HTTP_PORT=8082
BLOCK_ASSEMBLY_GRPC_PORT=8085
BLOCK_VALIDATION_GRPC_PORT=8088
BLOCK_VALIDATION_HTTP_PORT=8188
BOOTSTRAP_GRPC_PORT=8089
BOOTSTRAP_HTTP_PORT=8099
CENTRIFUGE_PORT=8892
COINBASE_GRPC_PORT=8093
FAUCET_HTTP_PORT=8097
JAEGER_PORT=6831=6379
KAFKA_BLOCKS=blocks
KAFKA_BLOCKS_FINAL=blocks-final
KAFKA_BLOCKS_VALIDATE=blocks-validate
KAFKA_HOSTS[.dev]=127.0.0.1:9092
KAFKA_PARTITIONS=1
KAFKA_PORT=9092
KAFKA_REPLICATION_FACTOR=1
KAFKA_SUBTREES=subtrees
KAFKA_SUBTREES_FINAL=subtrees-final
KAFKA_TXMETA=txmeta
KAFKA_TXS=txs
LEGACY_HTTP_PORT=8098
M1=dns:///m1.scaling.ubsv.dev:8084
M1_P2P=/dns/m1.scaling.ubsv.dev/tcp/9905/p2p/{M1_P2P_ID}
M1_P2P_ID=12D3KooWFmtrxJsWUQo3axbyUAqXMH33G9HXmd3xaW3XuhsKccLn
M2=dns:///m2.scaling.ubsv.dev:8084
M2_P2P=/dns/m2.scaling.ubsv.dev/tcp/9905/p2p/{M2_P2P_ID}
M2_P2P_ID=12D3KooWSPjxch3frXkbq612xz7Xbs7y1w47hvLieDt7r3mRE43q
M3=dns:///m3.scaling.ubsv.dev:8084
M3_P2P=/dns/m3.scaling.ubsv.dev/tcp/9905/p2p/{M3_P2P_ID}
M3_P2P_ID=12D3KooWRxN9gLTfVZXLGBYLrijar3bkstXWpo2HMY23JLFpXDfj
M4=dns:///m4.scaling.ubsv.dev:8084
M4_P2P=/dns/m4.scaling.ubsv.dev/tcp/9905/p2p/{M4_P2P_ID}
M4_P2P_ID=12D3KooWN6Ck8yddcRCuZa6B2Ti5noUsv6Tb5Q2LVk9KQ6nF46oJ
M5=dns:///m5.scaling.ubsv.dev:8084
M5_P2P=/dns/m5.scaling.ubsv.dev/tcp/9905/p2p/{M5_P2P_ID}
M5_P2P_ID=12D3KooWPdTFCqbUWEddkpuwToFAXCpU5ZhNYn8n6tSXbWqAK7G4
M6=dns:///m6.scaling.ubsv.dev:8084
M6_P2P=/dns/m6.scaling.ubsv.dev/tcp/9905/p2p/{M6_P2P_ID}
M6_P2P_ID=12D3KooWHGfHqZ2PgBmcSxwdWGjtS8E6Yvy9nzMpFbnX1Attfmws
MINER_HTTP_PORT=8092
P2P_BOOTSTRAP_PORT=9901
P2P_HTTP_PORT=9906
P2P_PORT=9905
P2P_PORT_COINBASE=9907
PK1=L56TgyTpDdvL3W24SMoALYotibToSCySQeo4pThLKxw6EFR6f93Q
PK2=KyAwSjuXZNgj78w3W7mR1fVMbPFu2heaCJJkWK5Yy58NZ4xafV6k
PK3=L3NVjmwg3nC7ZPrwMVF6FXiG1a1RZ89nhizmJVctGztRKLYrhtFL
PK4=L3NVjmwg3nC7ZPrwMVF6FXiG1a1RZ89nhizmJVctGztRKLYrhtFL
PK5=L3NVjmwg3nC7ZPrwMVF6FXiG1a1RZ89nhizmJVctGztRKLYrhtFL
PK6=L3NVjmwg3nC7ZPrwMVF6FXiG1a1RZ89nhizmJVctGztRKLYrhtFL
PROFILE_PORT=9091
PROFILE_PORT_TXBLASTER=9092
PROPAGATION_GRPC_PORT=8084
PROPAGATION_HTTP_PORT=8833
PROPAGATION_QUIC_PORT=8384
REDIS_HOSTS=localhost:6379
REDIS_PORT=6379
SERVICE_NAME[DEFAULT]=
SUBTREE_VALIDATION_GRPC_PORT=8086
VALIDATOR_GRPC_PORT=8081
advertisingInterval=10s
advertisingURL=
aerospike_batchPolicy=aerospike:///?MaxRetries=5&SleepBetweenRetries=500ms&SleepMultiplier=1&TotalTimeout=64s&SocketTimeout=10s&ConcurrentNodes=0
aerospike_debug=false
aerospike_readPolicy=aerospike:///?MaxRetries=5&SleepBetweenRetries=500ms&SleepMultiplier=1&TotalTimeout=1s&SocketTimeout=1s
aerospike_useDefaultBasePolicies=false
aerospike_useDefaultPolicies=false
aerospike_warmUp=true
aerospike_writePolicy=aerospike:///?MaxRetries=5&SleepBetweenRetries=500ms&SleepMultiplier=1&TotalTimeout=1s&SocketTimeout=1s
asset_apiPrefix=/api/v1
asset_centrifugeListenAddress[.dev]=localhost:8892
asset_clientName=Not specified
asset_grpcAddress=localhost:8091
asset_grpcListenAddress[.dev]=localhost:8091
asset_httpAddress=http://localhost:8090/api/v1
asset_httpListenAddress[.dev]=localhost:8090
asset_http_port=80
asset_https_port=443
blockMinedCacheMaxMB=256
blockPersister_processUTXOSets=false
blockPersister_workingDir=./data/blockstore
block_checkDuplicateTransactionsConcurrency[DEFAULT]=
block_getAndValidateSubtreesConcurrency[DEFAULT]=
block_kafkaWorkers=0
block_quorum_path=./data/blockstore_quorum
block_validOrderAndBlessedConcurrency[DEFAULT]=
blockassembly_auxiliarySubtreeStore=
blockassembly_disabled=false
blockassembly_grpcAddress=localhost:8085
blockassembly_grpcListenAddress[.dev]=localhost:8085
blockassembly_kafkaWorkers=0
blockassembly_localTTLCache=
blockassembly_maxBlockReorgCatchup=100
blockassembly_maxBlockReorgRollback=100
blockassembly_moveDownBlockConcurrency[DEFAULT]=
blockassembly_processRemainderTxHashesConcurrency[DEFAULT]=
blockassembly_sendBatchSize=100
blockassembly_sendBatchTimeout=2
blockassembly_subtreeProcessorBatcherSize=1000
blockassembly_subtreeProcessorConcurrentReads[DEFAULT]=
blockassembly_subtreeTTL[DEFAULT]=
blockchain_grpcAddress=localhost:8087
blockchain_grpcListenAddress[.dev]=localhost:8087
blockchain_httpListenAddress[.dev]=localhost:8082
blockchain_maxRetries[DEFAULT]=
blockchain_store=sqlite:///blockchain
blockmaxsize=512000000
blockstore[.dev]=null:///?localTTLStore=file&localTTLStorePath=./data/blockstore-ttl
blockstore_m1=s3://s3.eu-west-1.amazonaws.com/ubsv-m1-block-store?region=eu-west-1
blockstore_m2=s3://s3.us-east-1.amazonaws.com/ubsv-m2-block-store?region=us-east-1
blockstore_m3=s3://s3.ap-south-1.amazonaws.com/ubsv-m3-block-store?region=ap-south-1
blockstore_m4=s3://s3.ap-northeast-2.amazonaws.com/ubsv-m4-block-store?region=ap-northeast-2
blockstore_m5=s3://s3.ca-central-1.amazonaws.com/ubsv-m5-block-store?region=ca-central-1
blockstore_m6=s3://s3.us-west-2.amazonaws.com/ubsv-m6-block-store?region=us-west-2
blockvalidation_fail_fast_validation=true
blockvalidation_finalizeBlockValidationConcurrency=8
blockvalidation_getMissingTransactions=32
blockvalidation_grpcAddress=localhost:8088
blockvalidation_grpcListenAddress[.dev]=localhost:8088
blockvalidation_httpAddress=http://localhost:8188
blockvalidation_httpListenAddress[.dev]=localhost:8188
blockvalidation_kafkaWorkers=0
blockvalidation_localSetTxMinedConcurrency=8
blockvalidation_processTxMetaUsingCache_BatchSize=1024
blockvalidation_processTxMetaUsingCache_Concurrency=32
blockvalidation_processTxMetaUsingCache_MissingTxThreshold=1
blockvalidation_processTxMetaUsingStore_BatchSize=1024
blockvalidation_processTxMetaUsingStore_Concurrency=32
blockvalidation_processTxMetaUsingStore_MissingTxThreshold=1
blockvalidation_subtreeFoundChConcurrency=1
blockvalidation_subtreeTTLConcurrency=8
blockvalidation_subtreeValidationTimeout=1000
blockvalidation_subtree_validation_abandon_threshold=1
blockvalidation_validateBlockSubtreesConcurrency=32
blockvalidation_validation_max_retries=3
blockvalidation_validation_retry_sleep=5s
coinbase_arbitrary_text=/teranode/
coinbase_assetGrpcAddress=localhost:8091
coinbase_grpcAddress[.dev]=localhost:8093
coinbase_grpcListenAddress[.dev]=localhost:8093
coinbase_notification_threshold[DEFAULT]=
coinbase_p2p_peer_id[.dev]=12D3KooWBBV8PL949p46DJHwJkjESoPGCYhqHv1Ek1DkbQ6HGB8X
coinbase_p2p_private_key[.dev]=44a5a189fbad1d7bc0c59b33fbd5e485f2f4d3d8bf293838c56ce72e53b557171444c0bb7d5cf75112717084cee9e9e98651421b3cd29d721e43c0a51d81aa54
coinbase_p2p_static_peers[.dev]=/ip4/127.0.0.1/tcp/9905/p2p/12D3KooWMQira6uh4rptNzMP5sojTdNXyveAWMKJi5ySoepVXGxo
coinbase_should_wait=true
coinbase_store=sqlite:///coinbase
coinbase_store_dbTimeoutMillis=5000
coinbase_wait_for_peers=true
coinbase_wait_until_block[.dev]=200
coinbase_wallet_private_key=L56TgyTpDdvL3W24SMoALYotibToSCySQeo4pThLKxw6EFR6f93Q
difficulty_adjustment[.dev]=false
difficulty_adjustment_window=144
difficulty_pow_limit=234
difficulty_target_time_per_block[.dev]=60
distributer_wait_time=10
distributor_backoff_duration=1s
distributor_failure_tolerance=0
distributor_max_retries=3
double_spend_window_millis=0
excessiveblocksize=2000000000
faucet_httpListenAddress[.dev]=localhost:8097
feature_bootstrap=false
feature_libP2P=true
gocore_stats_reported_time_threshold=24h
grpc_resolver=dns
http_sign_response=true
http_timeout=1000
initial_merkle_items_per_subtree[.dev]=32768
k8s_resolver_ttl[.dev]=0
kafka_blocksConfig=kafka://127.0.0.1:9092/blocks?partitions=1&replication=1&flush_bytes=64
kafka_blocksFinalConfig=kafka://127.0.0.1:9092/blocks-final?partitions=1&replication=1&flush_bytes=64&autocommit=0
kafka_blocksValidateConfig=kafka://127.0.0.1:9092/blocks-validate?partitions=1&replication=1&flush_bytes=64
kafka_subtreesConfig=kafka://127.0.0.1:9092/subtrees?partitions=1&replication=1&retention=60000&segment_bytes=33554432&flush_bytes=64&flush_messages=1&consumer_ratio=1
kafka_subtreesFinalConfig=kafka://127.0.0.1:9092/subtrees-final?partitions=1&replication=1&retention=60000&flush_bytes=64&flush_messages=1
kafka_txmetaConfig=kafka://127.0.0.1:9092/txmeta?partitions=1&replication=1&retention=60000&flush_bytes=1024&flush_messages=10000&flush_frequency=1s&consumer_ratio=4
kafka_txsConfig=kafka://127.0.0.1:9092/txs?partitions=1&replication=1&retention=60000&flush_bytes=1024&flush_messages=10000&flush_frequency=1s
legacy_connect_peers[DEFAULT]=
legacy_httpAddress=http://localhost:8098
legacy_httpListenAddress[.dev]=localhost:8098
legacy_workingDir=data/legacy
logLevel[ENV]=INFO
logger=zerolog
logger_output_format=| %-25s| %-7s| %s |
logger_show_socket_info=true
logger_show_timestamps=true
maxtxsigopscountspolicy=4294967295
maxtxsizepolicy=100000000
min_block_height_for_e2e=200
mine_candidate_request_interval=10
mine_initial_blocks[.dev]=true
mine_initial_blocks_count[.dev]=200
mine_initial_blocks_final_wait=5ms
miner_httpListenAddress[.dev]=localhost:8092
miner_max_subtree_count=650
miner_max_subtree_count_variance=150
miner_time_mining=true
miner_waitSeconds[DEFAULT]=
miner_wallet_private_keys=L56TgyTpDdvL3W24SMoALYotibToSCySQeo4pThLKxw6EFR6f93Q
mining_n_bits=2000ffff
minminingtxfee=1e-8
p2p_bestblock_topic=bestblock
p2p_block_topic=block
p2p_bootstrapAddresses=/dns4/eu-p2pbootstrap.ubsv.dev/tcp/9901/p2p/12D3KooWESmhNAN8s6NPdGNvJH3zJ4wMKDxapXKNUe2DzkAwKYqK|/dns4/us-p2pbootstrap.ubsv.dev/tcp/9901/p2p/12D3KooWJ6kQHAR65xkA34NABsNVAJyVxPWh8JUSo1vtZsTyw4GD
p2p_dht_protocol_id=/ubsv
p2p_dht_use_private[.dev]=true
p2p_httpAddress[.dev]=localhost:9906
p2p_httpListenAddress[.dev]=localhost:9906
p2p_ip[.dev]=127.0.0.1
p2p_mining_on_topic=miningon
p2p_optimise_retries=false
p2p_peer_id[.dev]=12D3KooWMQira6uh4rptNzMP5sojTdNXyveAWMKJi5ySoepVXGxo
p2p_port=9905
p2p_port_coinbase[.dev]=9907
p2p_private_key[.dev]=90de404ee469fb284feb6ba93b429b95d7e0eb1c5ff530dc06a50cf268c72683ac3db1b6c7527b9b853e72647e760798125441f7490353a01a6b7e056df843d0
p2p_rejected_tx_topic=rejected_tx
p2p_shared_key=285b49e6d910726a70f205086c39cbac6d8dcc47839053a21b1f614773bbc137
p2p_static_peers=
p2p_subtree_topic=subtree
p2p_topic_prefix[.dev]=dev.github.com/bitcoin-sv/ubsv
peerStatus_timeout=5m
postgres_check_address[DEFAULT]=
profilerAddr[.dev]=localhost:9091
prometheusEndpoint=/metrics
propagation_grpcAddress[DEFAULT]=
propagation_grpcAddresses=localhost:8084
propagation_grpcListenAddress[.dev]=localhost:8084
propagation_grpcMaxConnectionAge=30s
propagation_httpAddresses=http://localhost:8833
propagation_httpListenAddress[.dev]=localhost:8833
propagation_quicAddresses=https://localhost:8384
propagation_quicListenAddress[.dev]=localhost:8384
propagation_sendBatchSize=100
propagation_sendBatchTimeout=10
rpc_listener_url=:9292
rpc_max_clients=3
rpc_pass=bitcoin
rpc_user=bitcoin
securityLevelGRPC=0
securityLevelHTTP=0
sentry_dsn=
sentry_traces_sample_rate=1.0
server_certFile=certs/ubsv.crt
server_keyFile=certs/ubsv.key
spent_utxo_ttl[.dev]=10
startAsset=true
startBlockAssembly=true
startBlockPersister[.dev]=true
startBlockValidation=true
startBlockchain=true
startBootstrap=false
startCoinbase=true
startFaucet=true
startLegacy[ENV]=true
startMiner=true
startP2P=true
startPropagation=true
startSubtreeValidation=true
startValidator=false
stats_prefix=gocore
subtree_kafkaWorkers=0
subtree_quorum_path=./data/subtree_quorum
subtreestore[.dev]=null:///?localTTLStore=file&localTTLStorePath=./data/subtreestore-ttl
subtreevalidation_failfast_validation=true
subtreevalidation_getMissingTransactions=32
subtreevalidation_grpcAddress=localhost:8086
subtreevalidation_grpcListenAddress[.dev]=localhost:8086
subtreevalidation_kafkaWorkers=0
subtreevalidation_processTxMetaUsingCache_BatchSize=1024
subtreevalidation_processTxMetaUsingCache_Concurrency=32
subtreevalidation_processTxMetaUsingCache_MissingTxThreshold=1
subtreevalidation_processTxMetaUsingStore_BatchSize=1024
subtreevalidation_processTxMetaUsingStore_Concurrency=32
subtreevalidation_processTxMetaUsingStore_MissingTxThreshold=1
subtreevalidation_subtreeFoundChConcurrency=1
subtreevalidation_subtreeTTL[DEFAULT]=
subtreevalidation_subtreeTTLConcurrency=8
subtreevalidation_subtreeValidationTimeout=1000
subtreevalidation_subtree_validation_abandon_threshold=1
subtreevalidation_txMetaCacheBatchSize=300
subtreevalidation_txMetaCacheBatchTimeoutMillis=2
subtreevalidation_txMetaCacheBatcherEnabled=true
subtreevalidation_txMetaCacheBatcherSendTimeout=1s
subtreevalidation_txMetaCacheEnabled=true
subtreevalidation_validation_max_retries=30
subtreevalidation_validation_retry_sleep=5s
test_run_mode=dev
tracing_SampleRate=0.01
tracing_collector_url[.dev]=jaeger://:6831=6379
txMetaCacheMaxMB=256
txMetaCacheTrimRatio=5
tx_blaster_p2p_peer_id=12D3KooWLRaBuYhHPcj8ixqwiVLtJ6YxMMSJRDwPYKVN5HWSnUWo
tx_blaster_p2p_private_key=f19576f6a8ea51ebf5a1fb05cdfea7b66bfa8ecdcec58232d064f3343fb19ab29d99c9e7339b479ed4ee48d7bb7a078bcc9e2ad2355e7e6ba94297e97ecb7744
tx_blaster_p2p_static_peers=
tx_blaster_profilerAddr[.dev]=localhost:9092
tx_blaster_staggerWorkersTimeMs=20
txstore=null:///
useLocalValidator=true
use_cgo_signer=true
use_cgo_verifier=true
use_open_tracing=false
utxoblaster_utxostore_aerospike[.dev]=aerospike://localhost:3000/test
utxoblaster_utxostore_redis=redis://localhost:6379
utxostore[.dev]=sqlite:///utxostore?expiration=300
utxostore_batchingEnabled=false
utxostore_dbTimeoutMillis=5000
utxostore_maxMinedBatchSize=1024
utxostore_maxMinedRoutines=4
utxostore_spendBatcherDurationMillis=100
utxostore_spendBatcherSize=100
utxostore_storeBatcherDurationMillis=100
utxostore_storeBatcherSize=100
validator_blockvalidation_delay=0
validator_blockvalidation_maxRetries=5
validator_blockvalidation_retrySleep=2s
validator_grpcAddress=localhost:8081
validator_grpcListenAddress[.dev]=localhost:8081
validator_sendBatchSize=0
validator_sendBatchTimeout=100
validator_sendBatchWorkers=1

VERSION
-------
 ()


2024-07-11T16:44:39+02:00 | INFO  | main.go:183                      | ubsv  | Starting prometheus endpoint on /metrics
2024-07-11T16:44:39+02:00 | INFO  | main.go:163                      | ubsv  | Profiler listening on http://localhost:9091/debug/pprof
2024-07-11T16:44:39+02:00 | INFO  | main.go:167                      | ubsv  | StatsServer listening on http://localhost:9091/gocore/stats
2024-07-11T16:44:39+02:00 | INFO  | util/sql.go:90                   | bcsql | Using sqlite DB: /Users/oskarsson/gitcheckout/ubsv/data/blockchain.db?cache=shared&_pragma=busy_timeout=5000&_pragma=journal_mode=WAL
2024-07-11T16:44:39+02:00 | INFO  | stores/blockchain/sql/sql.go:282 | bcsql | genesis block inserted
2024-07-11T16:44:39+02:00 | INFO  | ServiceManager.go:110            | ubsv  | ⚪️ Initializing service BlockChainService...
2024-07-11T16:44:39+02:00 | INFO  | ServiceManager.go:115            | ubsv  | 🟢 Starting service BlockChainService...
2024-07-11T16:44:39+02:00 | INFO  | blockchain/Server.go:101         | bchn  | [Blockchain] Starting Kafka producer for blocks
2024-07-11T16:44:41+02:00 | INFO  | ServiceManager.go:64             | ubsv  | 🟠 Received shutdown signal. Stopping services...
2024-07-11T16:44:46+02:00 | ERROR | services/blockchain/Client.go:78 | blkcC | [Blockchain] failed to connect to blockchain service, retried 3 times: rpc error: code = Canceled desc = context canceled
panic: rpc error: code = Canceled desc = context canceled

goroutine 1 [running]:
main.main()
	/Users/oskarsson/gitcheckout/ubsv/main.go:278 +0x19fc
