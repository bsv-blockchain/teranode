import{S as ie,i as fe,s as he,k as h,q as D,a as w,l as u,m as _,r as A,h as o,c as j,n as f,b as J,G as a,H as ee,J as Ce,u as X,K as Ve,o as Le,v as be,d as te,f as pe,g as $,e as ce,L as Re,y as ue,z as _e,A as ve,B as me,M as Be}from"../chunks/index.05b33c6f.js";function Ie(d,e,r){const t=d.slice();return t[3]=e[r],t}function Me(d){let e,r,t=[],n=new Map,s=d[0];const l=c=>c[3].ip;for(let c=0;c<s.length;c+=1){let i=Ie(d,s,c),m=l(i);n.set(m,t[c]=Pe(m,i))}return{c(){e=h("table"),r=h("tbody");for(let c=0;c<t.length;c+=1)t[c].c();this.h()},l(c){e=u(c,"TABLE",{class:!0});var i=_(e);r=u(i,"TBODY",{});var m=_(r);for(let b=0;b<t.length;b+=1)t[b].l(m);m.forEach(o),i.forEach(o),this.h()},h(){f(e,"class","table svelte-z3c8pd")},m(c,i){J(c,e,i),a(e,r);for(let m=0;m<t.length;m+=1)t[m]&&t[m].m(r,null)},p(c,i){i&1&&(s=c[0],t=Ce(t,i,l,1,c,s,n,r,Ve,Pe,null,Ie))},d(c){c&&o(e);for(let i=0;i<t.length;i+=1)t[i].d()}}}function ze(d){let e,r;return{c(){e=h("p"),r=D("No nodes connected")},l(t){e=u(t,"P",{});var n=_(e);r=A(n,"No nodes connected"),n.forEach(o)},m(t,n){J(t,e,n),a(e,r)},p:ee,d(t){t&&o(e)}}}function Oe(d){let e,r;return{c(){e=h("p"),r=D("Loading...")},l(t){e=u(t,"P",{});var n=_(e);r=A(n,"Loading..."),n.forEach(o)},m(t,n){J(t,e,n),a(e,r)},p:ee,d(t){t&&o(e)}}}function qe(d){let e,r,t;return{c(){e=h("p"),r=D("Error fetching nodes: "),t=D(d[2])},l(n){e=u(n,"P",{});var s=_(e);r=A(s,"Error fetching nodes: "),t=A(s,d[2]),s.forEach(o)},m(n,s){J(n,e,s),a(e,r),a(e,t)},p(n,s){s&4&&X(t,n[2])},d(n){n&&o(e)}}}function Pe(d,e){let r,t,n=(e[3].blobServerHTTPAddress||"anonymous")+"",s,l,c,i=e[3].source+"",m,b,v,E=e[3].name+"",p,P,H,V=e[3].ip+"",z,G,I,R,M=new Date(e[3].connectedAt).toISOString().replace("T"," ")+"",O,N,S,k,q,Y=Se(e[3].connectedAt)+"",T,g,B;return{key:d,first:null,c(){r=h("tr"),t=h("td"),s=D(n),l=w(),c=h("td"),m=D(i),b=w(),v=h("td"),p=D(E),P=w(),H=h("td"),z=D(V),G=w(),I=h("td"),R=D("Connected at "),O=D(M),N=w(),S=h("br"),k=w(),q=h("span"),T=D(Y),g=D(" ago"),B=w(),this.h()},l(L){r=u(L,"TR",{class:!0});var C=_(r);t=u(C,"TD",{});var Q=_(t);s=A(Q,n),Q.forEach(o),l=j(C),c=u(C,"TD",{});var U=_(c);m=A(U,i),U.forEach(o),b=j(C),v=u(C,"TD",{});var Z=_(v);p=A(Z,E),Z.forEach(o),P=j(C),H=u(C,"TD",{});var W=_(H);z=A(W,V),W.forEach(o),G=j(C),I=u(C,"TD",{});var F=_(I);R=A(F,"Connected at "),O=A(F,M),N=j(F),S=u(F,"BR",{}),k=j(F),q=u(F,"SPAN",{class:!0});var y=_(q);T=A(y,Y),g=A(y," ago"),y.forEach(o),F.forEach(o),B=j(C),C.forEach(o),this.h()},h(){f(q,"class","small svelte-z3c8pd"),f(r,"class","svelte-z3c8pd"),this.first=r},m(L,C){J(L,r,C),a(r,t),a(t,s),a(r,l),a(r,c),a(c,m),a(r,b),a(r,v),a(v,p),a(r,P),a(r,H),a(H,z),a(r,G),a(r,I),a(I,R),a(I,O),a(I,N),a(I,S),a(I,k),a(I,q),a(q,T),a(q,g),a(r,B)},p(L,C){e=L,C&1&&n!==(n=(e[3].blobServerHTTPAddress||"anonymous")+"")&&X(s,n),C&1&&i!==(i=e[3].source+"")&&X(m,i),C&1&&E!==(E=e[3].name+"")&&X(p,E),C&1&&V!==(V=e[3].ip+"")&&X(z,V),C&1&&M!==(M=new Date(e[3].connectedAt).toISOString().replace("T"," ")+"")&&X(O,M),C&1&&Y!==(Y=Se(e[3].connectedAt)+"")&&X(T,Y)},d(L){L&&o(r)}}}function Ke(d){let e,r,t,n,s,l;function c(b,v){return b[2]?qe:b[1]?Oe:b[0].length===0?ze:Me}let i=c(d),m=i(d);return{c(){e=h("div"),r=h("header"),t=h("p"),n=D("Connected nodes"),s=w(),l=h("div"),m.c(),this.h()},l(b){e=u(b,"DIV",{class:!0});var v=_(e);r=u(v,"HEADER",{class:!0});var E=_(r);t=u(E,"P",{class:!0});var p=_(t);n=A(p,"Connected nodes"),p.forEach(o),E.forEach(o),s=j(v),l=u(v,"DIV",{class:!0});var P=_(l);m.l(P),P.forEach(o),v.forEach(o),this.h()},h(){f(t,"class","card-header-title"),f(r,"class","card-header"),f(l,"class","card-content"),f(e,"class","card panel svelte-z3c8pd")},m(b,v){J(b,e,v),a(e,r),a(r,t),a(t,n),a(e,s),a(e,l),m.m(l,null)},p(b,[v]){i===(i=c(b))&&m?m.p(b,v):(m.d(1),m=i(b),m&&(m.c(),m.m(l,null)))},i:ee,o:ee,d(b){b&&o(e),m.d()}}}function Se(d){let e=new Date().getTime()-new Date(d).getTime();e=e/1e3;const r=Math.floor(e/86400),t=Math.floor(e%86400/3600),n=Math.floor(e%86400%3600/60),s=Math.floor(e%86400%3600%60);let l="";return r>0?(l+=r,l+=" day"+(r===1?", ":"s, "),l+=t,l+=" hour"+(t===1?", ":"s, "),l+=n,l+=" minute"+(n===1?" and ":"s and "),l+=s,l+=" second"+(s===1?"":"s"),l):t>0?(l+=t,l+=" hour"+(t===1?", ":"s, "),l+=n,l+=" minute"+(n===1?" and ":"s and "),l+=s,l+=" second"+(s===1?"":"s"),l):n>0?(l+=n,l+=" minute"+(n===1?" and ":"s and "),l+=s,l+=" second"+(s===1?"":"s"),l):s>0?(l+=s,l+=" second"+(s===1?"":"s"),l):"0 seconds"}function Ye(d,e,r){let{nodes:t}=e,{loading:n}=e,{error:s}=e;return d.$$set=l=>{"nodes"in l&&r(0,t=l.nodes),"loading"in l&&r(1,n=l.loading),"error"in l&&r(2,s=l.error)},[t,n,s]}class Ge extends ie{constructor(e){super(),fe(this,e,Ye,Ke,he,{nodes:0,loading:1,error:2})}}function Je(d){let e,r,t,n,s,l,c,i,m,b,v,E=d[3].height+"",p,P,H,V=de(d[3].hash)+"",z,G,I,R,M=de(d[3].previousblockhash)+"",O,N;return{c(){e=h("tr"),r=h("td"),t=D(d[1]),n=w(),s=h("td"),l=D(d[0]),c=w(),i=h("td"),m=D(d[2]),b=w(),v=h("td"),p=D(E),P=w(),H=h("td"),z=D(V),I=w(),R=h("td"),O=D(M),this.h()},l(S){e=u(S,"TR",{});var k=_(e);r=u(k,"TD",{class:!0});var q=_(r);t=A(q,d[1]),q.forEach(o),n=j(k),s=u(k,"TD",{class:!0});var Y=_(s);l=A(Y,d[0]),Y.forEach(o),c=j(k),i=u(k,"TD",{class:!0});var T=_(i);m=A(T,d[2]),T.forEach(o),b=j(k),v=u(k,"TD",{class:!0});var g=_(v);p=A(g,E),g.forEach(o),P=j(k),H=u(k,"TD",{title:!0,class:!0});var B=_(H);z=A(B,V),B.forEach(o),I=j(k),R=u(k,"TD",{title:!0,class:!0});var L=_(R);O=A(L,M),L.forEach(o),k.forEach(o),this.h()},h(){f(r,"class","svelte-o4rcm"),f(s,"class","svelte-o4rcm"),f(i,"class","svelte-o4rcm"),f(v,"class","right svelte-o4rcm"),f(H,"title",G=d[3].hash),f(H,"class","svelte-o4rcm"),f(R,"title",N=d[3].previousblockhash),f(R,"class","svelte-o4rcm")},m(S,k){J(S,e,k),a(e,r),a(r,t),a(e,n),a(e,s),a(s,l),a(e,c),a(e,i),a(i,m),a(e,b),a(e,v),a(v,p),a(e,P),a(e,H),a(H,z),a(e,I),a(e,R),a(R,O)},p(S,[k]){k&2&&X(t,S[1]),k&1&&X(l,S[0]),k&4&&X(m,S[2]),k&8&&E!==(E=S[3].height+"")&&X(p,E),k&8&&V!==(V=de(S[3].hash)+"")&&X(z,V),k&8&&G!==(G=S[3].hash)&&f(H,"title",G),k&8&&M!==(M=de(S[3].previousblockhash)+"")&&X(O,M),k&8&&N!==(N=S[3].previousblockhash)&&f(R,"title",N)},i:ee,o:ee,d(S){S&&o(e)}}}function de(d){return d?d.substring(0,8)+"..."+d.substring(d.length-8):""}function Fe(d,e,r){let{name:t}=e,{source:n}=e,{address:s}=e,l=!0,c={},i=null,m;async function b(){try{const v=await fetch(`${s}/bestblockheader/json`);if(!v.ok)throw new Error(`HTTP error! Status: ${v.status}`);r(3,c=await v.json()),i=null,l=!1}catch(v){i=v.message}}return Le(()=>(b(),m=setInterval(b,2e3),()=>clearInterval(m))),d.$$set=v=>{"name"in v&&r(0,t=v.name),"source"in v&&r(1,n=v.source),"address"in v&&r(2,s=v.address)},[t,n,s,c]}class Qe extends ie{constructor(e){super(),fe(this,e,Fe,Je,he,{name:0,source:1,address:2})}}function we(d,e,r){const t=d.slice();return t[2]=e[r],t}function Ue(d){let e,r,t,n,s,l,c,i,m,b,v,E,p,P,H,V,z,G,I,R,M,O,N=[],S=new Map,k,q=d[0];const Y=T=>T[2].ip;for(let T=0;T<q.length;T+=1){let g=we(d,q,T),B=Y(g);S.set(B,N[T]=Ne(B,g))}return{c(){e=h("table"),r=h("thead"),t=h("tr"),n=h("th"),s=D("Source"),l=w(),c=h("th"),i=D("Name"),m=w(),b=h("th"),v=D("Address"),E=w(),p=h("th"),P=D("Height"),H=w(),V=h("th"),z=D("Latest hash"),G=w(),I=h("th"),R=D("Previous hash"),M=w(),O=h("tbody");for(let T=0;T<N.length;T+=1)N[T].c();this.h()},l(T){e=u(T,"TABLE",{class:!0});var g=_(e);r=u(g,"THEAD",{});var B=_(r);t=u(B,"TR",{class:!0});var L=_(t);n=u(L,"TH",{class:!0});var C=_(n);s=A(C,"Source"),C.forEach(o),l=j(L),c=u(L,"TH",{class:!0});var Q=_(c);i=A(Q,"Name"),Q.forEach(o),m=j(L),b=u(L,"TH",{class:!0});var U=_(b);v=A(U,"Address"),U.forEach(o),E=j(L),p=u(L,"TH",{class:!0});var Z=_(p);P=A(Z,"Height"),Z.forEach(o),H=j(L),V=u(L,"TH",{class:!0});var W=_(V);z=A(W,"Latest hash"),W.forEach(o),G=j(L),I=u(L,"TH",{class:!0});var F=_(I);R=A(F,"Previous hash"),F.forEach(o),L.forEach(o),B.forEach(o),M=j(g),O=u(g,"TBODY",{});var y=_(O);for(let K=0;K<N.length;K+=1)N[K].l(y);y.forEach(o),g.forEach(o),this.h()},h(){f(n,"class","svelte-1tjiedb"),f(c,"class","svelte-1tjiedb"),f(b,"class","svelte-1tjiedb"),f(p,"class","right svelte-1tjiedb"),f(V,"class","svelte-1tjiedb"),f(I,"class","svelte-1tjiedb"),f(t,"class","svelte-1tjiedb"),f(e,"class","table svelte-1tjiedb")},m(T,g){J(T,e,g),a(e,r),a(r,t),a(t,n),a(n,s),a(t,l),a(t,c),a(c,i),a(t,m),a(t,b),a(b,v),a(t,E),a(t,p),a(p,P),a(t,H),a(t,V),a(V,z),a(t,G),a(t,I),a(I,R),a(e,M),a(e,O);for(let B=0;B<N.length;B+=1)N[B]&&N[B].m(O,null);k=!0},p(T,g){g&1&&(q=T[0],be(),N=Ce(N,g,Y,1,T,q,S,O,Re,Ne,null,we),pe())},i(T){if(!k){for(let g=0;g<q.length;g+=1)$(N[g]);k=!0}},o(T){for(let g=0;g<N.length;g+=1)te(N[g]);k=!1},d(T){T&&o(e);for(let g=0;g<N.length;g+=1)N[g].d()}}}function We(d){let e,r,t;return{c(){e=h("p"),r=D("Error fetching chaintip data: "),t=D(d[1])},l(n){e=u(n,"P",{});var s=_(e);r=A(s,"Error fetching chaintip data: "),t=A(s,d[1]),s.forEach(o)},m(n,s){J(n,e,s),a(e,r),a(e,t)},p(n,s){s&2&&X(t,n[1])},i:ee,o:ee,d(n){n&&o(e)}}}function je(d){let e,r;return e=new Qe({props:{name:d[2].name,source:d[2].source||"anonymous",address:d[2].blobServerHTTPAddress}}),{c(){ue(e.$$.fragment)},l(t){_e(e.$$.fragment,t)},m(t,n){ve(e,t,n),r=!0},p(t,n){const s={};n&1&&(s.name=t[2].name),n&1&&(s.source=t[2].source||"anonymous"),n&1&&(s.address=t[2].blobServerHTTPAddress),e.$set(s)},i(t){r||($(e.$$.fragment,t),r=!0)},o(t){te(e.$$.fragment,t),r=!1},d(t){me(e,t)}}}function Ne(d,e){let r,t,n,s=e[2].blobServerHTTPAddress&&je(e);return{key:d,first:null,c(){r=ce(),s&&s.c(),t=ce(),this.h()},l(l){r=ce(),s&&s.l(l),t=ce(),this.h()},h(){this.first=r},m(l,c){J(l,r,c),s&&s.m(l,c),J(l,t,c),n=!0},p(l,c){e=l,e[2].blobServerHTTPAddress?s?(s.p(e,c),c&1&&$(s,1)):(s=je(e),s.c(),$(s,1),s.m(t.parentNode,t)):s&&(be(),te(s,1,1,()=>{s=null}),pe())},i(l){n||($(s),n=!0)},o(l){te(s),n=!1},d(l){l&&o(r),s&&s.d(l),l&&o(t)}}}function Xe(d){let e,r,t,n,s,l,c,i,m;const b=[We,Ue],v=[];function E(p,P){return p[1]?0:1}return c=E(d),i=v[c]=b[c](d),{c(){e=h("div"),r=h("header"),t=h("p"),n=D("Chaintip tracker"),s=w(),l=h("div"),i.c(),this.h()},l(p){e=u(p,"DIV",{class:!0});var P=_(e);r=u(P,"HEADER",{class:!0});var H=_(r);t=u(H,"P",{class:!0});var V=_(t);n=A(V,"Chaintip tracker"),V.forEach(o),H.forEach(o),s=j(P),l=u(P,"DIV",{class:!0});var z=_(l);i.l(z),z.forEach(o),P.forEach(o),this.h()},h(){f(t,"class","card-header-title"),f(r,"class","card-header"),f(l,"class","card-content svelte-1tjiedb"),f(e,"class","card panel svelte-1tjiedb")},m(p,P){J(p,e,P),a(e,r),a(r,t),a(t,n),a(e,s),a(e,l),v[c].m(l,null),m=!0},p(p,[P]){let H=c;c=E(p),c===H?v[c].p(p,P):(be(),te(v[H],1,1,()=>{v[H]=null}),pe(),i=v[c],i?i.p(p,P):(i=v[c]=b[c](p),i.c()),$(i,1),i.m(l,null))},i(p){m||($(i),m=!0)},o(p){te(i),m=!1},d(p){p&&o(e),v[c].d()}}}function Ze(d,e,r){let{nodes:t}=e,{error:n}=e;return d.$$set=s=>{"nodes"in s&&r(0,t=s.nodes),"error"in s&&r(1,n=s.error)},[t,n]}class $e extends ie{constructor(e){super(),fe(this,e,Ze,Xe,he,{nodes:0,error:1})}}function xe(d){let e,r,t,n,s,l,c,i,m,b,v,E,p,P,H,V,z,G,I,R,M,O,N,S,k,q,Y,T,g,B,L,C,Q,U,Z,W,F;return U=new Ge({props:{nodes:d[0],loading:d[1],error:d[2]}}),W=new $e({props:{nodes:d[0],loading:d[1]}}),{c(){e=h("link"),r=h("link"),t=h("style"),n=D(`body {
			font-family: 'Roboto', sans-serif;
			background-color: #f4f4f4;
			margin: 0;
			padding: 0;
			padding-top: 52px; /* Adjust for the height of the fixed navbar */
		}

		/* Custom darker blue color */
		.navbar.is-primary {
			background-color: #004466; /* Change this value to your preferred shade of dark blue */
		}

		/* Add more global styles as needed */`),s=w(),l=h("nav"),c=h("div"),i=h("a"),m=h("h1"),b=D("Teranode Dashboard"),v=w(),E=h("a"),p=h("span"),P=w(),H=h("span"),V=w(),z=h("span"),G=w(),I=h("div"),R=h("div"),M=h("a"),O=D("Home"),N=w(),S=h("a"),k=D("Documentation"),q=w(),Y=h("div"),T=h("div"),g=h("div"),B=h("a"),L=D("Log in"),C=w(),Q=h("div"),ue(U.$$.fragment),Z=w(),ue(W.$$.fragment),this.h()},l(y){const K=Be("svelte-qzf459",document.head);e=u(K,"LINK",{rel:!0,href:!0}),r=u(K,"LINK",{href:!0,rel:!0,type:!0}),t=u(K,"STYLE",{});var re=_(t);n=A(re,`body {
			font-family: 'Roboto', sans-serif;
			background-color: #f4f4f4;
			margin: 0;
			padding: 0;
			padding-top: 52px; /* Adjust for the height of the fixed navbar */
		}

		/* Custom darker blue color */
		.navbar.is-primary {
			background-color: #004466; /* Change this value to your preferred shade of dark blue */
		}

		/* Add more global styles as needed */`),re.forEach(o),K.forEach(o),s=j(y),l=u(y,"NAV",{class:!0});var x=_(l);c=u(x,"DIV",{class:!0});var se=_(c);i=u(se,"A",{class:!0,href:!0});var ge=_(i);m=u(ge,"H1",{});var Ee=_(m);b=A(Ee,"Teranode Dashboard"),Ee.forEach(o),ge.forEach(o),v=j(se),E=u(se,"A",{role:!0,class:!0,href:!0,"aria-label":!0,"aria-expanded":!0,"data-target":!0});var ae=_(E);p=u(ae,"SPAN",{"aria-hidden":!0}),_(p).forEach(o),P=j(ae),H=u(ae,"SPAN",{"aria-hidden":!0}),_(H).forEach(o),V=j(ae),z=u(ae,"SPAN",{"aria-hidden":!0}),_(z).forEach(o),ae.forEach(o),se.forEach(o),G=j(x),I=u(x,"DIV",{id:!0,class:!0});var le=_(I);R=u(le,"DIV",{class:!0});var ne=_(R);M=u(ne,"A",{class:!0,href:!0});var ke=_(M);O=A(ke,"Home"),ke.forEach(o),N=j(ne),S=u(ne,"A",{class:!0,href:!0});var Te=_(S);k=A(Te,"Documentation"),Te.forEach(o),ne.forEach(o),q=j(le),Y=u(le,"DIV",{class:!0});var ye=_(Y);T=u(ye,"DIV",{class:!0});var De=_(T);g=u(De,"DIV",{class:!0});var Ae=_(g);B=u(Ae,"A",{class:!0,href:!0});var He=_(B);L=A(He,"Log in"),He.forEach(o),Ae.forEach(o),De.forEach(o),ye.forEach(o),le.forEach(o),x.forEach(o),C=j(y),Q=u(y,"DIV",{});var oe=_(Q);_e(U.$$.fragment,oe),Z=j(oe),_e(W.$$.fragment,oe),oe.forEach(o),this.h()},h(){f(e,"rel","stylesheet"),f(e,"href","https://cdn.jsdelivr.net/npm/bulma@0.9.3/css/bulma.min.css"),f(r,"href","http://fonts.googleapis.com/css?family=Roboto"),f(r,"rel","stylesheet"),f(r,"type","text/css"),f(i,"class","navbar-item"),f(i,"href","#"),f(p,"aria-hidden","true"),f(H,"aria-hidden","true"),f(z,"aria-hidden","true"),f(E,"role","button"),f(E,"class","navbar-burger"),f(E,"href","#"),f(E,"aria-label","menu"),f(E,"aria-expanded","false"),f(E,"data-target","navbarBasicExample"),f(c,"class","navbar-brand"),f(M,"class","navbar-item"),f(M,"href","#"),f(S,"class","navbar-item"),f(S,"href","#"),f(R,"class","navbar-start"),f(B,"class","button is-light"),f(B,"href","#"),f(g,"class","buttons"),f(T,"class","navbar-item"),f(Y,"class","navbar-end"),f(I,"id","navbarBasicExample"),f(I,"class","navbar-menu"),f(l,"class","navbar is-primary is-fixed-top")},m(y,K){a(document.head,e),a(document.head,r),a(document.head,t),a(t,n),J(y,s,K),J(y,l,K),a(l,c),a(c,i),a(i,m),a(m,b),a(c,v),a(c,E),a(E,p),a(E,P),a(E,H),a(E,V),a(E,z),a(l,G),a(l,I),a(I,R),a(R,M),a(M,O),a(R,N),a(R,S),a(S,k),a(I,q),a(I,Y),a(Y,T),a(T,g),a(g,B),a(B,L),J(y,C,K),J(y,Q,K),ve(U,Q,null),a(Q,Z),ve(W,Q,null),F=!0},p(y,[K]){const re={};K&1&&(re.nodes=y[0]),K&2&&(re.loading=y[1]),K&4&&(re.error=y[2]),U.$set(re);const x={};K&1&&(x.nodes=y[0]),K&2&&(x.loading=y[1]),W.$set(x)},i(y){F||($(U.$$.fragment,y),$(W.$$.fragment,y),F=!0)},o(y){te(U.$$.fragment,y),te(W.$$.fragment,y),F=!1},d(y){o(e),o(r),o(t),y&&o(s),y&&o(l),y&&o(C),y&&o(Q),me(U),me(W)}}}function et(d,e,r){let t=[],n=!0,s=null,l;async function c(){try{const i=await fetch("https://bootstrap.ubsv.dev:8099/nodes");if(!i.ok)throw new Error(`HTTP error! Status: ${i.status}`);r(0,t=await i.json()),r(2,s=null),r(1,n=!1)}catch(i){r(2,s=i.message)}}return Le(()=>(c(),l=setInterval(c,2e3),()=>clearInterval(l))),[t,n,s]}class rt extends ie{constructor(e){super(),fe(this,e,et,xe,he,{})}}export{rt as component};
