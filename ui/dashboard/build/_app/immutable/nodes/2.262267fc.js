import{S as re,i as se,s as ae,k as u,q as D,a as S,l as _,m as v,r as y,h as i,c as C,n as E,b as K,E as n,I as U,J as le,K as ge,u as V,L as ke,v as he,d as W,f as fe,g as F,e as ee,M as $e,y as oe,z as ce,A as de,B as ie}from"../chunks/index.8ccf29b8.js";import{e as Ee,n as Te}from"../chunks/nodeStore.0caa9b15.js";function ue(c,e,l){const t=c.slice();return t[2]=e[l],t}function De(c){let e,l,t=[],s=new Map,a=c[1];const r=o=>o[2].ip;for(let o=0;o<a.length;o+=1){let h=ue(c,a,o),f=r(h);s.set(f,t[o]=_e(f,h))}return{c(){e=u("table"),l=u("tbody");for(let o=0;o<t.length;o+=1)t[o].c();this.h()},l(o){e=_(o,"TABLE",{class:!0});var h=v(e);l=_(h,"TBODY",{});var f=v(l);for(let p=0;p<t.length;p+=1)t[p].l(f);f.forEach(i),h.forEach(i),this.h()},h(){E(e,"class","table svelte-z3c8pd")},m(o,h){K(o,e,h),n(e,l);for(let f=0;f<t.length;f+=1)t[f]&&t[f].m(l,null)},p(o,h){h&2&&(a=o[1],t=ge(t,h,r,1,o,a,s,l,ke,_e,null,ue))},d(o){o&&i(e);for(let h=0;h<t.length;h+=1)t[h].d()}}}function ye(c){let e,l;return{c(){e=u("p"),l=D("No nodes connected")},l(t){e=_(t,"P",{});var s=v(e);l=y(s,"No nodes connected"),s.forEach(i)},m(t,s){K(t,e,s),n(e,l)},p:U,d(t){t&&i(e)}}}function Ae(c){let e,l,t;return{c(){e=u("p"),l=D("Error fetching nodes: "),t=D(c[0])},l(s){e=_(s,"P",{});var a=v(e);l=y(a,"Error fetching nodes: "),t=y(a,c[0]),a.forEach(i)},m(s,a){K(s,e,a),n(e,l),n(e,t)},p(s,a){a&1&&V(t,s[0])},d(s){s&&i(e)}}}function _e(c,e){let l,t,s=(e[2].blobServerHTTPAddress||"anonymous")+"",a,r,o,h=e[2].source+"",f,p,m,q=e[2].name+"",b,T,P,N=e[2].ip+"",B,M,A,Y,L=new Date(e[2].connectedAt).toISOString().replace("T"," ")+"",R,k,J,O,w,H=ve(e[2].connectedAt)+"",d,g,I;return{key:c,first:null,c(){l=u("tr"),t=u("td"),a=D(s),r=S(),o=u("td"),f=D(h),p=S(),m=u("td"),b=D(q),T=S(),P=u("td"),B=D(N),M=S(),A=u("td"),Y=D("Connected at "),R=D(L),k=S(),J=u("br"),O=S(),w=u("span"),d=D(H),g=D(" ago"),I=S(),this.h()},l(z){l=_(z,"TR",{class:!0});var $=v(l);t=_($,"TD",{});var G=v(t);a=y(G,s),G.forEach(i),r=C($),o=_($,"TD",{});var Q=v(o);f=y(Q,h),Q.forEach(i),p=C($),m=_($,"TD",{});var Z=v(m);b=y(Z,q),Z.forEach(i),T=C($),P=_($,"TD",{});var x=v(P);B=y(x,N),x.forEach(i),M=C($),A=_($,"TD",{});var j=v(A);Y=y(j,"Connected at "),R=y(j,L),k=C(j),J=_(j,"BR",{}),O=C(j),w=_(j,"SPAN",{class:!0});var X=v(w);d=y(X,H),g=y(X," ago"),X.forEach(i),j.forEach(i),I=C($),$.forEach(i),this.h()},h(){E(w,"class","small svelte-z3c8pd"),E(l,"class","svelte-z3c8pd"),this.first=l},m(z,$){K(z,l,$),n(l,t),n(t,a),n(l,r),n(l,o),n(o,f),n(l,p),n(l,m),n(m,b),n(l,T),n(l,P),n(P,B),n(l,M),n(l,A),n(A,Y),n(A,R),n(A,k),n(A,J),n(A,O),n(A,w),n(w,d),n(w,g),n(l,I)},p(z,$){e=z,$&2&&s!==(s=(e[2].blobServerHTTPAddress||"anonymous")+"")&&V(a,s),$&2&&h!==(h=e[2].source+"")&&V(f,h),$&2&&q!==(q=e[2].name+"")&&V(b,q),$&2&&N!==(N=e[2].ip+"")&&V(B,N),$&2&&L!==(L=new Date(e[2].connectedAt).toISOString().replace("T"," ")+"")&&V(R,L),$&2&&H!==(H=ve(e[2].connectedAt)+"")&&V(d,H)},d(z){z&&i(l)}}}function He(c){let e,l,t,s,a,r;function o(p,m){return p[0]?Ae:p[1].length===0?ye:De}let h=o(c),f=h(c);return{c(){e=u("div"),l=u("header"),t=u("p"),s=D("Connected nodes"),a=S(),r=u("div"),f.c(),this.h()},l(p){e=_(p,"DIV",{class:!0});var m=v(e);l=_(m,"HEADER",{class:!0});var q=v(l);t=_(q,"P",{class:!0});var b=v(t);s=y(b,"Connected nodes"),b.forEach(i),q.forEach(i),a=C(m),r=_(m,"DIV",{class:!0});var T=v(r);f.l(T),T.forEach(i),m.forEach(i),this.h()},h(){E(t,"class","card-header-title"),E(l,"class","card-header"),E(r,"class","card-content"),E(e,"class","card panel svelte-z3c8pd")},m(p,m){K(p,e,m),n(e,l),n(l,t),n(t,s),n(e,a),n(e,r),f.m(r,null)},p(p,[m]){h===(h=o(p))&&f?f.p(p,m):(f.d(1),f=h(p),f&&(f.c(),f.m(r,null)))},i:U,o:U,d(p){p&&i(e),f.d()}}}function ve(c){let e=new Date().getTime()-new Date(c).getTime();e=e/1e3;const l=Math.floor(e/86400),t=Math.floor(e%86400/3600),s=Math.floor(e%86400%3600/60),a=Math.floor(e%86400%3600%60);let r="";return l>0?(r+=l,r+=" day"+(l===1?", ":"s, "),r+=t,r+=" hour"+(t===1?", ":"s, "),r+=s,r+=" minute"+(s===1?" and ":"s and "),r+=a,r+=" second"+(a===1?"":"s"),r):t>0?(r+=t,r+=" hour"+(t===1?", ":"s, "),r+=s,r+=" minute"+(s===1?" and ":"s and "),r+=a,r+=" second"+(a===1?"":"s"),r):s>0?(r+=s,r+=" minute"+(s===1?" and ":"s and "),r+=a,r+=" second"+(a===1?"":"s"),r):a>0?(r+=a,r+=" second"+(a===1?"":"s"),r):"0 seconds"}function ze(c,e,l){let t,s;return le(c,Ee,a=>l(0,t=a)),le(c,Te,a=>l(1,s=a)),[t,s]}class Pe extends re{constructor(e){super(),se(this,e,ze,He,ae,{})}}function Se(c){let e,l,t=(c[0].source||"anonymous")+"",s,a,r,o=c[0].name+"",h,f,p,m=c[0].blobServerHTTPAddress+"",q,b,T,P=c[0].header.height+"",N,B,M,A=te(c[0].header.hash)+"",Y,L,R,k,J=te(c[0].header.previousblockhash)+"",O,w;return{c(){e=u("tr"),l=u("td"),s=D(t),a=S(),r=u("td"),h=D(o),f=S(),p=u("td"),q=D(m),b=S(),T=u("td"),N=D(P),B=S(),M=u("td"),Y=D(A),R=S(),k=u("td"),O=D(J),this.h()},l(H){e=_(H,"TR",{});var d=v(e);l=_(d,"TD",{class:!0});var g=v(l);s=y(g,t),g.forEach(i),a=C(d),r=_(d,"TD",{class:!0});var I=v(r);h=y(I,o),I.forEach(i),f=C(d),p=_(d,"TD",{class:!0});var z=v(p);q=y(z,m),z.forEach(i),b=C(d),T=_(d,"TD",{class:!0});var $=v(T);N=y($,P),$.forEach(i),B=C(d),M=_(d,"TD",{title:!0,class:!0});var G=v(M);Y=y(G,A),G.forEach(i),R=C(d),k=_(d,"TD",{title:!0,class:!0});var Q=v(k);O=y(Q,J),Q.forEach(i),d.forEach(i),this.h()},h(){E(l,"class","svelte-o4rcm"),E(r,"class","svelte-o4rcm"),E(p,"class","svelte-o4rcm"),E(T,"class","right svelte-o4rcm"),E(M,"title",L=c[0].header.hash),E(M,"class","svelte-o4rcm"),E(k,"title",w=c[0].header.previousblockhash),E(k,"class","svelte-o4rcm")},m(H,d){K(H,e,d),n(e,l),n(l,s),n(e,a),n(e,r),n(r,h),n(e,f),n(e,p),n(p,q),n(e,b),n(e,T),n(T,N),n(e,B),n(e,M),n(M,Y),n(e,R),n(e,k),n(k,O)},p(H,[d]){d&1&&t!==(t=(H[0].source||"anonymous")+"")&&V(s,t),d&1&&o!==(o=H[0].name+"")&&V(h,o),d&1&&m!==(m=H[0].blobServerHTTPAddress+"")&&V(q,m),d&1&&P!==(P=H[0].header.height+"")&&V(N,P),d&1&&A!==(A=te(H[0].header.hash)+"")&&V(Y,A),d&1&&L!==(L=H[0].header.hash)&&E(M,"title",L),d&1&&J!==(J=te(H[0].header.previousblockhash)+"")&&V(O,J),d&1&&w!==(w=H[0].header.previousblockhash)&&E(k,"title",w)},i:U,o:U,d(H){H&&i(e)}}}function te(c){return c?c.substring(0,8)+"..."+c.substring(c.length-8):""}function Ce(c,e,l){let{node:t}=e;return c.$$set=s=>{"node"in s&&l(0,t=s.node)},[t]}class qe extends re{constructor(e){super(),se(this,e,Ce,Se,ae,{node:0})}}function pe(c,e,l){const t=c.slice();return t[2]=e[l],t}function Ne(c){let e,l,t,s,a,r,o,h,f,p,m,q,b,T,P,N,B,M,A,Y,L,R,k=[],J=new Map,O,w=c[1];const H=d=>d[2].ip;for(let d=0;d<w.length;d+=1){let g=pe(c,w,d),I=H(g);J.set(I,k[d]=be(I,g))}return{c(){e=u("table"),l=u("thead"),t=u("tr"),s=u("th"),a=D("Source"),r=S(),o=u("th"),h=D("Name"),f=S(),p=u("th"),m=D("Address"),q=S(),b=u("th"),T=D("Height"),P=S(),N=u("th"),B=D("Latest hash"),M=S(),A=u("th"),Y=D("Previous hash"),L=S(),R=u("tbody");for(let d=0;d<k.length;d+=1)k[d].c();this.h()},l(d){e=_(d,"TABLE",{class:!0});var g=v(e);l=_(g,"THEAD",{});var I=v(l);t=_(I,"TR",{class:!0});var z=v(t);s=_(z,"TH",{class:!0});var $=v(s);a=y($,"Source"),$.forEach(i),r=C(z),o=_(z,"TH",{class:!0});var G=v(o);h=y(G,"Name"),G.forEach(i),f=C(z),p=_(z,"TH",{class:!0});var Q=v(p);m=y(Q,"Address"),Q.forEach(i),q=C(z),b=_(z,"TH",{class:!0});var Z=v(b);T=y(Z,"Height"),Z.forEach(i),P=C(z),N=_(z,"TH",{class:!0});var x=v(N);B=y(x,"Latest hash"),x.forEach(i),M=C(z),A=_(z,"TH",{class:!0});var j=v(A);Y=y(j,"Previous hash"),j.forEach(i),z.forEach(i),I.forEach(i),L=C(g),R=_(g,"TBODY",{});var X=v(R);for(let ne=0;ne<k.length;ne+=1)k[ne].l(X);X.forEach(i),g.forEach(i),this.h()},h(){E(s,"class","svelte-x1qltz"),E(o,"class","svelte-x1qltz"),E(p,"class","svelte-x1qltz"),E(b,"class","right svelte-x1qltz"),E(N,"class","svelte-x1qltz"),E(A,"class","svelte-x1qltz"),E(t,"class","svelte-x1qltz"),E(e,"class","table svelte-x1qltz")},m(d,g){K(d,e,g),n(e,l),n(l,t),n(t,s),n(s,a),n(t,r),n(t,o),n(o,h),n(t,f),n(t,p),n(p,m),n(t,q),n(t,b),n(b,T),n(t,P),n(t,N),n(N,B),n(t,M),n(t,A),n(A,Y),n(e,L),n(e,R);for(let I=0;I<k.length;I+=1)k[I]&&k[I].m(R,null);O=!0},p(d,g){g&2&&(w=d[1],he(),k=ge(k,g,H,1,d,w,J,R,$e,be,null,pe),fe())},i(d){if(!O){for(let g=0;g<w.length;g+=1)F(k[g]);O=!0}},o(d){for(let g=0;g<k.length;g+=1)W(k[g]);O=!1},d(d){d&&i(e);for(let g=0;g<k.length;g+=1)k[g].d()}}}function we(c){let e,l;return{c(){e=u("p"),l=D(c[0])},l(t){e=_(t,"P",{});var s=v(e);l=y(s,c[0]),s.forEach(i)},m(t,s){K(t,e,s),n(e,l)},p(t,s){s&1&&V(l,t[0])},i:U,o:U,d(t){t&&i(e)}}}function me(c){let e,l;return e=new qe({props:{node:c[2]}}),{c(){oe(e.$$.fragment)},l(t){ce(e.$$.fragment,t)},m(t,s){de(e,t,s),l=!0},p(t,s){const a={};s&2&&(a.node=t[2]),e.$set(a)},i(t){l||(F(e.$$.fragment,t),l=!0)},o(t){W(e.$$.fragment,t),l=!1},d(t){ie(e,t)}}}function be(c,e){let l,t,s,a=e[2].blobServerHTTPAddress&&me(e);return{key:c,first:null,c(){l=ee(),a&&a.c(),t=ee(),this.h()},l(r){l=ee(),a&&a.l(r),t=ee(),this.h()},h(){this.first=l},m(r,o){K(r,l,o),a&&a.m(r,o),K(r,t,o),s=!0},p(r,o){e=r,e[2].blobServerHTTPAddress?a?(a.p(e,o),o&2&&F(a,1)):(a=me(e),a.c(),F(a,1),a.m(t.parentNode,t)):a&&(he(),W(a,1,1,()=>{a=null}),fe())},i(r){s||(F(a),s=!0)},o(r){W(a),s=!1},d(r){r&&i(l),a&&a.d(r),r&&i(t)}}}function Ie(c){let e,l,t,s,a,r,o,h,f;const p=[we,Ne],m=[];function q(b,T){return b[0]?0:1}return o=q(c),h=m[o]=p[o](c),{c(){e=u("div"),l=u("header"),t=u("p"),s=D("Chaintip tracker"),a=S(),r=u("div"),h.c(),this.h()},l(b){e=_(b,"DIV",{class:!0});var T=v(e);l=_(T,"HEADER",{class:!0});var P=v(l);t=_(P,"P",{class:!0});var N=v(t);s=y(N,"Chaintip tracker"),N.forEach(i),P.forEach(i),a=C(T),r=_(T,"DIV",{class:!0});var B=v(r);h.l(B),B.forEach(i),T.forEach(i),this.h()},h(){E(t,"class","card-header-title"),E(l,"class","card-header"),E(r,"class","card-content svelte-x1qltz"),E(e,"class","card panel svelte-x1qltz")},m(b,T){K(b,e,T),n(e,l),n(l,t),n(t,s),n(e,a),n(e,r),m[o].m(r,null),f=!0},p(b,[T]){let P=o;o=q(b),o===P?m[o].p(b,T):(he(),W(m[P],1,1,()=>{m[P]=null}),fe(),h=m[o],h?h.p(b,T):(h=m[o]=p[o](b),h.c()),F(h,1),h.m(r,null))},i(b){f||(F(h),f=!0)},o(b){W(h),f=!1},d(b){b&&i(e),m[o].d()}}}function Me(c,e,l){let t,s;return le(c,Ee,a=>l(0,t=a)),le(c,Te,a=>l(1,s=a)),[t,s]}class Be extends re{constructor(e){super(),se(this,e,Me,Ie,ae,{})}}function Re(c){let e,l,t,s,a;return l=new Pe({}),s=new Be({}),{c(){e=u("div"),oe(l.$$.fragment),t=S(),oe(s.$$.fragment)},l(r){e=_(r,"DIV",{});var o=v(e);ce(l.$$.fragment,o),t=C(o),ce(s.$$.fragment,o),o.forEach(i)},m(r,o){K(r,e,o),de(l,e,null),n(e,t),de(s,e,null),a=!0},p:U,i(r){a||(F(l.$$.fragment,r),F(s.$$.fragment,r),a=!0)},o(r){W(l.$$.fragment,r),W(s.$$.fragment,r),a=!1},d(r){r&&i(e),ie(l),ie(s)}}}class Oe extends re{constructor(e){super(),se(this,e,null,Re,ae,{})}}export{Oe as component};
