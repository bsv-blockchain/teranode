import{S as de,i as ie,s as he,k as u,q as A,a as N,l as _,m as p,r as D,h as c,c as V,n as h,b as q,G as l,H as U,J as je,u as z,K as Ne,o as Re,v as pe,d as W,f as me,g as F,e as oe,L as Ve,y as fe,z as ue,A as _e,B as ve,M as Le}from"../chunks/index.05b33c6f.js";function Ce(d,e,r){const t=d.slice();return t[3]=e[r],t}function Ge(d){let e,r,t=[],n=new Map,a=d[0];const s=o=>o[3].blobServerGRPCAddress+"-"+o[3].source;for(let o=0;o<a.length;o+=1){let i=Ce(d,a,o),m=s(i);n.set(m,t[o]=Pe(m,i))}return{c(){e=u("table"),r=u("tbody");for(let o=0;o<t.length;o+=1)t[o].c();this.h()},l(o){e=_(o,"TABLE",{class:!0});var i=p(e);r=_(i,"TBODY",{});var m=p(r);for(let v=0;v<t.length;v+=1)t[v].l(m);m.forEach(c),i.forEach(c),this.h()},h(){h(e,"class","table svelte-1poyecq")},m(o,i){q(o,e,i),l(e,r);for(let m=0;m<t.length;m+=1)t[m]&&t[m].m(r,null)},p(o,i){i&1&&(a=o[0],t=je(t,i,s,1,o,a,n,r,Ne,Pe,null,Ce))},d(o){o&&c(e);for(let i=0;i<t.length;i+=1)t[i].d()}}}function Me(d){let e,r;return{c(){e=u("p"),r=A("No nodes connected")},l(t){e=_(t,"P",{});var n=p(e);r=D(n,"No nodes connected"),n.forEach(c)},m(t,n){q(t,e,n),l(e,r)},p:U,d(t){t&&c(e)}}}function Be(d){let e,r;return{c(){e=u("p"),r=A("Loading...")},l(t){e=_(t,"P",{});var n=p(e);r=D(n,"Loading..."),n.forEach(c)},m(t,n){q(t,e,n),l(e,r)},p:U,d(t){t&&c(e)}}}function qe(d){let e,r,t;return{c(){e=u("p"),r=A("Error fetching nodes: "),t=A(d[2])},l(n){e=_(n,"P",{});var a=p(e);r=D(a,"Error fetching nodes: "),t=D(a,d[2]),a.forEach(c)},m(n,a){q(n,e,a),l(e,r),l(e,t)},p(n,a){a&4&&z(t,n[2])},d(n){n&&c(e)}}}function Pe(d,e){let r,t,n=(e[3].blobServerGRPCAddress||"anonymous")+"",a,s,o,i=e[3].source+"",m,v,f,P,b=new Date(e[3].connectedAt).toISOString().replace("T"," ")+"",y,j,S=Ie(e[3].connectedAt)+"",w,R,H;return{key:d,first:null,c(){r=u("tr"),t=u("td"),a=A(n),s=N(),o=u("td"),m=A(i),v=N(),f=u("td"),P=A("Connected at "),y=A(b),j=A(" ("),w=A(S),R=A(" ago)"),H=N(),this.h()},l(g){r=_(g,"TR",{class:!0});var E=p(r);t=_(E,"TD",{});var T=p(t);a=D(T,n),T.forEach(c),s=V(E),o=_(E,"TD",{});var G=p(o);m=D(G,i),G.forEach(c),v=V(E),f=_(E,"TD",{});var B=p(f);P=D(B,"Connected at "),y=D(B,b),j=D(B," ("),w=D(B,S),R=D(B," ago)"),B.forEach(c),H=V(E),E.forEach(c),this.h()},h(){h(r,"class","svelte-1poyecq"),this.first=r},m(g,E){q(g,r,E),l(r,t),l(t,a),l(r,s),l(r,o),l(o,m),l(r,v),l(r,f),l(f,P),l(f,y),l(f,j),l(f,w),l(f,R),l(r,H)},p(g,E){e=g,E&1&&n!==(n=(e[3].blobServerGRPCAddress||"anonymous")+"")&&z(a,n),E&1&&i!==(i=e[3].source+"")&&z(m,i),E&1&&b!==(b=new Date(e[3].connectedAt).toISOString().replace("T"," ")+"")&&z(y,b),E&1&&S!==(S=Ie(e[3].connectedAt)+"")&&z(w,S)},d(g){g&&c(r)}}}function $e(d){let e,r,t,n,a,s;function o(v,f){return v[2]?qe:v[1]?Be:v[0].length===0?Me:Ge}let i=o(d),m=i(d);return{c(){e=u("div"),r=u("header"),t=u("p"),n=A("Connected nodes"),a=N(),s=u("div"),m.c(),this.h()},l(v){e=_(v,"DIV",{class:!0});var f=p(e);r=_(f,"HEADER",{class:!0});var P=p(r);t=_(P,"P",{class:!0});var b=p(t);n=D(b,"Connected nodes"),b.forEach(c),P.forEach(c),a=V(f),s=_(f,"DIV",{class:!0});var y=p(s);m.l(y),y.forEach(c),f.forEach(c),this.h()},h(){h(t,"class","card-header-title"),h(r,"class","card-header"),h(s,"class","card-content"),h(e,"class","card panel svelte-1poyecq")},m(v,f){q(v,e,f),l(e,r),l(r,t),l(t,n),l(e,a),l(e,s),m.m(s,null)},p(v,[f]){i===(i=o(v))&&m?m.p(v,f):(m.d(1),m=i(v),m&&(m.c(),m.m(s,null)))},i:U,o:U,d(v){v&&c(e),m.d()}}}function Ie(d){let e=new Date().getTime()-new Date(d).getTime();e=e/1e3;const r=Math.floor(e/86400),t=Math.floor(e%86400/3600),n=Math.floor(e%86400%3600/60),a=Math.floor(e%86400%3600%60);let s="";return r>0?(s+=r,s+=" day"+(r===1?", ":"s, "),s+=t,s+=" hour"+(t===1?", ":"s, "),s+=n,s+=" minute"+(n===1?" and ":"s and "),s+=a,s+=" second"+(a===1?"":"s"),s):t>0?(s+=t,s+=" hour"+(t===1?", ":"s, "),s+=n,s+=" minute"+(n===1?" and ":"s and "),s+=a,s+=" second"+(a===1?"":"s"),s):n>0?(s+=n,s+=" minute"+(n===1?" and ":"s and "),s+=a,s+=" second"+(a===1?"":"s"),s):a>0?(s+=a,s+=" second"+(a===1?"":"s"),s):"0 seconds"}function Oe(d,e,r){let{nodes:t}=e,{loading:n}=e,{error:a}=e;return d.$$set=s=>{"nodes"in s&&r(0,t=s.nodes),"loading"in s&&r(1,n=s.loading),"error"in s&&r(2,a=s.error)},[t,n,a]}class Ye extends de{constructor(e){super(),ie(this,e,Oe,$e,he,{nodes:0,loading:1,error:2})}}function Ke(d){let e,r,t,n,a,s,o,i,m=d[2].height+"",v,f,P,b=ce(d[2].hash)+"",y,j,S,w,R=ce(d[2].previousblockhash)+"",H,g;return{c(){e=u("tr"),r=u("td"),t=A(d[0]),n=N(),a=u("td"),s=A(d[1]),o=N(),i=u("td"),v=A(m),f=N(),P=u("td"),y=A(b),S=N(),w=u("td"),H=A(R),this.h()},l(E){e=_(E,"TR",{});var T=p(e);r=_(T,"TD",{class:!0});var G=p(r);t=D(G,d[0]),G.forEach(c),n=V(T),a=_(T,"TD",{class:!0});var B=p(a);s=D(B,d[1]),B.forEach(c),o=V(T),i=_(T,"TD",{class:!0});var C=p(i);v=D(C,m),C.forEach(c),f=V(T),P=_(T,"TD",{title:!0,class:!0});var k=p(P);y=D(k,b),k.forEach(c),S=V(T),w=_(T,"TD",{title:!0,class:!0});var L=p(w);H=D(L,R),L.forEach(c),T.forEach(c),this.h()},h(){h(r,"class","svelte-s4thdc"),h(a,"class","svelte-s4thdc"),h(i,"class","svelte-s4thdc"),h(P,"title",j=d[2].hash),h(P,"class","svelte-s4thdc"),h(w,"title",g=d[2].previousblockhash),h(w,"class","svelte-s4thdc")},m(E,T){q(E,e,T),l(e,r),l(r,t),l(e,n),l(e,a),l(a,s),l(e,o),l(e,i),l(i,v),l(e,f),l(e,P),l(P,y),l(e,S),l(e,w),l(w,H)},p(E,[T]){T&1&&z(t,E[0]),T&2&&z(s,E[1]),T&4&&m!==(m=E[2].height+"")&&z(v,m),T&4&&b!==(b=ce(E[2].hash)+"")&&z(y,b),T&4&&j!==(j=E[2].hash)&&h(P,"title",j),T&4&&R!==(R=ce(E[2].previousblockhash)+"")&&z(H,R),T&4&&g!==(g=E[2].previousblockhash)&&h(w,"title",g)},i:U,o:U,d(E){E&&c(e)}}}function ce(d){return d?d.substring(0,8)+"..."+d.substring(d.length-8):""}function ze(d,e,r){let{name:t}=e,{address:n}=e,a=!0,s={},o=null,i;async function m(){try{const v=await fetch(`http://${n}/bestblockheader/json`);if(!v.ok)throw new Error(`HTTP error! Status: ${v.status}`);r(2,s=await v.json()),o=null,a=!1}catch(v){o=v.message}}return Re(()=>(m(),i=setInterval(m,2e3),()=>clearInterval(i))),d.$$set=v=>{"name"in v&&r(0,t=v.name),"address"in v&&r(1,n=v.address)},[t,n,s]}class Je extends de{constructor(e){super(),ie(this,e,ze,Ke,he,{name:0,address:1})}}function Se(d,e,r){const t=d.slice();return t[2]=e[r],t}function Fe(d){let e,r,t,n,a,s,o,i,m,v,f,P,b,y,j,S,w,R,H,g=[],E=new Map,T,G=d[0];const B=C=>C[2].blobServerGRPCAddress+"-"+C[2].source;for(let C=0;C<G.length;C+=1){let k=Se(d,G,C),L=B(k);E.set(L,g[C]=He(L,k))}return{c(){e=u("table"),r=u("thead"),t=u("tr"),n=u("th"),a=A("Type"),s=N(),o=u("th"),i=A("Address"),m=N(),v=u("th"),f=A("Height"),P=N(),b=u("th"),y=A("Latest hash"),j=N(),S=u("th"),w=A("Previous hash"),R=N(),H=u("tbody");for(let C=0;C<g.length;C+=1)g[C].c();this.h()},l(C){e=_(C,"TABLE",{class:!0});var k=p(e);r=_(k,"THEAD",{});var L=p(r);t=_(L,"TR",{class:!0});var M=p(t);n=_(M,"TH",{class:!0});var J=p(n);a=D(J,"Type"),J.forEach(c),s=V(M),o=_(M,"TH",{class:!0});var x=p(o);i=D(x,"Address"),x.forEach(c),m=V(M),v=_(M,"TH",{class:!0});var X=p(v);f=D(X,"Height"),X.forEach(c),P=V(M),b=_(M,"TH",{class:!0});var Y=p(b);y=D(Y,"Latest hash"),Y.forEach(c),j=V(M),S=_(M,"TH",{class:!0});var K=p(S);w=D(K,"Previous hash"),K.forEach(c),M.forEach(c),L.forEach(c),R=V(k),H=_(k,"TBODY",{});var ee=p(H);for(let O=0;O<g.length;O+=1)g[O].l(ee);ee.forEach(c),k.forEach(c),this.h()},h(){h(n,"class","svelte-99p0jp"),h(o,"class","svelte-99p0jp"),h(v,"class","svelte-99p0jp"),h(b,"class","svelte-99p0jp"),h(S,"class","svelte-99p0jp"),h(t,"class","svelte-99p0jp"),h(e,"class","table svelte-99p0jp")},m(C,k){q(C,e,k),l(e,r),l(r,t),l(t,n),l(n,a),l(t,s),l(t,o),l(o,i),l(t,m),l(t,v),l(v,f),l(t,P),l(t,b),l(b,y),l(t,j),l(t,S),l(S,w),l(e,R),l(e,H);for(let L=0;L<g.length;L+=1)g[L]&&g[L].m(H,null);T=!0},p(C,k){k&1&&(G=C[0],pe(),g=je(g,k,B,1,C,G,E,H,Ve,He,null,Se),me())},i(C){if(!T){for(let k=0;k<G.length;k+=1)F(g[k]);T=!0}},o(C){for(let k=0;k<g.length;k+=1)W(g[k]);T=!1},d(C){C&&c(e);for(let k=0;k<g.length;k+=1)g[k].d()}}}function Qe(d){let e,r,t;return{c(){e=u("p"),r=A("Error fetching chaintip data: "),t=A(d[1])},l(n){e=_(n,"P",{});var a=p(e);r=D(a,"Error fetching chaintip data: "),t=D(a,d[1]),a.forEach(c)},m(n,a){q(n,e,a),l(e,r),l(e,t)},p(n,a){a&2&&z(t,n[1])},i:U,o:U,d(n){n&&c(e)}}}function we(d){let e,r;return e=new Je({props:{name:d[2].source||"anonymous",address:d[2].blobServerGRPCAddress}}),{c(){fe(e.$$.fragment)},l(t){ue(e.$$.fragment,t)},m(t,n){_e(e,t,n),r=!0},p(t,n){const a={};n&1&&(a.name=t[2].source||"anonymous"),n&1&&(a.address=t[2].blobServerGRPCAddress),e.$set(a)},i(t){r||(F(e.$$.fragment,t),r=!0)},o(t){W(e.$$.fragment,t),r=!1},d(t){ve(e,t)}}}function He(d,e){let r,t,n,a=e[2].blobServerGRPCAddress&&we(e);return{key:d,first:null,c(){r=oe(),a&&a.c(),t=oe(),this.h()},l(s){r=oe(),a&&a.l(s),t=oe(),this.h()},h(){this.first=r},m(s,o){q(s,r,o),a&&a.m(s,o),q(s,t,o),n=!0},p(s,o){e=s,e[2].blobServerGRPCAddress?a?(a.p(e,o),o&1&&F(a,1)):(a=we(e),a.c(),F(a,1),a.m(t.parentNode,t)):a&&(pe(),W(a,1,1,()=>{a=null}),me())},i(s){n||(F(a),n=!0)},o(s){W(a),n=!1},d(s){s&&c(r),a&&a.d(s),s&&c(t)}}}function Ue(d){let e,r,t,n,a,s,o,i,m;const v=[Qe,Fe],f=[];function P(b,y){return b[1]?0:1}return o=P(d),i=f[o]=v[o](d),{c(){e=u("div"),r=u("header"),t=u("p"),n=A("Chaintip tracker"),a=N(),s=u("div"),i.c(),this.h()},l(b){e=_(b,"DIV",{class:!0});var y=p(e);r=_(y,"HEADER",{class:!0});var j=p(r);t=_(j,"P",{class:!0});var S=p(t);n=D(S,"Chaintip tracker"),S.forEach(c),j.forEach(c),a=V(y),s=_(y,"DIV",{class:!0});var w=p(s);i.l(w),w.forEach(c),y.forEach(c),this.h()},h(){h(t,"class","card-header-title"),h(r,"class","card-header"),h(s,"class","card-content svelte-99p0jp"),h(e,"class","card panel svelte-99p0jp")},m(b,y){q(b,e,y),l(e,r),l(r,t),l(t,n),l(e,a),l(e,s),f[o].m(s,null),m=!0},p(b,[y]){let j=o;o=P(b),o===j?f[o].p(b,y):(pe(),W(f[j],1,1,()=>{f[j]=null}),me(),i=f[o],i?i.p(b,y):(i=f[o]=v[o](b),i.c()),F(i,1),i.m(s,null))},i(b){m||(F(i),m=!0)},o(b){W(i),m=!1},d(b){b&&c(e),f[o].d()}}}function We(d,e,r){let{nodes:t}=e,{error:n}=e;return d.$$set=a=>{"nodes"in a&&r(0,t=a.nodes),"error"in a&&r(1,n=a.error)},[t,n]}class Xe extends de{constructor(e){super(),ie(this,e,We,Ue,he,{nodes:0,error:1})}}function Ze(d){let e,r,t,n,a,s,o,i,m,v,f,P,b,y,j,S,w,R,H,g,E,T,G,B,C,k,L,M,J,x,X,Y,K,ee,O,re;return K=new Ye({props:{nodes:d[0],loading:d[1],error:d[2]}}),O=new Xe({props:{nodes:d[0],loading:d[1]}}),{c(){e=u("link"),r=u("style"),t=A(`body {
			font-family: 'Arial', sans-serif;
			background-color: #f4f4f4;
			margin: 0;
			padding: 0;
			padding-top: 52px; /* Adjust for the height of the fixed navbar */
		}

		/* Custom darker blue color */
		.navbar.is-primary {
			background-color: #004466; /* Change this value to your preferred shade of dark blue */
		}

		/* Add more global styles as needed */`),n=N(),a=u("nav"),s=u("div"),o=u("a"),i=u("h1"),m=A("Teranode Dashboard"),v=N(),f=u("a"),P=u("span"),b=N(),y=u("span"),j=N(),S=u("span"),w=N(),R=u("div"),H=u("div"),g=u("a"),E=A("Home"),T=N(),G=u("a"),B=A("Documentation"),C=N(),k=u("div"),L=u("div"),M=u("div"),J=u("a"),x=A("Log in"),X=N(),Y=u("div"),fe(K.$$.fragment),ee=N(),fe(O.$$.fragment),this.h()},l(I){const $=Le("svelte-d8odrr",document.head);e=_($,"LINK",{rel:!0,href:!0}),r=_($,"STYLE",{});var Z=p(r);t=D(Z,`body {
			font-family: 'Arial', sans-serif;
			background-color: #f4f4f4;
			margin: 0;
			padding: 0;
			padding-top: 52px; /* Adjust for the height of the fixed navbar */
		}

		/* Custom darker blue color */
		.navbar.is-primary {
			background-color: #004466; /* Change this value to your preferred shade of dark blue */
		}

		/* Add more global styles as needed */`),Z.forEach(c),$.forEach(c),n=V(I),a=_(I,"NAV",{class:!0});var Q=p(a);s=_(Q,"DIV",{class:!0});var ae=p(s);o=_(ae,"A",{class:!0,href:!0});var be=p(o);i=_(be,"H1",{});var ge=p(i);m=D(ge,"Teranode Dashboard"),ge.forEach(c),be.forEach(c),v=V(ae),f=_(ae,"A",{role:!0,class:!0,href:!0,"aria-label":!0,"aria-expanded":!0,"data-target":!0});var te=p(f);P=_(te,"SPAN",{"aria-hidden":!0}),p(P).forEach(c),b=V(te),y=_(te,"SPAN",{"aria-hidden":!0}),p(y).forEach(c),j=V(te),S=_(te,"SPAN",{"aria-hidden":!0}),p(S).forEach(c),te.forEach(c),ae.forEach(c),w=V(Q),R=_(Q,"DIV",{id:!0,class:!0});var se=p(R);H=_(se,"DIV",{class:!0});var le=p(H);g=_(le,"A",{class:!0,href:!0});var Ee=p(g);E=D(Ee,"Home"),Ee.forEach(c),T=V(le),G=_(le,"A",{class:!0,href:!0});var ke=p(G);B=D(ke,"Documentation"),ke.forEach(c),le.forEach(c),C=V(se),k=_(se,"DIV",{class:!0});var ye=p(k);L=_(ye,"DIV",{class:!0});var Te=p(L);M=_(Te,"DIV",{class:!0});var Ae=p(M);J=_(Ae,"A",{class:!0,href:!0});var De=p(J);x=D(De,"Log in"),De.forEach(c),Ae.forEach(c),Te.forEach(c),ye.forEach(c),se.forEach(c),Q.forEach(c),X=V(I),Y=_(I,"DIV",{});var ne=p(Y);ue(K.$$.fragment,ne),ee=V(ne),ue(O.$$.fragment,ne),ne.forEach(c),this.h()},h(){h(e,"rel","stylesheet"),h(e,"href","https://cdn.jsdelivr.net/npm/bulma@0.9.3/css/bulma.min.css"),h(o,"class","navbar-item"),h(o,"href","#"),h(P,"aria-hidden","true"),h(y,"aria-hidden","true"),h(S,"aria-hidden","true"),h(f,"role","button"),h(f,"class","navbar-burger"),h(f,"href","#"),h(f,"aria-label","menu"),h(f,"aria-expanded","false"),h(f,"data-target","navbarBasicExample"),h(s,"class","navbar-brand"),h(g,"class","navbar-item"),h(g,"href","#"),h(G,"class","navbar-item"),h(G,"href","#"),h(H,"class","navbar-start"),h(J,"class","button is-light"),h(J,"href","#"),h(M,"class","buttons"),h(L,"class","navbar-item"),h(k,"class","navbar-end"),h(R,"id","navbarBasicExample"),h(R,"class","navbar-menu"),h(a,"class","navbar is-primary is-fixed-top")},m(I,$){l(document.head,e),l(document.head,r),l(r,t),q(I,n,$),q(I,a,$),l(a,s),l(s,o),l(o,i),l(i,m),l(s,v),l(s,f),l(f,P),l(f,b),l(f,y),l(f,j),l(f,S),l(a,w),l(a,R),l(R,H),l(H,g),l(g,E),l(H,T),l(H,G),l(G,B),l(R,C),l(R,k),l(k,L),l(L,M),l(M,J),l(J,x),q(I,X,$),q(I,Y,$),_e(K,Y,null),l(Y,ee),_e(O,Y,null),re=!0},p(I,[$]){const Z={};$&1&&(Z.nodes=I[0]),$&2&&(Z.loading=I[1]),$&4&&(Z.error=I[2]),K.$set(Z);const Q={};$&1&&(Q.nodes=I[0]),$&2&&(Q.loading=I[1]),O.$set(Q)},i(I){re||(F(K.$$.fragment,I),F(O.$$.fragment,I),re=!0)},o(I){W(K.$$.fragment,I),W(O.$$.fragment,I),re=!1},d(I){c(e),c(r),I&&c(n),I&&c(a),I&&c(X),I&&c(Y),ve(K),ve(O)}}}function xe(d,e,r){let t=[],n=!0,a=null,s;async function o(){try{const i=await fetch("http://localhost:8099/nodes");if(!i.ok)throw new Error(`HTTP error! Status: ${i.status}`);r(0,t=await i.json()),r(2,a=null),r(1,n=!1)}catch(i){r(2,a=i.message)}}return Re(()=>(o(),s=setInterval(o,2e3),()=>clearInterval(s))),[t,n,a]}class tt extends de{constructor(e){super(),ie(this,e,xe,Ze,he,{})}}export{tt as component};
