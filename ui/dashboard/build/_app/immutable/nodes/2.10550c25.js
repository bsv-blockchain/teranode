import{S as de,i as ie,s as he,k as u,q as T,a as C,l as _,m as p,r as y,h as o,c as N,n as v,b as G,G as s,H as x,J as Ce,u as F,K as Ve,o as Ne,v as pe,d as ee,f as me,g as Z,e as oe,L as Le,y as fe,z as ue,A as _e,B as ve,M as Me}from"../chunks/index.05b33c6f.js";function He(d,e,a){const t=d.slice();return t[3]=e[a],t}function Be(d){let e,a,t=[],n=new Map,r=d[0];const l=c=>c[3].ip;for(let c=0;c<r.length;c+=1){let i=He(d,r,c),m=l(i);n.set(m,t[c]=Ie(m,i))}return{c(){e=u("table"),a=u("tbody");for(let c=0;c<t.length;c+=1)t[c].c();this.h()},l(c){e=_(c,"TABLE",{class:!0});var i=p(e);a=_(i,"TBODY",{});var m=p(a);for(let b=0;b<t.length;b+=1)t[b].l(m);m.forEach(o),i.forEach(o),this.h()},h(){v(e,"class","table svelte-1poyecq")},m(c,i){G(c,e,i),s(e,a);for(let m=0;m<t.length;m+=1)t[m]&&t[m].m(a,null)},p(c,i){i&1&&(r=c[0],t=Ce(t,i,l,1,c,r,n,a,Ve,Ie,null,He))},d(c){c&&o(e);for(let i=0;i<t.length;i+=1)t[i].d()}}}function qe(d){let e,a;return{c(){e=u("p"),a=T("No nodes connected")},l(t){e=_(t,"P",{});var n=p(e);a=y(n,"No nodes connected"),n.forEach(o)},m(t,n){G(t,e,n),s(e,a)},p:x,d(t){t&&o(e)}}}function Re(d){let e,a;return{c(){e=u("p"),a=T("Loading...")},l(t){e=_(t,"P",{});var n=p(e);a=y(n,"Loading..."),n.forEach(o)},m(t,n){G(t,e,n),s(e,a)},p:x,d(t){t&&o(e)}}}function Oe(d){let e,a,t;return{c(){e=u("p"),a=T("Error fetching nodes: "),t=T(d[2])},l(n){e=_(n,"P",{});var r=p(e);a=y(r,"Error fetching nodes: "),t=y(r,d[2]),r.forEach(o)},m(n,r){G(n,e,r),s(e,a),s(e,t)},p(n,r){r&4&&F(t,n[2])},d(n){n&&o(e)}}}function Ie(d,e){let a,t,n=(e[3].blobServerHTTPAddress||"anonymous")+"",r,l,c,i=e[3].source+"",m,b,h,S=e[3].name+"",E,A,H,w=e[3].ip+"",B,M,I,V,O=new Date(e[3].connectedAt).toISOString().replace("T"," ")+"",q,D,j=Pe(e[3].connectedAt)+"",k,Y,K;return{key:d,first:null,c(){a=u("tr"),t=u("td"),r=T(n),l=C(),c=u("td"),m=T(i),b=C(),h=u("td"),E=T(S),A=C(),H=u("td"),B=T(w),M=C(),I=u("td"),V=T("Connected at "),q=T(O),D=T(" ("),k=T(j),Y=T(" ago)"),K=C(),this.h()},l(g){a=_(g,"TR",{class:!0});var f=p(a);t=_(f,"TD",{});var R=p(t);r=y(R,n),R.forEach(o),l=N(f),c=_(f,"TD",{});var L=p(c);m=y(L,i),L.forEach(o),b=N(f),h=_(f,"TD",{});var J=p(h);E=y(J,S),J.forEach(o),A=N(f),H=_(f,"TD",{});var U=p(H);B=y(U,w),U.forEach(o),M=N(f),I=_(f,"TD",{});var Q=p(I);V=y(Q,"Connected at "),q=y(Q,O),D=y(Q," ("),k=y(Q,j),Y=y(Q," ago)"),Q.forEach(o),K=N(f),f.forEach(o),this.h()},h(){v(a,"class","svelte-1poyecq"),this.first=a},m(g,f){G(g,a,f),s(a,t),s(t,r),s(a,l),s(a,c),s(c,m),s(a,b),s(a,h),s(h,E),s(a,A),s(a,H),s(H,B),s(a,M),s(a,I),s(I,V),s(I,q),s(I,D),s(I,k),s(I,Y),s(a,K)},p(g,f){e=g,f&1&&n!==(n=(e[3].blobServerHTTPAddress||"anonymous")+"")&&F(r,n),f&1&&i!==(i=e[3].source+"")&&F(m,i),f&1&&S!==(S=e[3].name+"")&&F(E,S),f&1&&w!==(w=e[3].ip+"")&&F(B,w),f&1&&O!==(O=new Date(e[3].connectedAt).toISOString().replace("T"," ")+"")&&F(q,O),f&1&&j!==(j=Pe(e[3].connectedAt)+"")&&F(k,j)},d(g){g&&o(a)}}}function Ye(d){let e,a,t,n,r,l;function c(b,h){return b[2]?Oe:b[1]?Re:b[0].length===0?qe:Be}let i=c(d),m=i(d);return{c(){e=u("div"),a=u("header"),t=u("p"),n=T("Connected nodes"),r=C(),l=u("div"),m.c(),this.h()},l(b){e=_(b,"DIV",{class:!0});var h=p(e);a=_(h,"HEADER",{class:!0});var S=p(a);t=_(S,"P",{class:!0});var E=p(t);n=y(E,"Connected nodes"),E.forEach(o),S.forEach(o),r=N(h),l=_(h,"DIV",{class:!0});var A=p(l);m.l(A),A.forEach(o),h.forEach(o),this.h()},h(){v(t,"class","card-header-title"),v(a,"class","card-header"),v(l,"class","card-content"),v(e,"class","card panel svelte-1poyecq")},m(b,h){G(b,e,h),s(e,a),s(a,t),s(t,n),s(e,r),s(e,l),m.m(l,null)},p(b,[h]){i===(i=c(b))&&m?m.p(b,h):(m.d(1),m=i(b),m&&(m.c(),m.m(l,null)))},i:x,o:x,d(b){b&&o(e),m.d()}}}function Pe(d){let e=new Date().getTime()-new Date(d).getTime();e=e/1e3;const a=Math.floor(e/86400),t=Math.floor(e%86400/3600),n=Math.floor(e%86400%3600/60),r=Math.floor(e%86400%3600%60);let l="";return a>0?(l+=a,l+=" day"+(a===1?", ":"s, "),l+=t,l+=" hour"+(t===1?", ":"s, "),l+=n,l+=" minute"+(n===1?" and ":"s and "),l+=r,l+=" second"+(r===1?"":"s"),l):t>0?(l+=t,l+=" hour"+(t===1?", ":"s, "),l+=n,l+=" minute"+(n===1?" and ":"s and "),l+=r,l+=" second"+(r===1?"":"s"),l):n>0?(l+=n,l+=" minute"+(n===1?" and ":"s and "),l+=r,l+=" second"+(r===1?"":"s"),l):r>0?(l+=r,l+=" second"+(r===1?"":"s"),l):"0 seconds"}function ze(d,e,a){let{nodes:t}=e,{loading:n}=e,{error:r}=e;return d.$$set=l=>{"nodes"in l&&a(0,t=l.nodes),"loading"in l&&a(1,n=l.loading),"error"in l&&a(2,r=l.error)},[t,n,r]}class Ke extends de{constructor(e){super(),ie(this,e,ze,Ye,he,{nodes:0,loading:1,error:2})}}function Ge(d){let e,a,t,n,r,l,c,i,m,b,h,S=d[3].height+"",E,A,H,w=ce(d[3].hash)+"",B,M,I,V,O=ce(d[3].previousblockhash)+"",q,D;return{c(){e=u("tr"),a=u("td"),t=T(d[1]),n=C(),r=u("td"),l=T(d[0]),c=C(),i=u("td"),m=T(d[2]),b=C(),h=u("td"),E=T(S),A=C(),H=u("td"),B=T(w),I=C(),V=u("td"),q=T(O),this.h()},l(j){e=_(j,"TR",{});var k=p(e);a=_(k,"TD",{class:!0});var Y=p(a);t=y(Y,d[1]),Y.forEach(o),n=N(k),r=_(k,"TD",{class:!0});var K=p(r);l=y(K,d[0]),K.forEach(o),c=N(k),i=_(k,"TD",{class:!0});var g=p(i);m=y(g,d[2]),g.forEach(o),b=N(k),h=_(k,"TD",{class:!0});var f=p(h);E=y(f,S),f.forEach(o),A=N(k),H=_(k,"TD",{title:!0,class:!0});var R=p(H);B=y(R,w),R.forEach(o),I=N(k),V=_(k,"TD",{title:!0,class:!0});var L=p(V);q=y(L,O),L.forEach(o),k.forEach(o),this.h()},h(){v(a,"class","svelte-s4thdc"),v(r,"class","svelte-s4thdc"),v(i,"class","svelte-s4thdc"),v(h,"class","svelte-s4thdc"),v(H,"title",M=d[3].hash),v(H,"class","svelte-s4thdc"),v(V,"title",D=d[3].previousblockhash),v(V,"class","svelte-s4thdc")},m(j,k){G(j,e,k),s(e,a),s(a,t),s(e,n),s(e,r),s(r,l),s(e,c),s(e,i),s(i,m),s(e,b),s(e,h),s(h,E),s(e,A),s(e,H),s(H,B),s(e,I),s(e,V),s(V,q)},p(j,[k]){k&2&&F(t,j[1]),k&1&&F(l,j[0]),k&4&&F(m,j[2]),k&8&&S!==(S=j[3].height+"")&&F(E,S),k&8&&w!==(w=ce(j[3].hash)+"")&&F(B,w),k&8&&M!==(M=j[3].hash)&&v(H,"title",M),k&8&&O!==(O=ce(j[3].previousblockhash)+"")&&F(q,O),k&8&&D!==(D=j[3].previousblockhash)&&v(V,"title",D)},i:x,o:x,d(j){j&&o(e)}}}function ce(d){return d?d.substring(0,8)+"..."+d.substring(d.length-8):""}function Je(d,e,a){let{name:t}=e,{source:n}=e,{address:r}=e,l=!0,c={},i=null,m;async function b(){try{const h=await fetch(`${r}/bestblockheader/json`);if(!h.ok)throw new Error(`HTTP error! Status: ${h.status}`);a(3,c=await h.json()),i=null,l=!1}catch(h){i=h.message}}return Ne(()=>(b(),m=setInterval(b,2e3),()=>clearInterval(m))),d.$$set=h=>{"name"in h&&a(0,t=h.name),"source"in h&&a(1,n=h.source),"address"in h&&a(2,r=h.address)},[t,n,r,c]}class Ue extends de{constructor(e){super(),ie(this,e,Je,Ge,he,{name:0,source:1,address:2})}}function Se(d,e,a){const t=d.slice();return t[2]=e[a],t}function Fe(d){let e,a,t,n,r,l,c,i,m,b,h,S,E,A,H,w,B,M,I,V,O,q,D=[],j=new Map,k,Y=d[0];const K=g=>g[2].ip;for(let g=0;g<Y.length;g+=1){let f=Se(d,Y,g),R=K(f);j.set(R,D[g]=je(R,f))}return{c(){e=u("table"),a=u("thead"),t=u("tr"),n=u("th"),r=T("Source"),l=C(),c=u("th"),i=T("Name"),m=C(),b=u("th"),h=T("Address"),S=C(),E=u("th"),A=T("Height"),H=C(),w=u("th"),B=T("Latest hash"),M=C(),I=u("th"),V=T("Previous hash"),O=C(),q=u("tbody");for(let g=0;g<D.length;g+=1)D[g].c();this.h()},l(g){e=_(g,"TABLE",{class:!0});var f=p(e);a=_(f,"THEAD",{});var R=p(a);t=_(R,"TR",{class:!0});var L=p(t);n=_(L,"TH",{class:!0});var J=p(n);r=y(J,"Source"),J.forEach(o),l=N(L),c=_(L,"TH",{class:!0});var U=p(c);i=y(U,"Name"),U.forEach(o),m=N(L),b=_(L,"TH",{class:!0});var Q=p(b);h=y(Q,"Address"),Q.forEach(o),S=N(L),E=_(L,"TH",{class:!0});var W=p(E);A=y(W,"Height"),W.forEach(o),H=N(L),w=_(L,"TH",{class:!0});var te=p(w);B=y(te,"Latest hash"),te.forEach(o),M=N(L),I=_(L,"TH",{class:!0});var P=p(I);V=y(P,"Previous hash"),P.forEach(o),L.forEach(o),R.forEach(o),O=N(f),q=_(f,"TBODY",{});var z=p(q);for(let X=0;X<D.length;X+=1)D[X].l(z);z.forEach(o),f.forEach(o),this.h()},h(){v(n,"class","svelte-99p0jp"),v(c,"class","svelte-99p0jp"),v(b,"class","svelte-99p0jp"),v(E,"class","svelte-99p0jp"),v(w,"class","svelte-99p0jp"),v(I,"class","svelte-99p0jp"),v(t,"class","svelte-99p0jp"),v(e,"class","table svelte-99p0jp")},m(g,f){G(g,e,f),s(e,a),s(a,t),s(t,n),s(n,r),s(t,l),s(t,c),s(c,i),s(t,m),s(t,b),s(b,h),s(t,S),s(t,E),s(E,A),s(t,H),s(t,w),s(w,B),s(t,M),s(t,I),s(I,V),s(e,O),s(e,q);for(let R=0;R<D.length;R+=1)D[R]&&D[R].m(q,null);k=!0},p(g,f){f&1&&(Y=g[0],pe(),D=Ce(D,f,K,1,g,Y,j,q,Le,je,null,Se),me())},i(g){if(!k){for(let f=0;f<Y.length;f+=1)Z(D[f]);k=!0}},o(g){for(let f=0;f<D.length;f+=1)ee(D[f]);k=!1},d(g){g&&o(e);for(let f=0;f<D.length;f+=1)D[f].d()}}}function Qe(d){let e,a,t;return{c(){e=u("p"),a=T("Error fetching chaintip data: "),t=T(d[1])},l(n){e=_(n,"P",{});var r=p(e);a=y(r,"Error fetching chaintip data: "),t=y(r,d[1]),r.forEach(o)},m(n,r){G(n,e,r),s(e,a),s(e,t)},p(n,r){r&2&&F(t,n[1])},i:x,o:x,d(n){n&&o(e)}}}function we(d){let e,a;return e=new Ue({props:{name:d[2].name,source:d[2].source||"anonymous",address:d[2].blobServerHTTPAddress}}),{c(){fe(e.$$.fragment)},l(t){ue(e.$$.fragment,t)},m(t,n){_e(e,t,n),a=!0},p(t,n){const r={};n&1&&(r.name=t[2].name),n&1&&(r.source=t[2].source||"anonymous"),n&1&&(r.address=t[2].blobServerHTTPAddress),e.$set(r)},i(t){a||(Z(e.$$.fragment,t),a=!0)},o(t){ee(e.$$.fragment,t),a=!1},d(t){ve(e,t)}}}function je(d,e){let a,t,n,r=e[2].blobServerHTTPAddress&&we(e);return{key:d,first:null,c(){a=oe(),r&&r.c(),t=oe(),this.h()},l(l){a=oe(),r&&r.l(l),t=oe(),this.h()},h(){this.first=a},m(l,c){G(l,a,c),r&&r.m(l,c),G(l,t,c),n=!0},p(l,c){e=l,e[2].blobServerHTTPAddress?r?(r.p(e,c),c&1&&Z(r,1)):(r=we(e),r.c(),Z(r,1),r.m(t.parentNode,t)):r&&(pe(),ee(r,1,1,()=>{r=null}),me())},i(l){n||(Z(r),n=!0)},o(l){ee(r),n=!1},d(l){l&&o(a),r&&r.d(l),l&&o(t)}}}function We(d){let e,a,t,n,r,l,c,i,m;const b=[Qe,Fe],h=[];function S(E,A){return E[1]?0:1}return c=S(d),i=h[c]=b[c](d),{c(){e=u("div"),a=u("header"),t=u("p"),n=T("Chaintip tracker"),r=C(),l=u("div"),i.c(),this.h()},l(E){e=_(E,"DIV",{class:!0});var A=p(e);a=_(A,"HEADER",{class:!0});var H=p(a);t=_(H,"P",{class:!0});var w=p(t);n=y(w,"Chaintip tracker"),w.forEach(o),H.forEach(o),r=N(A),l=_(A,"DIV",{class:!0});var B=p(l);i.l(B),B.forEach(o),A.forEach(o),this.h()},h(){v(t,"class","card-header-title"),v(a,"class","card-header"),v(l,"class","card-content svelte-99p0jp"),v(e,"class","card panel svelte-99p0jp")},m(E,A){G(E,e,A),s(e,a),s(a,t),s(t,n),s(e,r),s(e,l),h[c].m(l,null),m=!0},p(E,[A]){let H=c;c=S(E),c===H?h[c].p(E,A):(pe(),ee(h[H],1,1,()=>{h[H]=null}),me(),i=h[c],i?i.p(E,A):(i=h[c]=b[c](E),i.c()),Z(i,1),i.m(l,null))},i(E){m||(Z(i),m=!0)},o(E){ee(i),m=!1},d(E){E&&o(e),h[c].d()}}}function Xe(d,e,a){let{nodes:t}=e,{error:n}=e;return d.$$set=r=>{"nodes"in r&&a(0,t=r.nodes),"error"in r&&a(1,n=r.error)},[t,n]}class Ze extends de{constructor(e){super(),ie(this,e,Xe,We,he,{nodes:0,error:1})}}const $e={};function xe(d){let e,a,t,n,r,l,c,i,m,b,h,S,E,A,H,w,B,M,I,V,O,q,D,j,k,Y,K,g,f,R,L,J,U,Q,W,te;return U=new Ke({props:{nodes:d[0],loading:d[1],error:d[2]}}),W=new Ze({props:{nodes:d[0],loading:d[1]}}),{c(){e=u("link"),a=u("style"),t=T(`body {
			font-family: 'Arial', sans-serif;
			background-color: #f4f4f4;
			margin: 0;
			padding: 0;
			padding-top: 52px; /* Adjust for the height of the fixed navbar */
		}

		/* Custom darker blue color */
		.navbar.is-primary {
			background-color: #004466; /* Change this value to your preferred shade of dark blue */
		}

		/* Add more global styles as needed */`),n=C(),r=u("nav"),l=u("div"),c=u("a"),i=u("h1"),m=T("Teranode Dashboard"),b=C(),h=u("a"),S=u("span"),E=C(),A=u("span"),H=C(),w=u("span"),B=C(),M=u("div"),I=u("div"),V=u("a"),O=T("Home"),q=C(),D=u("a"),j=T("Documentation"),k=C(),Y=u("div"),K=u("div"),g=u("div"),f=u("a"),R=T("Log in"),L=C(),J=u("div"),fe(U.$$.fragment),Q=C(),fe(W.$$.fragment),this.h()},l(P){const z=Me("svelte-d8odrr",document.head);e=_(z,"LINK",{rel:!0,href:!0}),a=_(z,"STYLE",{});var X=p(a);t=y(X,`body {
			font-family: 'Arial', sans-serif;
			background-color: #f4f4f4;
			margin: 0;
			padding: 0;
			padding-top: 52px; /* Adjust for the height of the fixed navbar */
		}

		/* Custom darker blue color */
		.navbar.is-primary {
			background-color: #004466; /* Change this value to your preferred shade of dark blue */
		}

		/* Add more global styles as needed */`),X.forEach(o),z.forEach(o),n=N(P),r=_(P,"NAV",{class:!0});var $=p(r);l=_($,"DIV",{class:!0});var re=p(l);c=_(re,"A",{class:!0,href:!0});var be=p(c);i=_(be,"H1",{});var ge=p(i);m=y(ge,"Teranode Dashboard"),ge.forEach(o),be.forEach(o),b=N(re),h=_(re,"A",{role:!0,class:!0,href:!0,"aria-label":!0,"aria-expanded":!0,"data-target":!0});var ae=p(h);S=_(ae,"SPAN",{"aria-hidden":!0}),p(S).forEach(o),E=N(ae),A=_(ae,"SPAN",{"aria-hidden":!0}),p(A).forEach(o),H=N(ae),w=_(ae,"SPAN",{"aria-hidden":!0}),p(w).forEach(o),ae.forEach(o),re.forEach(o),B=N($),M=_($,"DIV",{id:!0,class:!0});var se=p(M);I=_(se,"DIV",{class:!0});var le=p(I);V=_(le,"A",{class:!0,href:!0});var Ee=p(V);O=y(Ee,"Home"),Ee.forEach(o),q=N(le),D=_(le,"A",{class:!0,href:!0});var ke=p(D);j=y(ke,"Documentation"),ke.forEach(o),le.forEach(o),k=N(se),Y=_(se,"DIV",{class:!0});var Te=p(Y);K=_(Te,"DIV",{class:!0});var ye=p(K);g=_(ye,"DIV",{class:!0});var De=p(g);f=_(De,"A",{class:!0,href:!0});var Ae=p(f);R=y(Ae,"Log in"),Ae.forEach(o),De.forEach(o),ye.forEach(o),Te.forEach(o),se.forEach(o),$.forEach(o),L=N(P),J=_(P,"DIV",{});var ne=p(J);ue(U.$$.fragment,ne),Q=N(ne),ue(W.$$.fragment,ne),ne.forEach(o),this.h()},h(){v(e,"rel","stylesheet"),v(e,"href","https://cdn.jsdelivr.net/npm/bulma@0.9.3/css/bulma.min.css"),v(c,"class","navbar-item"),v(c,"href","#"),v(S,"aria-hidden","true"),v(A,"aria-hidden","true"),v(w,"aria-hidden","true"),v(h,"role","button"),v(h,"class","navbar-burger"),v(h,"href","#"),v(h,"aria-label","menu"),v(h,"aria-expanded","false"),v(h,"data-target","navbarBasicExample"),v(l,"class","navbar-brand"),v(V,"class","navbar-item"),v(V,"href","#"),v(D,"class","navbar-item"),v(D,"href","#"),v(I,"class","navbar-start"),v(f,"class","button is-light"),v(f,"href","#"),v(g,"class","buttons"),v(K,"class","navbar-item"),v(Y,"class","navbar-end"),v(M,"id","navbarBasicExample"),v(M,"class","navbar-menu"),v(r,"class","navbar is-primary is-fixed-top")},m(P,z){s(document.head,e),s(document.head,a),s(a,t),G(P,n,z),G(P,r,z),s(r,l),s(l,c),s(c,i),s(i,m),s(l,b),s(l,h),s(h,S),s(h,E),s(h,A),s(h,H),s(h,w),s(r,B),s(r,M),s(M,I),s(I,V),s(V,O),s(I,q),s(I,D),s(D,j),s(M,k),s(M,Y),s(Y,K),s(K,g),s(g,f),s(f,R),G(P,L,z),G(P,J,z),_e(U,J,null),s(J,Q),_e(W,J,null),te=!0},p(P,[z]){const X={};z&1&&(X.nodes=P[0]),z&2&&(X.loading=P[1]),z&4&&(X.error=P[2]),U.$set(X);const $={};z&1&&($.nodes=P[0]),z&2&&($.loading=P[1]),W.$set($)},i(P){te||(Z(U.$$.fragment,P),Z(W.$$.fragment,P),te=!0)},o(P){ee(U.$$.fragment,P),ee(W.$$.fragment,P),te=!1},d(P){o(e),o(a),P&&o(n),P&&o(r),P&&o(L),P&&o(J),ve(U),ve(W)}}}function et(d,e,a){let t=[],n=!0,r=null,l;async function c(){try{const i=await fetch("https://localhost:8099/nodes");if(!i.ok)throw new Error(`HTTP error! Status: ${i.status}`);a(0,t=await i.json()),a(2,r=null),a(1,n=!1)}catch(i){a(2,r=i.message)}}return Ne(()=>(new $e.Agent({rejectUnauthorized:!1}),c(),l=setInterval(c,2e3),()=>clearInterval(l))),[t,n,r]}class at extends de{constructor(e){super(),ie(this,e,et,xe,he,{})}}export{at as component};
