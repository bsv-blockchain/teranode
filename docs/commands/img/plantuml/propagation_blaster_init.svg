<svg contentStyleType="text/css" height="945" preserveAspectRatio="none" viewBox="0 0 659 945" width="659" xmlns="http://www.w3.org/2000/svg" zoomAndPan="magnify"><path d="m10 405.082h632.5v263.75h-632.5z" fill="none" stroke="#000" stroke-width="1.5"/><path d="m331.5 770.7637h311v88.9316h-311z" fill="none" stroke="#000" stroke-width="1.5"/><g stroke="#181818" stroke-width=".5"><g stroke-dasharray="5 5"><path d="m66 69.9766v806.7187"/><path d="m302.5 69.9766v806.7187"/><path d="m374.5 69.9766v806.7187"/><path d="m583.5 69.9766v806.7187"/></g><rect fill="#e2e2f0" height="46.9766" rx="2.5" width="92" x="20" y="22"/></g><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="33" x="49.5" y="42.5352">Main</text><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78" x="27" y="59.0234">Application</text><rect fill="#e2e2f0" height="46.9766" rx="2.5" stroke="#181818" stroke-width=".5" width="92" x="20" y="875.6953"/><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="33" x="49.5" y="896.2305">Main</text><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78" x="27" y="912.7188">Application</text><rect fill="#e2e2f0" height="46.9766" rx="2.5" stroke="#181818" stroke-width=".5" width="57" x="274.5" y="22"/><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36" x="285" y="42.5352">HTTP</text><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="43" x="281.5" y="59.0234">Server</text><rect fill="#e2e2f0" height="46.9766" rx="2.5" stroke="#181818" stroke-width=".5" width="57" x="274.5" y="875.6953"/><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36" x="285" y="896.2305">HTTP</text><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="43" x="281.5" y="912.7188">Server</text><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49" x="347" y="50.5352">Worker</text><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="60" x="341.5" y="67.0234">Routines</text><ellipse cx="374.5" cy="21" fill="#e2e2f0" rx="12" ry="12" stroke="#181818" stroke-width=".5"/><path d="m362.5 35h24" stroke="#181818" stroke-width=".5"/><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49" x="347" y="889.2305">Worker</text><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="60" x="341.5" y="905.7188">Routines</text><ellipse cx="374.5" cy="924.6719" fill="#e2e2f0" rx="12" ry="12" stroke="#181818" stroke-width=".5"/><path d="m362.5 938.6719h24" stroke="#181818" stroke-width=".5"/><rect fill="#e2e2f0" height="46.9766" rx="2.5" stroke="#181818" stroke-width=".5" width="98" x="534.5" y="22"/><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84" x="541.5" y="42.5352">Propagation</text><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="48" x="559.5" y="59.0234">Service</text><rect fill="#e2e2f0" height="46.9766" rx="2.5" stroke="#181818" stroke-width=".5" width="98" x="534.5" y="875.6953"/><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84" x="541.5" y="896.2305">Propagation</text><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="48" x="559.5" y="912.7188">Service</text><path d="m0 100.6318h652.5v3h-652.5z" fill="#eee" stroke="#eee"/><path d="m0 100.6318h652.5" stroke="#000"/><path d="m0 103.6318h652.5" stroke="#000"/><path d="m226.25 89.9766h200v23.3105h-200z" fill="#eee" stroke="#000" stroke-width="2"/><text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="182" x="232.25" y="106.5449">Initialization (Init Function)</text><g stroke="#181818"><path d="m66 159.9082h42"/><path d="m108 159.9082v13"/><path d="m67 172.9082h41"/><path d="m77 168.9082-10 4 10 4-4-4z" fill="#181818"/></g><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="154" x="73" y="139.8555">Get configuration values</text><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="223" x="73" y="155.166">(profilerAddr, prometheusEndpoint)</text><path d="m291 198.2188 10 4-10 4 4-4z" fill="#181818" stroke="#181818"/><path d="m66 202.2188h231" stroke="#181818"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="173" x="73" y="197.4766">Setup for metrics and pprof</text><path d="m77 227.5293-10 4 10 4-4-4z" fill="#181818" stroke="#181818"/><path d="m71 231.5293h231" stroke="#181818" stroke-dasharray="2 2"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="131" x="83" y="226.7871">HTTP Server Running</text><path d="m0 260.1846h652.5v3h-652.5z" fill="#eee" stroke="#eee"/><path d="m0 260.1846h652.5" stroke="#000"/><path d="m0 263.1846h652.5" stroke="#000"/><path d="m270.75 249.5293h111v23.3105h-111z" fill="#eee" stroke="#000" stroke-width="2"/><text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="93" x="276.75" y="266.0977">Start Function</text><path d="m66 319.4609h42" stroke="#181818"/><path d="m108 319.4609v13" stroke="#181818"/><path d="m67 332.4609h41" stroke="#181818"/><path d="m77 328.4609-10 4 10 4-4-4z" fill="#181818" stroke="#181818"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="165" x="73" y="299.4082">Parse command-line flags</text><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="206" x="73" y="314.7188">(workers, broadcast, buffer_size)</text><path d="m66 377.082h42" stroke="#181818"/><path d="m108 377.082v13" stroke="#181818"/><path d="m67 390.082h41" stroke="#181818"/><path d="m77 386.082-10 4 10 4-4-4z" fill="#181818" stroke="#181818"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106" x="73" y="357.0293">Log service stats</text><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="102" x="73" y="372.3398">and version info</text><path d="m10 405.082h62v7.3106l-10 10h-52z" fill="#eee" stroke="#000" stroke-width="1.5"/><path d="m10 405.082h632.5v263.75h-632.5z" fill="none" stroke="#000" stroke-width="1.5"/><text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="25" y="418.6504">alt</text><text font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="98" x="87" y="417.7168">[HTTP Broadcast]</text><path d="m66 459.0137h42" stroke="#181818"/><path d="m108 459.0137v13" stroke="#181818"/><path d="m67 472.0137h41" stroke="#181818"/><path d="m77 468.0137-10 4 10 4-4-4z" fill="#181818" stroke="#181818"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="209" x="73" y="438.9609">Get "propagation_httpAddresses"</text><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106" x="73" y="454.2715">Return HTTP URL</text><path d="m66 516.6348h42" stroke="#181818"/><path d="m108 516.6348v13" stroke="#181818"/><path d="m67 529.6348h41" stroke="#181818"/><path d="m77 525.6348-10 4 10 4-4-4z" fill="#181818" stroke="#181818"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130" x="73" y="496.582">Initialize HTTP client</text><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="55" x="73" y="511.8926">with URL</text><path d="m10 538.6348h632.5" stroke="#000" stroke-dasharray="2 2"/><text font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="96" x="15" y="549.2695">[gRPC Broadcast]</text><path d="m66 589.2109h42" stroke="#181818"/><path d="m108 589.2109v13" stroke="#181818"/><path d="m67 602.2109h41" stroke="#181818"/><path d="m77 598.2109-10 4 10 4-4-4z" fill="#181818" stroke="#181818"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="211" x="73" y="569.1582">Get "propagation_grpcAddresses"</text><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130" x="73" y="584.4688">Return gRPC address</text><path d="m571.5 627.5215 10 4-10 4 4-4z" fill="#181818" stroke="#181818"/><path d="m66 631.5215h511.5" stroke="#181818"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="167" x="73" y="626.7793">Establish gRPC connection</text><path d="m77 656.832-10 4 10 4-4-4z" fill="#181818" stroke="#181818"/><path d="m71 660.832h511.5" stroke="#181818" stroke-dasharray="2 2"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114" x="83" y="656.0898">gRPC Client Ready</text><path d="m362.5 708.4531 10 4-10 4 4-4z" fill="#181818" stroke="#181818"/><path d="m66 712.4531h302.5" stroke="#181818"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="164" x="73" y="692.4004">Launch worker goroutines</text><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="142" x="73" y="707.7109">based on workerCount</text><path d="m0 741.1084h652.5v3h-652.5z" fill="#eee" stroke="#eee"/><path d="m0 741.1084h652.5" stroke="#000"/><path d="m0 744.1084h652.5" stroke="#000"/><path d="m265.25 730.4531h122v23.3105h-122z" fill="#eee" stroke="#000" stroke-width="2"/><text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="104" x="271.25" y="747.0215">Worker Routine</text><path d="m331.5 770.7637h74v7.3105l-10 10h-64z" fill="#eee" stroke="#000" stroke-width="1.5"/><path d="m331.5 770.7637h311v88.9316h-311z" fill="none" stroke="#000" stroke-width="1.5"/><text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="29" x="346.5" y="784.332">loop</text><text font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="78" x="420.5" y="783.3984">[Each Worker]</text><path d="m374.5 809.3848h42" stroke="#181818"/><path d="m416.5 809.3848v13" stroke="#181818"/><path d="m375.5 822.3848h41" stroke="#181818"/><path d="m385.5 818.3848-10 4 10 4-4-4z" fill="#181818" stroke="#181818"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="195" x="381.5" y="804.6426">Generate and sign transactions</text><path d="m571.5 847.6953 10 4-10 4 4-4z" fill="#181818" stroke="#181818"/><path d="m374.5 851.6953h203" stroke="#181818"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="108" x="381.5" y="846.9531">Send Transaction</text></svg>
