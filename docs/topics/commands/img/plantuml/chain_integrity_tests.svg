<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1565px" preserveAspectRatio="none" style="width:861px;height:1565px;background:#F0F8FF;" version="1.1" viewBox="0 0 861 1565" width="861px" zoomAndPan="magnify"><defs/><g><rect fill="#F0F8FF" height="1565" style="stroke:none;stroke-width:1.0;" width="861" x="0" y="0"/><rect fill="none" height="180.8633" style="stroke:#000000;stroke-width:1.5;" width="478.5469" x="20" y="201.7305"/><rect fill="none" height="120.2422" style="stroke:#000000;stroke-width:1.5;" width="458.5469" x="30" y="255.3516"/><rect fill="none" height="46.6211" style="stroke:#000000;stroke-width:1.5;" width="438.5469" x="40" y="321.9727"/><rect fill="none" height="969.0059" style="stroke:#000000;stroke-width:1.5;" width="845.5908" x="10" y="497.5254"/><rect fill="none" height="344.416" style="stroke:#000000;stroke-width:1.5;" width="664.5615" x="20" y="609.7676"/><rect fill="none" height="167.8633" style="stroke:#000000;stroke-width:1.5;" width="644.5615" x="30" y="705.6992"/><rect fill="none" height="77.9316" style="stroke:#000000;stroke-width:1.5;" width="438.5469" x="40" y="788.6309"/><rect fill="none" height="406.7266" style="stroke:#000000;stroke-width:1.5;" width="815.5908" x="30" y="1010.4941"/><rect fill="none" height="202.8633" style="stroke:#000000;stroke-width:1.5;" width="703.082" x="40" y="1135.7363"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="130" x2="130" y1="67.4883" y2="1483.5313"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="437.4951" x2="437.4951" y1="67.4883" y2="1483.5313"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="526.5469" x2="526.5469" y1="67.4883" y2="1483.5313"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="624.4648" x2="624.4648" y1="67.4883" y2="1483.5313"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="703.5615" x2="703.5615" y1="67.4883" y2="1483.5313"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="789.082" x2="789.082" y1="67.4883" y2="1483.5313"/><rect fill="#DDDDDD" height="30.4883" rx="2.5" ry="2.5" style="stroke:#666666;stroke-width:0.5;" width="161.417" x="50" y="36"/><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="147.417" x="57" y="56.5352">ChainIntegrity Service</text><rect fill="#DDDDDD" height="30.4883" rx="2.5" ry="2.5" style="stroke:#666666;stroke-width:0.5;" width="161.417" x="50" y="1482.5313"/><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="147.417" x="57" y="1503.0664">ChainIntegrity Service</text><rect fill="#DDDDDD" height="30.4883" rx="2.5" ry="2.5" style="stroke:#666666;stroke-width:0.5;" width="61.0518" x="407.4951" y="36"/><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="47.0518" x="414.4951" y="56.5352">Logger</text><rect fill="#DDDDDD" height="30.4883" rx="2.5" ry="2.5" style="stroke:#666666;stroke-width:0.5;" width="61.0518" x="407.4951" y="1482.5313"/><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="47.0518" x="414.4951" y="1503.0664">Logger</text><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="90.918" x="478.5469" y="64.5352">BlockchainDB</text><path d="M509.0059,15 C509.0059,5 527.0059,5 527.0059,5 C527.0059,5 545.0059,5 545.0059,15 L545.0059,41 C545.0059,51 527.0059,51 527.0059,51 C527.0059,51 509.0059,51 509.0059,41 L509.0059,15 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M509.0059,15 C509.0059,25 527.0059,25 527.0059,25 C527.0059,25 545.0059,25 545.0059,15 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="90.918" x="478.5469" y="1496.0664">BlockchainDB</text><path d="M509.0059,1509.0195 C509.0059,1499.0195 527.0059,1499.0195 527.0059,1499.0195 C527.0059,1499.0195 545.0059,1499.0195 545.0059,1509.0195 L545.0059,1535.0195 C545.0059,1545.0195 527.0059,1545.0195 527.0059,1545.0195 C527.0059,1545.0195 509.0059,1545.0195 509.0059,1535.0195 L509.0059,1509.0195 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M509.0059,1509.0195 C509.0059,1519.0195 527.0059,1519.0195 527.0059,1519.0195 C527.0059,1519.0195 545.0059,1519.0195 545.0059,1509.0195 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73.0967" x="585.4648" y="64.5352">UTXOStore</text><path d="M607.0132,15 C607.0132,5 625.0132,5 625.0132,5 C625.0132,5 643.0132,5 643.0132,15 L643.0132,41 C643.0132,51 625.0132,51 625.0132,51 C625.0132,51 607.0132,51 607.0132,41 L607.0132,15 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M607.0132,15 C607.0132,25 625.0132,25 625.0132,25 C625.0132,25 643.0132,25 643.0132,15 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73.0967" x="585.4648" y="1496.0664">UTXOStore</text><path d="M607.0132,1509.0195 C607.0132,1499.0195 625.0132,1499.0195 625.0132,1499.0195 C625.0132,1499.0195 643.0132,1499.0195 643.0132,1509.0195 L643.0132,1535.0195 C643.0132,1545.0195 625.0132,1545.0195 625.0132,1545.0195 C625.0132,1545.0195 607.0132,1545.0195 607.0132,1535.0195 L607.0132,1509.0195 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M607.0132,1509.0195 C607.0132,1519.0195 625.0132,1519.0195 625.0132,1519.0195 C625.0132,1519.0195 643.0132,1519.0195 643.0132,1509.0195 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="52.5205" x="674.5615" y="64.5352">TXStore</text><path d="M685.8218,15 C685.8218,5 703.8218,5 703.8218,5 C703.8218,5 721.8218,5 721.8218,15 L721.8218,41 C721.8218,51 703.8218,51 703.8218,51 C703.8218,51 685.8218,51 685.8218,41 L685.8218,15 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M685.8218,15 C685.8218,25 703.8218,25 703.8218,25 C703.8218,25 721.8218,25 721.8218,15 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="52.5205" x="674.5615" y="1496.0664">TXStore</text><path d="M685.8218,1509.0195 C685.8218,1499.0195 703.8218,1499.0195 703.8218,1499.0195 C703.8218,1499.0195 721.8218,1499.0195 721.8218,1509.0195 L721.8218,1535.0195 C721.8218,1545.0195 703.8218,1545.0195 703.8218,1545.0195 C703.8218,1545.0195 685.8218,1545.0195 685.8218,1535.0195 L685.8218,1509.0195 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M685.8218,1509.0195 C685.8218,1519.0195 703.8218,1519.0195 703.8218,1519.0195 C703.8218,1519.0195 721.8218,1519.0195 721.8218,1509.0195 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="86.5088" x="743.082" y="64.5352">SubtreeStore</text><path d="M771.3364,15 C771.3364,5 789.3364,5 789.3364,5 C789.3364,5 807.3364,5 807.3364,15 L807.3364,41 C807.3364,51 789.3364,51 789.3364,51 C789.3364,51 771.3364,51 771.3364,41 L771.3364,15 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M771.3364,15 C771.3364,25 789.3364,25 789.3364,25 C789.3364,25 807.3364,25 807.3364,15 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="86.5088" x="743.082" y="1496.0664">SubtreeStore</text><path d="M771.3364,1509.0195 C771.3364,1499.0195 789.3364,1499.0195 789.3364,1499.0195 C789.3364,1499.0195 807.3364,1499.0195 807.3364,1509.0195 L807.3364,1535.0195 C807.3364,1545.0195 789.3364,1545.0195 789.3364,1545.0195 C789.3364,1545.0195 771.3364,1545.0195 771.3364,1535.0195 L771.3364,1509.0195 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M771.3364,1509.0195 C771.3364,1519.0195 789.3364,1519.0195 789.3364,1519.0195 C789.3364,1519.0195 807.3364,1519.0195 807.3364,1509.0195 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><polygon fill="#666666" points="515.0059,94.7988,525.0059,98.7988,515.0059,102.7988,519.0059,98.7988" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;" x1="130.7085" x2="521.0059" y1="98.7988" y2="98.7988"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="134.3608" x="137.7085" y="94.0566">GetBestBlockHeader()</text><polygon fill="#666666" points="141.7085,124.1094,131.7085,128.1094,141.7085,132.1094,137.7085,128.1094" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="135.7085" x2="526.0059" y1="128.1094" y2="128.1094"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="151.0044" x="147.7085" y="123.3672">Return bestBlockHeader</text><polygon fill="#666666" points="515.0059,153.4199,525.0059,157.4199,515.0059,161.4199,519.0059,157.4199" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;" x1="130.7085" x2="521.0059" y1="157.4199" y2="157.4199"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="321.4326" x="137.7085" y="152.6777">GetBlockHeaders(bestBlockHeader.Hash(), 100000)</text><polygon fill="#666666" points="141.7085,182.7305,131.7085,186.7305,141.7085,190.7305,137.7085,186.7305" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="135.7085" x2="526.0059" y1="186.7305" y2="186.7305"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="131.4219" x="147.7085" y="181.9883">Return blockHeaders</text><path d="M20,201.7305 L94.4468,201.7305 L94.4468,209.041 L84.4468,219.041 L20,219.041 L20,201.7305 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="180.8633" style="stroke:#000000;stroke-width:1.5;" width="478.5469" x="20" y="201.7305"/><text fill="#333333" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="29.4468" x="35" y="215.2988">loop</text><text fill="#333333" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="224.125" x="109.4468" y="214.3652">[for each blockHeader in blockHeaders]</text><polygon fill="#666666" points="426.021,236.3516,436.021,240.3516,426.021,244.3516,430.021,240.3516" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;" x1="130.7085" x2="432.021" y1="240.3516" y2="240.3516"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="168.9365" x="137.7085" y="235.6094">Log checking block header</text><path d="M30,255.3516 L92.1387,255.3516 L92.1387,262.6621 L82.1387,272.6621 L30,272.6621 L30,255.3516 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="120.2422" style="stroke:#000000;stroke-width:1.5;" width="458.5469" x="30" y="255.3516"/><text fill="#333333" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1387" x="45" y="268.9199">alt</text><text fill="#333333" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="165.0806" x="107.1387" y="267.9863">[previousBlockHeader exists]</text><line style="stroke:#666666;stroke-width:1.0;" x1="130.7085" x2="172.7085" y1="293.9727" y2="293.9727"/><line style="stroke:#666666;stroke-width:1.0;" x1="172.7085" x2="172.7085" y1="293.9727" y2="306.9727"/><line style="stroke:#666666;stroke-width:1.0;" x1="131.7085" x2="172.7085" y1="306.9727" y2="306.9727"/><polygon fill="#666666" points="141.7085,302.9727,131.7085,306.9727,141.7085,310.9727,137.7085,306.9727" style="stroke:#666666;stroke-width:1.0;"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="293.3125" x="137.7085" y="289.2305">Verify HashPrevBlock == previousBlock's Hash</text><path d="M40,321.9727 L102.1387,321.9727 L102.1387,329.2832 L92.1387,339.2832 L40,339.2832 L40,321.9727 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="46.6211" style="stroke:#000000;stroke-width:1.5;" width="438.5469" x="40" y="321.9727"/><text fill="#333333" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1387" x="55" y="335.541">alt</text><text fill="#333333" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="127.8804" x="117.1387" y="334.6074">[Hashes do not match]</text><polygon fill="#666666" points="426.021,356.5938,436.021,360.5938,426.021,364.5938,430.021,360.5938" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;" x1="130.7085" x2="432.021" y1="360.5938" y2="360.5938"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="58.3223" x="137.7085" y="355.8516">Log error</text><polygon fill="#666666" points="426.021,406.9043,436.021,410.9043,426.021,414.9043,430.021,410.9043" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;" x1="130.7085" x2="432.021" y1="410.9043" y2="410.9043"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="172.8657" x="137.7085" y="406.1621">Log block headers are valid</text><line style="stroke:#666666;stroke-width:1.0;" x1="130.7085" x2="172.7085" y1="440.2148" y2="440.2148"/><line style="stroke:#666666;stroke-width:1.0;" x1="172.7085" x2="172.7085" y1="440.2148" y2="453.2148"/><line style="stroke:#666666;stroke-width:1.0;" x1="131.7085" x2="172.7085" y1="453.2148" y2="453.2148"/><polygon fill="#666666" points="141.7085,449.2148,131.7085,453.2148,141.7085,457.2148,137.7085,453.2148" style="stroke:#666666;stroke-width:1.0;"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="154.8193" x="137.7085" y="435.4727">Initialize transactionMap</text><polygon fill="#666666" points="426.021,478.5254,436.021,482.5254,426.021,486.5254,430.021,482.5254" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;" x1="130.7085" x2="432.021" y1="482.5254" y2="482.5254"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="189.2046" x="137.7085" y="477.7832">Log checking blocks/subtrees</text><path d="M10,497.5254 L84.4468,497.5254 L84.4468,504.8359 L74.4468,514.8359 L10,514.8359 L10,497.5254 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="969.0059" style="stroke:#000000;stroke-width:1.5;" width="845.5908" x="10" y="497.5254"/><text fill="#333333" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="29.4468" x="25" y="511.0938">loop</text><text fill="#333333" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="223.4375" x="99.4468" y="510.1602">[for each blockHeader in reverse order]</text><polygon fill="#666666" points="515.0059,532.1465,525.0059,536.1465,515.0059,540.1465,519.0059,536.1465" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;" x1="130.7085" x2="521.0059" y1="536.1465" y2="536.1465"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="186.3291" x="137.7085" y="531.4043">GetBlock(blockHeader.Hash())</text><polygon fill="#666666" points="141.7085,561.457,131.7085,565.457,141.7085,569.457,137.7085,565.457" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="135.7085" x2="526.0059" y1="565.457" y2="565.457"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="128.4067" x="147.7085" y="560.7148">Return block, height</text><polygon fill="#666666" points="426.021,590.7676,436.021,594.7676,426.021,598.7676,430.021,594.7676" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;" x1="130.7085" x2="432.021" y1="594.7676" y2="594.7676"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="121.5894" x="137.7085" y="590.0254">Log checking block</text><path d="M20,609.7676 L82.1387,609.7676 L82.1387,617.0781 L72.1387,627.0781 L20,627.0781 L20,609.7676 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="344.416" style="stroke:#000000;stroke-width:1.5;" width="664.5615" x="20" y="609.7676"/><text fill="#333333" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1387" x="35" y="623.3359">alt</text><text fill="#333333" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="152.2329" x="97.1387" y="622.4023">[block.CoinbaseTx is valid]</text><polygon fill="#666666" points="426.021,644.3887,436.021,648.3887,426.021,652.3887,430.021,648.3887" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;" x1="130.7085" x2="432.021" y1="648.3887" y2="648.3887"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="191.2358" x="137.7085" y="643.6465">Log valid coinbase transaction</text><line style="stroke:#666666;stroke-width:1.0;" x1="130.7085" x2="172.7085" y1="677.6992" y2="677.6992"/><line style="stroke:#666666;stroke-width:1.0;" x1="172.7085" x2="172.7085" y1="677.6992" y2="690.6992"/><line style="stroke:#666666;stroke-width:1.0;" x1="131.7085" x2="172.7085" y1="690.6992" y2="690.6992"/><polygon fill="#666666" points="141.7085,686.6992,131.7085,690.6992,141.7085,694.6992,137.7085,690.6992" style="stroke:#666666;stroke-width:1.0;"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="199.7671" x="137.7085" y="672.957">Check coinbase UTXOs creation</text><path d="M30,705.6992 L104.4468,705.6992 L104.4468,713.0098 L94.4468,723.0098 L30,723.0098 L30,705.6992 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="167.8633" style="stroke:#000000;stroke-width:1.5;" width="644.5615" x="30" y="705.6992"/><text fill="#333333" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="29.4468" x="45" y="719.2676">loop</text><text fill="#333333" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="179.8833" x="119.4468" y="718.334">[for each output in CoinbaseTx]</text><polygon fill="#666666" points="613.0132,740.3203,623.0132,744.3203,613.0132,748.3203,617.0132,744.3203" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;" x1="130.7085" x2="619.0132" y1="744.3203" y2="744.3203"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="151.2012" x="137.7085" y="739.5781">Get(coinbaseTxID, vout)</text><polygon fill="#666666" points="141.7085,769.6309,131.7085,773.6309,141.7085,777.6309,137.7085,773.6309" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="135.7085" x2="624.0132" y1="773.6309" y2="773.6309"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127.0801" x="147.7085" y="768.8887">Return UTXO details</text><path d="M40,788.6309 L102.1387,788.6309 L102.1387,795.9414 L92.1387,805.9414 L40,805.9414 L40,788.6309 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="77.9316" style="stroke:#000000;stroke-width:1.5;" width="438.5469" x="40" y="788.6309"/><text fill="#333333" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1387" x="55" y="802.1992">alt</text><text fill="#333333" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="99.5156" x="117.1387" y="801.2656">[UTXO not found]</text><polygon fill="#666666" points="426.021,823.252,436.021,827.252,426.021,831.252,430.021,827.252" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;" x1="130.7085" x2="432.021" y1="827.252" y2="827.252"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="156.3555" x="137.7085" y="822.5098">Log UTXO does not exist</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="40" x2="478.5469" y1="836.252" y2="836.252"/><polygon fill="#666666" points="426.021,854.5625,436.021,858.5625,426.021,862.5625,430.021,858.5625" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;" x1="130.7085" x2="432.021" y1="858.5625" y2="858.5625"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="103.8032" x="137.7085" y="853.8203">Log UTXO exists</text><line style="stroke:#666666;stroke-width:1.0;" x1="130.7085" x2="172.7085" y1="901.873" y2="901.873"/><line style="stroke:#666666;stroke-width:1.0;" x1="172.7085" x2="172.7085" y1="901.873" y2="914.873"/><line style="stroke:#666666;stroke-width:1.0;" x1="131.7085" x2="172.7085" y1="914.873" y2="914.873"/><polygon fill="#666666" points="141.7085,910.873,131.7085,914.873,141.7085,918.873,137.7085,914.873" style="stroke:#666666;stroke-width:1.0;"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="228.4775" x="137.7085" y="897.1309">Extract and validate coinbase height</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="20" x2="684.5615" y1="923.873" y2="923.873"/><polygon fill="#666666" points="426.021,942.1836,436.021,946.1836,426.021,950.1836,430.021,946.1836" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;" x1="130.7085" x2="432.021" y1="946.1836" y2="946.1836"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="203.0615" x="137.7085" y="941.4414">Log invalid coinbase transaction</text><line style="stroke:#666666;stroke-width:1.0;" x1="130.7085" x2="172.7085" y1="982.4941" y2="982.4941"/><line style="stroke:#666666;stroke-width:1.0;" x1="172.7085" x2="172.7085" y1="982.4941" y2="995.4941"/><line style="stroke:#666666;stroke-width:1.0;" x1="131.7085" x2="172.7085" y1="995.4941" y2="995.4941"/><polygon fill="#666666" points="141.7085,991.4941,131.7085,995.4941,141.7085,999.4941,137.7085,995.4941" style="stroke:#666666;stroke-width:1.0;"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="203.3472" x="137.7085" y="977.752">Add coinbase to transactionMap</text><path d="M30,1010.4941 L104.4468,1010.4941 L104.4468,1017.8047 L94.4468,1027.8047 L30,1027.8047 L30,1010.4941 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="406.7266" style="stroke:#000000;stroke-width:1.5;" width="815.5908" x="30" y="1010.4941"/><text fill="#333333" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="29.4468" x="45" y="1024.0625">loop</text><text fill="#333333" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="230.3984" x="119.4468" y="1023.1289">[for each subtreeHash in block.Subtrees]</text><polygon fill="#666666" points="777.3364,1045.1152,787.3364,1049.1152,777.3364,1053.1152,781.3364,1049.1152" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;" x1="130.7085" x2="783.3364" y1="1049.1152" y2="1049.1152"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="108.9258" x="137.7085" y="1044.373">Get(subtreeHash)</text><polygon fill="#666666" points="141.7085,1074.4258,131.7085,1078.4258,141.7085,1082.4258,137.7085,1078.4258" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="135.7085" x2="788.3364" y1="1078.4258" y2="1078.4258"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="126.439" x="147.7085" y="1073.6836">Return subtreeBytes</text><line style="stroke:#666666;stroke-width:1.0;" x1="130.7085" x2="172.7085" y1="1107.7363" y2="1107.7363"/><line style="stroke:#666666;stroke-width:1.0;" x1="172.7085" x2="172.7085" y1="1107.7363" y2="1120.7363"/><line style="stroke:#666666;stroke-width:1.0;" x1="131.7085" x2="172.7085" y1="1120.7363" y2="1120.7363"/><polygon fill="#666666" points="141.7085,1116.7363,131.7085,1120.7363,141.7085,1124.7363,137.7085,1120.7363" style="stroke:#666666;stroke-width:1.0;"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="198.6563" x="137.7085" y="1102.9941">Parse subtreeBytes into subtree</text><path d="M40,1135.7363 L114.4468,1135.7363 L114.4468,1143.0469 L104.4468,1153.0469 L40,1153.0469 L40,1135.7363 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="202.8633" style="stroke:#000000;stroke-width:1.5;" width="703.082" x="40" y="1135.7363"/><text fill="#333333" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="29.4468" x="55" y="1149.3047">loop</text><text fill="#333333" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="185.249" x="129.4468" y="1148.3711">[for each node in subtree.Nodes]</text><line style="stroke:#666666;stroke-width:1.0;" x1="130.7085" x2="172.7085" y1="1174.3574" y2="1174.3574"/><line style="stroke:#666666;stroke-width:1.0;" x1="172.7085" x2="172.7085" y1="1174.3574" y2="1187.3574"/><line style="stroke:#666666;stroke-width:1.0;" x1="131.7085" x2="172.7085" y1="1187.3574" y2="1187.3574"/><polygon fill="#666666" points="141.7085,1183.3574,131.7085,1187.3574,141.7085,1191.3574,137.7085,1187.3574" style="stroke:#666666;stroke-width:1.0;"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="270.1436" x="137.7085" y="1169.6152">Check transaction existence and validation</text><polygon fill="#666666" points="691.8218,1212.668,701.8218,1216.668,691.8218,1220.668,695.8218,1216.668" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;" x1="130.7085" x2="697.8218" y1="1216.668" y2="1216.668"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96.9731" x="137.7085" y="1211.9258">Get(node.Hash)</text><polygon fill="#666666" points="141.7085,1241.9785,131.7085,1245.9785,141.7085,1249.9785,137.7085,1245.9785" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="135.7085" x2="702.8218" y1="1245.9785" y2="1245.9785"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91.73" x="147.7085" y="1241.2363">Return txBytes</text><line style="stroke:#666666;stroke-width:1.0;" x1="130.7085" x2="172.7085" y1="1275.2891" y2="1275.2891"/><line style="stroke:#666666;stroke-width:1.0;" x1="172.7085" x2="172.7085" y1="1275.2891" y2="1288.2891"/><line style="stroke:#666666;stroke-width:1.0;" x1="131.7085" x2="172.7085" y1="1288.2891" y2="1288.2891"/><polygon fill="#666666" points="141.7085,1284.2891,131.7085,1288.2891,141.7085,1292.2891,137.7085,1288.2891" style="stroke:#666666;stroke-width:1.0;"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="145.6406" x="137.7085" y="1270.5469">Parse txBytes into btTx</text><line style="stroke:#666666;stroke-width:1.0;" x1="130.7085" x2="172.7085" y1="1317.5996" y2="1317.5996"/><line style="stroke:#666666;stroke-width:1.0;" x1="172.7085" x2="172.7085" y1="1317.5996" y2="1330.5996"/><line style="stroke:#666666;stroke-width:1.0;" x1="131.7085" x2="172.7085" y1="1330.5996" y2="1330.5996"/><polygon fill="#666666" points="141.7085,1326.5996,131.7085,1330.5996,141.7085,1334.5996,137.7085,1330.5996" style="stroke:#666666;stroke-width:1.0;"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="224.8784" x="137.7085" y="1312.8574">Validate inputs and outputs of btTx</text><polygon fill="#666666" points="426.021,1362.9102,436.021,1366.9102,426.021,1370.9102,430.021,1366.9102" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;" x1="130.7085" x2="432.021" y1="1366.9102" y2="1366.9102"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="213.5352" x="137.7085" y="1362.168">Log subtree transactions and fees</text><line style="stroke:#666666;stroke-width:1.0;" x1="130.7085" x2="172.7085" y1="1396.2207" y2="1396.2207"/><line style="stroke:#666666;stroke-width:1.0;" x1="172.7085" x2="172.7085" y1="1396.2207" y2="1409.2207"/><line style="stroke:#666666;stroke-width:1.0;" x1="131.7085" x2="172.7085" y1="1409.2207" y2="1409.2207"/><polygon fill="#666666" points="141.7085,1405.2207,131.7085,1409.2207,141.7085,1413.2207,137.7085,1409.2207" style="stroke:#666666;stroke-width:1.0;"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="257.8228" x="137.7085" y="1391.4785">Check if subtreeFees match subtree.Fees</text><line style="stroke:#666666;stroke-width:1.0;" x1="130.7085" x2="172.7085" y1="1445.5313" y2="1445.5313"/><line style="stroke:#666666;stroke-width:1.0;" x1="172.7085" x2="172.7085" y1="1445.5313" y2="1458.5313"/><line style="stroke:#666666;stroke-width:1.0;" x1="131.7085" x2="172.7085" y1="1458.5313" y2="1458.5313"/><polygon fill="#666666" points="141.7085,1454.5313,131.7085,1458.5313,141.7085,1462.5313,137.7085,1458.5313" style="stroke:#666666;stroke-width:1.0;"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="206.5464" x="137.7085" y="1440.7891">Calculate and validate block fees</text><text fill="#333333" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="155.4346" x="0" y="1555.6875">Last Modified On: 24-Feb-2025</text><!--SRC=[fLLjQzim4FxkNt5aZ2RGP1s3CG8TBCco1fQrBDd8LyK-9wAk5AHprsxilqylZYqvBXsR88cjU-v5ppsdw5ik3aonEzYoz7QdP2cogIoaWXVpY_cx-JpHDIB3d9K5pQMW2lB6hG32b98_AkDRjvBa36QOSu6mbIf3fI4tLbOKW0NUeI0T-9jNJe_mAm6OE7GSo-osgvovbVnEWYYfgL39ud_3c6_YAJymGVyMogmmHc-wPrmi1E5EsLEkKDtp57l0D4mNCVIptErGEPDvJ396RCiqGczIoFGsjO5c4sUUp2Q1-TjwSxqYgNnK-nOOrvl6jDu4XbMv9ONOMAkD99akOFZUvXZ39wG9Qd85N24pLFG7YR70q22cYp5yHIgLW6qCQeTeBBhVWewkcDxt1-Vm-iAkxkY1Vv8KKXwSdf2b-z06l0K5itmbXi-n_O9qZwbfziu3OU_BjK1M41mKtdDPwg0-m0UkoSTgujdYlgFY-IFO-c-Cd_E1oyiuo9bsWDhTPh4Rg26J82J17QEqiNUKZ6Q-L0r0aIN7N_j9MkZmNDhC9i8zAtYDiuKl12TkDdyYa692ivIu54jsE0aMiwLVQI-HvvfW23394Tpi15s8zD3VdeXWuB1F2U3Sd8hlzlHyM-j-khVHL79XDRz-0AuhEfxWsXdDNU8TGdew132rIHkm7JmDgK8MuMEcP4c7aYn9JLKTpRUn75Nzj8OjPkTmR_m74TuYstIvlGo9yK97OCk9CrhXvVR-YimTXFXGqiZLkhXPY5omqFXNCLfZ54gv_Tmm_F71T20bO2BphM643U617A8oMkcvUAQhRepYn1-o42zFvkIqiTLeM27Nzz1eTPoNkBHgspSuS6mwMo7QZQsmaqV2hXlfXjcf2q6c55DzjVE498NCq9PSeKPVpBlkq6GZ-O0DtrSKAOPD2lNV15Xl_8bjmb5yNhlMc_PnwI4-QTTfAum_w9OwfydTraVvc7_wahIhrW-Z1fd7dgTYhCLKaHHIu6FbsDaIJnZFZuvp0_DNVitt_EXvJ1juio8j2rjrD07-ZdSPdNOBpEquIpBNxsUc2POoupd73Ax565vQdtulouRBvNBuQ5PlaFm1]--></g></svg>
