<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="904px" preserveAspectRatio="none" style="width:666px;height:904px;background:#F0F8FF;" version="1.1" viewBox="0 0 666 904" width="666px" zoomAndPan="magnify"><defs/><g><rect fill="#F0F8FF" height="904" style="stroke:none;stroke-width:1.0;" width="666" x="0" y="0"/><rect fill="#FFFFFF" height="545.8789" style="stroke:#181818;stroke-width:1.0;" width="10" x="228.7651" y="112.7988"/><rect fill="none" height="326.0156" style="stroke:#000000;stroke-width:1.5;" width="491.3618" x="168.002" y="212.4199"/><rect fill="none" height="191.8184" style="stroke:#000000;stroke-width:1.5;" width="471.3618" x="178.002" y="339.6172"/><rect fill="none" height="77.9316" style="stroke:#000000;stroke-width:1.5;" width="380.6226" x="168.002" y="552.4355"/><rect fill="none" height="46.6211" style="stroke:#000000;stroke-width:1.5;" width="360.6226" x="178.002" y="576.7461"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="27" x2="27" y1="81.4883" y2="808.541"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="233.002" x2="233.002" y1="81.4883" y2="808.541"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="490.8599" x2="490.8599" y1="81.4883" y2="808.541"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="588.6245" x2="588.6245" y1="81.4883" y2="808.541"/><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39.5049" x="5" y="78.5352">Client</text><ellipse cx="27.7524" cy="13.5" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M27.7524,21.5 L27.7524,48.5 M14.7524,29.5 L40.7524,29.5 M27.7524,48.5 L14.7524,63.5 M27.7524,48.5 L40.7524,63.5 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39.5049" x="5" y="821.0762">Client</text><ellipse cx="27.7524" cy="832.5293" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M27.7524,840.5293 L27.7524,867.5293 M14.7524,848.5293 L40.7524,848.5293 M27.7524,867.5293 L14.7524,882.5293 M27.7524,867.5293 L40.7524,882.5293 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#DDDDDD" height="30.4883" rx="2.5" ry="2.5" style="stroke:#666666;stroke-width:0.5;" width="91.5264" x="188.002" y="50"/><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="77.5264" x="195.002" y="70.5352">UTXO Store</text><rect fill="#DDDDDD" height="30.4883" rx="2.5" ry="2.5" style="stroke:#666666;stroke-width:0.5;" width="91.5264" x="188.002" y="807.541"/><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="77.5264" x="195.002" y="828.0762">UTXO Store</text><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="67.7646" x="454.8599" y="78.5352">Aerospike</text><path d="M473.7422,29 C473.7422,19 491.7422,19 491.7422,19 C491.7422,19 509.7422,19 509.7422,29 L509.7422,55 C509.7422,65 491.7422,65 491.7422,65 C491.7422,65 473.7422,65 473.7422,55 L473.7422,29 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M473.7422,29 C473.7422,39 491.7422,39 491.7422,39 C491.7422,39 509.7422,39 509.7422,29 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="67.7646" x="454.8599" y="821.0762">Aerospike</text><path d="M473.7422,834.0293 C473.7422,824.0293 491.7422,824.0293 491.7422,824.0293 C491.7422,824.0293 509.7422,824.0293 509.7422,834.0293 L509.7422,860.0293 C509.7422,870.0293 491.7422,870.0293 491.7422,870.0293 C491.7422,870.0293 473.7422,870.0293 473.7422,860.0293 L473.7422,834.0293 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M473.7422,834.0293 C473.7422,844.0293 491.7422,844.0293 491.7422,844.0293 C491.7422,844.0293 509.7422,844.0293 509.7422,834.0293 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="94.7393" x="538.6245" y="78.5352">External Store</text><path d="M570.9941,29 C570.9941,19 588.9941,19 588.9941,19 C588.9941,19 606.9941,19 606.9941,29 L606.9941,55 C606.9941,65 588.9941,65 588.9941,65 C588.9941,65 570.9941,65 570.9941,55 L570.9941,29 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M570.9941,29 C570.9941,39 588.9941,39 588.9941,39 C588.9941,39 606.9941,39 606.9941,29 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="94.7393" x="538.6245" y="821.0762">External Store</text><path d="M570.9941,834.0293 C570.9941,824.0293 588.9941,824.0293 588.9941,824.0293 C588.9941,824.0293 606.9941,824.0293 606.9941,834.0293 L606.9941,860.0293 C606.9941,870.0293 588.9941,870.0293 588.9941,870.0293 C588.9941,870.0293 570.9941,870.0293 570.9941,860.0293 L570.9941,834.0293 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M570.9941,834.0293 C570.9941,844.0293 588.9941,844.0293 588.9941,844.0293 C588.9941,844.0293 606.9941,844.0293 606.9941,834.0293 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><rect fill="#FFFFFF" height="545.8789" style="stroke:#181818;stroke-width:1.0;" width="10" x="228.7651" y="112.7988"/><polygon fill="#666666" points="216.7651,108.7988,226.7651,112.7988,216.7651,116.7988,220.7651,112.7988" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;" x1="27.7524" x2="222.7651" y1="112.7988" y2="112.7988"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="182.0127" x="34.7524" y="108.0566">Create(tx, blockHeight, opts)</text><line style="stroke:#666666;stroke-width:1.0;" x1="238.7651" x2="280.7651" y1="142.1094" y2="142.1094"/><line style="stroke:#666666;stroke-width:1.0;" x1="280.7651" x2="280.7651" y1="142.1094" y2="155.1094"/><line style="stroke:#666666;stroke-width:1.0;" x1="239.7651" x2="280.7651" y1="155.1094" y2="155.1094"/><polygon fill="#666666" points="249.7651,151.1094,239.7651,155.1094,249.7651,159.1094,245.7651,155.1094" style="stroke:#666666;stroke-width:1.0;"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147.1323" x="245.7651" y="137.3672">Prepare batchStoreItem</text><line style="stroke:#666666;stroke-width:1.0;" x1="238.7651" x2="280.7651" y1="184.4199" y2="184.4199"/><line style="stroke:#666666;stroke-width:1.0;" x1="280.7651" x2="280.7651" y1="184.4199" y2="197.4199"/><line style="stroke:#666666;stroke-width:1.0;" x1="239.7651" x2="280.7651" y1="197.4199" y2="197.4199"/><polygon fill="#666666" points="249.7651,193.4199,239.7651,197.4199,249.7651,201.4199,245.7651,197.4199" style="stroke:#666666;stroke-width:1.0;"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96.7764" x="245.7651" y="179.6777">sendStoreBatch</text><path d="M168.002,212.4199 L230.1406,212.4199 L230.1406,219.7305 L220.1406,229.7305 L168.002,229.7305 L168.002,212.4199 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="326.0156" style="stroke:#000000;stroke-width:1.5;" width="491.3618" x="168.002" y="212.4199"/><text fill="#333333" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1387" x="183.002" y="225.9883">alt</text><text fill="#333333" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="199.5469" x="245.1406" y="225.0547">[externalizeAllTransactions is true]</text><polygon fill="#666666" points="576.9941,247.041,586.9941,251.041,576.9941,255.041,580.9941,251.041" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;" x1="238.7651" x2="582.9941" y1="251.041" y2="251.041"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105.3521" x="245.7651" y="246.2988">Store full tx data</text><polygon fill="#666666" points="479.7422,276.3516,489.7422,280.3516,479.7422,284.3516,483.7422,280.3516" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;" x1="238.7651" x2="485.7422" y1="280.3516" y2="280.3516"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="169.0952" x="245.7651" y="275.6094">Store metadata and UTXOs</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="168.002" x2="659.3638" y1="289.3516" y2="289.3516"/><text fill="#333333" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="203.688" x="173.002" y="299.9863">[externalizeAllTransactions is false]</text><polygon fill="#666666" points="479.7422,320.6172,489.7422,324.6172,479.7422,328.6172,483.7422,324.6172" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;" x1="238.7651" x2="485.7422" y1="324.6172" y2="324.6172"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="160.2212" x="245.7651" y="319.875">Attempt to store full data</text><path d="M178.002,339.6172 L240.1406,339.6172 L240.1406,346.9277 L230.1406,356.9277 L178.002,356.9277 L178.002,339.6172 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="191.8184" style="stroke:#000000;stroke-width:1.5;" width="471.3618" x="178.002" y="339.6172"/><text fill="#333333" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1387" x="193.002" y="353.1855">alt</text><text fill="#333333" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="143.1289" x="255.1406" y="352.252">[RECORD_TOO_BIG error]</text><polygon fill="#666666" points="249.7651,374.2383,239.7651,378.2383,249.7651,382.2383,245.7651,378.2383" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="243.7651" x2="490.7422" y1="378.2383" y2="378.2383"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114.353" x="255.7651" y="373.4961">RECORD_TOO_BIG</text><line style="stroke:#666666;stroke-width:1.0;" x1="238.7651" x2="280.7651" y1="407.5488" y2="407.5488"/><line style="stroke:#666666;stroke-width:1.0;" x1="280.7651" x2="280.7651" y1="407.5488" y2="420.5488"/><line style="stroke:#666666;stroke-width:1.0;" x1="239.7651" x2="280.7651" y1="420.5488" y2="420.5488"/><polygon fill="#666666" points="249.7651,416.5488,239.7651,420.5488,249.7651,424.5488,245.7651,420.5488" style="stroke:#666666;stroke-width:1.0;"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="223.9771" x="245.7651" y="402.8066">Recalculate bins with external=true</text><polygon fill="#666666" points="576.9941,445.8594,586.9941,449.8594,576.9941,453.8594,580.9941,449.8594" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;" x1="238.7651" x2="582.9941" y1="449.8594" y2="449.8594"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105.3521" x="245.7651" y="445.1172">Store full tx data</text><polygon fill="#666666" points="479.7422,475.1699,489.7422,479.1699,479.7422,483.1699,483.7422,479.1699" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;" x1="238.7651" x2="485.7422" y1="479.1699" y2="479.1699"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="169.0952" x="245.7651" y="474.4277">Store metadata and UTXOs</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="178.002" x2="649.3638" y1="488.1699" y2="488.1699"/><text fill="#333333" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="52.2554" x="183.002" y="498.8047">[Success]</text><polygon fill="#666666" points="249.7651,519.4355,239.7651,523.4355,249.7651,527.4355,245.7651,523.4355" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="243.7651" x2="490.7422" y1="523.4355" y2="523.4355"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="48.8833" x="255.7651" y="518.6934">Success</text><path d="M168.002,552.4355 L230.1406,552.4355 L230.1406,559.7461 L220.1406,569.7461 L168.002,569.7461 L168.002,552.4355 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="77.9316" style="stroke:#000000;stroke-width:1.5;" width="380.6226" x="168.002" y="552.4355"/><text fill="#333333" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1387" x="183.002" y="566.0039">alt</text><text fill="#333333" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="145.5083" x="245.1406" y="565.0703">[Multiple records needed]</text><path d="M178.002,576.7461 L252.4487,576.7461 L252.4487,584.0566 L242.4487,594.0566 L178.002,594.0566 L178.002,576.7461 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="46.6211" style="stroke:#000000;stroke-width:1.5;" width="360.6226" x="178.002" y="576.7461"/><text fill="#333333" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="29.4468" x="193.002" y="590.3145">loop</text><text fill="#333333" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="96.3521" x="267.4487" y="589.3809">[For each record]</text><polygon fill="#666666" points="479.7422,611.3672,489.7422,615.3672,479.7422,619.3672,483.7422,615.3672" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;" x1="238.7651" x2="485.7422" y1="615.3672" y2="615.3672"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="110.4619" x="245.7651" y="610.625">Store part of data</text><polygon fill="#666666" points="38.7524,654.6777,28.7524,658.6777,38.7524,662.6777,34.7524,658.6777" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="32.7524" x2="232.7651" y1="658.6777" y2="658.6777"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="81.7705" x="44.7524" y="653.9355">Return result</text><path d="M194,671.6777 L194,742.6777 L529,742.6777 L529,681.6777 L519,671.6777 L194,671.6777 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M519,671.6777 L519,681.6777 L529,681.6777 L519,671.6777 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="168.3335" x="234.5793" y="689.2461">Aerospike records include:</text><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="180.5146" x="234.5793" y="704.5566">- external flag (if applicable)</text><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="70.459" x="234.5793" y="719.8672">- metadata</text><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="245.4639" x="234.5793" y="735.1777">- UTXOs (possibly split across records)</text><path d="M188,752.9199 L188,792.9199 L634,792.9199 L634,762.9199 L624,752.9199 L188,752.9199 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M624,752.9199 L624,762.9199 L634,762.9199 L624,752.9199 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="149.0303" x="332.1658" y="770.4883">External store contains:</text><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="128.7495" x="332.1658" y="785.7988">Full transaction data</text><text fill="#333333" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="155.4346" x="0" y="894.6973">Last Modified On: 24-Feb-2025</text><!--SRC=[fLJlQzim4Fskl-B866kWWS5WZC06gHjlXOMCkeDzAsVft8Weaf7a_jZO_xwJajXknqRP14aSlTExT-zE3bjjM_IuWnhbziQxpgh26UVXHVcwV5UM8lGHYXhiJ2oTZOUGDtcDGj1xTtS0t-Obn2iufqPRWjfvHJv0moWQ0sHeHpQ6qNd-g-C3_100PpdwCHVlFbLvdfVuAKOiaXLwP_wNXh-Zbhf56_-DIWYKaRSAexamm02569DElbvzMqF58JH9Q2KKHgmn42p8kz3gBQNznR0_MTv7yXRDwDXIY09c7w2QG-498vt4-rEeZPFRJwHlDl4KN1l3DAdHjunp8b4TJdpnn9AuEHZb9dDUHDhrS22hykvPmhaW4u4E4lHtMXXpvT66nEni01qW-exO5e1CiPplXKBJSSVZFQHA1dXnX7SKCK60La6o9GWoNE_VSpN8CO_O5f7Ljn6YWp3apKbpND9_kIpMb-VNL-lrzTd5Ho2UMP_1j1OmsrV-EAh7ZyPSaaGZEvFih3NBkTDnqyjztxlm32UUvKOAoevKdPGKmk-2nm1tJQHFxjUABwrk3O4doICSm18fKZdGEDT2oJDAA3U7W3-8IfCBhXbqzqcgBA58fiJEMwO9d58e6W-STVphRib3TSeJFGpuKPMsqdIAvcBMsmYDmHiuqGrWsnejiJOqPVpe3pzcT-2aTI7esZn0u3Y-QfBPmv5wccH24l14nbBqrsa_BUdDWTpDkIXpbuPvsvSzy1Xg8h_9-Dd3PmpiibEwqQHWRUVmKgLhE55gjbgjPW-y9bFn2m00]--></g></svg>
