<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="577px" preserveAspectRatio="none" style="width:539px;height:577px;background:#F0F8FF;" version="1.1" viewBox="0 0 539 577" width="539px" zoomAndPan="magnify"><defs/><g><rect fill="#F0F8FF" height="577" style="stroke:none;stroke-width:1.0;" width="539" x="0" y="0"/><rect fill="#FFFFFF" height="397.6816" style="stroke:#181818;stroke-width:1.0;" width="10" x="91.417" y="119.1094"/><rect fill="#FFFFFF" height="330.0605" style="stroke:#181818;stroke-width:1.0;" width="10" x="96.417" y="185.7305"/><rect fill="#FFFFFF" height="238.4395" style="stroke:#181818;stroke-width:1.0;" width="10" x="101.417" y="270.3516"/><rect fill="#FFFFFF" height="246.4395" style="stroke:#181818;stroke-width:1.0;" width="10" x="447.0806" y="270.3516"/><rect fill="#FFFFFF" height="135.1973" style="stroke:#181818;stroke-width:1.0;" width="10" x="452.0806" y="373.5938"/><rect fill="none" height="369.6816" style="stroke:#000000;stroke-width:1.5;" width="512.5938" x="10" y="139.1094"/><rect fill="none" height="211.4395" style="stroke:#000000;stroke-width:1.5;" width="492.5938" x="20" y="290.3516"/><rect fill="none" height="91.2422" style="stroke:#000000;stroke-width:1.5;" width="472.5938" x="30" y="403.5488"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="96" x2="96" y1="36.4883" y2="525.791"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="451.5674" x2="451.5674" y1="36.4883" y2="525.791"/><rect fill="#DDDDDD" height="30.4883" rx="2.5" ry="2.5" style="stroke:#666666;stroke-width:0.5;" width="112.834" x="40" y="5"/><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98.834" x="47" y="25.5352">Block Persister</text><rect fill="#DDDDDD" height="30.4883" rx="2.5" ry="2.5" style="stroke:#666666;stroke-width:0.5;" width="112.834" x="40" y="524.791"/><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98.834" x="47" y="545.3262">Block Persister</text><rect fill="#DDDDDD" height="30.4883" rx="2.5" ry="2.5" style="stroke:#666666;stroke-width:0.5;" width="81.0264" x="411.5674" y="5"/><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="67.0264" x="418.5674" y="25.5352">UtxoStore</text><rect fill="#DDDDDD" height="30.4883" rx="2.5" ry="2.5" style="stroke:#666666;stroke-width:0.5;" width="81.0264" x="411.5674" y="524.791"/><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="67.0264" x="418.5674" y="545.3262">UtxoStore</text><rect fill="#FFFFFF" height="397.6816" style="stroke:#181818;stroke-width:1.0;" width="10" x="91.417" y="119.1094"/><rect fill="#FFFFFF" height="330.0605" style="stroke:#181818;stroke-width:1.0;" width="10" x="96.417" y="185.7305"/><rect fill="#FFFFFF" height="238.4395" style="stroke:#181818;stroke-width:1.0;" width="10" x="101.417" y="270.3516"/><rect fill="#FFFFFF" height="246.4395" style="stroke:#181818;stroke-width:1.0;" width="10" x="447.0806" y="270.3516"/><rect fill="#FFFFFF" height="135.1973" style="stroke:#181818;stroke-width:1.0;" width="10" x="452.0806" y="373.5938"/><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="532.5938" x="0" y="67.1436"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="532.5938" y1="67.1436" y2="67.1436"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="532.5938" y1="70.1436" y2="70.1436"/><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2.0;" width="96.291" x="218.1514" y="56.4883"/><text fill="#333333" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="78.0063" x="224.1514" y="73.0566">Fetch UTXO</text><line style="stroke:#666666;stroke-width:1.0;" x1="96.417" x2="143.417" y1="106.1094" y2="106.1094"/><line style="stroke:#666666;stroke-width:1.0;" x1="143.417" x2="143.417" y1="106.1094" y2="119.1094"/><line style="stroke:#666666;stroke-width:1.0;" x1="102.417" x2="143.417" y1="119.1094" y2="119.1094"/><polygon fill="#666666" points="112.417,115.1094,102.417,119.1094,112.417,123.1094,108.417,119.1094" style="stroke:#666666;stroke-width:1.0;"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="253.2905" x="108.417" y="101.3672">persistBlock(ctx, blockHash, blockBytes)</text><path d="M10,139.1094 L84.4468,139.1094 L84.4468,146.4199 L74.4468,156.4199 L10,156.4199 L10,139.1094 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="369.6816" style="stroke:#000000;stroke-width:1.5;" width="512.5938" x="10" y="139.1094"/><text fill="#333333" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="29.4468" x="25" y="152.6777">loop</text><text fill="#333333" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="171.5742" x="99.4468" y="151.7441">[for each subtree in the block]</text><line style="stroke:#666666;stroke-width:1.0;" x1="101.417" x2="148.417" y1="172.7305" y2="172.7305"/><line style="stroke:#666666;stroke-width:1.0;" x1="148.417" x2="148.417" y1="172.7305" y2="185.7305"/><line style="stroke:#666666;stroke-width:1.0;" x1="107.417" x2="148.417" y1="185.7305" y2="185.7305"/><polygon fill="#666666" points="117.417,181.7305,107.417,185.7305,117.417,189.7305,113.417,185.7305" style="stroke:#666666;stroke-width:1.0;"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="271.8765" x="113.417" y="167.9883">processSubtree(ctx, subtreeHash, utxoDiff)</text><line style="stroke:#666666;stroke-width:1.0;" x1="106.417" x2="148.417" y1="220.041" y2="220.041"/><line style="stroke:#666666;stroke-width:1.0;" x1="148.417" x2="148.417" y1="220.041" y2="233.041"/><line style="stroke:#666666;stroke-width:1.0;" x1="107.417" x2="148.417" y1="233.041" y2="233.041"/><polygon fill="#666666" points="117.417,229.041,107.417,233.041,117.417,237.041,113.417,233.041" style="stroke:#666666;stroke-width:1.0;"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="262.0439" x="113.417" y="215.2988">Collect the list of txHashes in the Subtree</text><line style="stroke:#666666;stroke-width:1.0;" x1="106.417" x2="153.417" y1="257.3516" y2="257.3516"/><line style="stroke:#666666;stroke-width:1.0;" x1="153.417" x2="153.417" y1="257.3516" y2="270.3516"/><line style="stroke:#666666;stroke-width:1.0;" x1="112.417" x2="153.417" y1="270.3516" y2="270.3516"/><polygon fill="#666666" points="122.417,266.3516,112.417,270.3516,122.417,274.3516,118.417,270.3516" style="stroke:#666666;stroke-width:1.0;"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="311.6636" x="118.417" y="252.6094">processTxMetaUsingStore(ctx, txHashes, txBytes)</text><path d="M20,290.3516 L82.1387,290.3516 L82.1387,297.6621 L72.1387,307.6621 L20,307.6621 L20,290.3516 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="211.4395" style="stroke:#000000;stroke-width:1.5;" width="492.5938" x="20" y="290.3516"/><text fill="#333333" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1387" x="35" y="303.9199">alt</text><text fill="#333333" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="4.0767" x="97.1387" y="302.9863">[</text><text fill="#333333" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="114.8394" x="129.7681" y="302.9863">batched processing]</text><polygon fill="#666666" points="435.0806,324.9727,445.0806,328.9727,435.0806,332.9727,439.0806,328.9727" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;" x1="111.417" x2="441.0806" y1="328.9727" y2="328.9727"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="246.0352" x="118.417" y="324.2305">MetaBatchDecorate(ctx, txHashes, "tx")</text><polygon fill="#666666" points="122.417,369.5938,112.417,373.5938,122.417,377.5938,118.417,373.5938" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;" x1="116.417" x2="451.0806" y1="373.5938" y2="373.5938"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="260.3809" x="128.417" y="353.541">Return UTXO Meta Data for the tx hashes</text><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4.1133" x="128.417" y="368.8516">&#160;</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="20" x2="512.5938" y1="382.5938" y2="382.5938"/><text fill="#333333" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="4.0767" x="25" y="393.2285">[</text><text fill="#333333" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="3.6255" x="54.0039" y="393.2285">&#160;</text><text fill="#333333" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="3.6255" x="83.0078" y="393.2285">&#160;</text><text fill="#333333" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="104.1133" x="115.6372" y="393.2285">single processing]</text><path d="M30,403.5488 L104.4468,403.5488 L104.4468,410.8594 L94.4468,420.8594 L30,420.8594 L30,403.5488 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="91.2422" style="stroke:#000000;stroke-width:1.5;" width="472.5938" x="30" y="403.5488"/><text fill="#333333" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="29.4468" x="45" y="417.1172">loop</text><text fill="#333333" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="182.585" x="119.4468" y="416.1836">[for each tx hash in the subtree]</text><polygon fill="#666666" points="440.0806,438.1699,450.0806,442.1699,440.0806,446.1699,444.0806,442.1699" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;" x1="111.417" x2="446.0806" y1="442.1699" y2="442.1699"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.4185" x="118.417" y="437.4277">GetMeta(ctx, txHash)</text><polygon fill="#666666" points="122.417,482.791,112.417,486.791,122.417,490.791,118.417,486.791" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;" x1="116.417" x2="451.0806" y1="486.791" y2="486.791"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="246.5112" x="128.417" y="466.7383">Return UTXO Meta Data for the tx hash</text><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4.1133" x="128.417" y="482.0488">&#160;</text><text fill="#333333" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="155.4346" x="0" y="566.9473">Last Modified On: 24-Feb-2025</text><!--SRC=[hPDDYzim48Rl-XM3IsaN6YWKIWcaXzIuFTHiwMwWXxqerdWZefM2D6aTIlzxH_97RNUNJJz4OkJHpAjdzCfXh-r1Uda7MrdjRxqxMlNE6UVXIV6oU5CK8WmP2cjvD5GuIrtAgpH6AT9xzwrRV9s64CyWnrfRXAtp2ds0cbUbCO06xz1I6DNpgwOJV1S0wvGzrUBed39FG_mG8vMA2Rqp_oh3JzALFaXBVoSbn5WYMnjNxU4J7u4EX3u36I35Xj0qVqEDkoBdCMKERqAiLb0WLJlON7-vXDLAJ5LWyNQckuH3EqtXvnKrBs0Rfnzas7NJzOamN0XPaVug2UTanhb3SWubRnoEM_A8e2tG3bk1SoYygp24gxQwvUYaMf8ZDvdhkdwOuunTs0U35IKomp5mDL0JDy3G4tS8udpewwP4afkWxMsoeQNlTUFiaHCKGXg26-8lZRr3rGkpeFXLDBBvTxHXSGaHPXs5SgoSvyevJqPDTY74K79VQv-HZjwsroWAGYxv4LsEPqGDx9BOZHK2JS08t_uYjC591zCBqjNsnntwu_xZFjyZHR9nT_-bgzIJLUcly3wiKNJcvAncxhF1cdWx5vlvAFd-bKxfMhFZbtO9JrKqArDgKPRbuiI3RVe9]--></g></svg>
