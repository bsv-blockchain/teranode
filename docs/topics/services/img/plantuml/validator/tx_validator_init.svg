<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="734px" preserveAspectRatio="none" style="width:1005px;height:734px;background:#F0F8FF;" version="1.1" viewBox="0 0 1005 734" width="1005px" zoomAndPan="magnify"><defs/><g><rect fill="#F0F8FF" height="734" style="stroke:none;stroke-width:1.0;" width="1005" x="0" y="0"/><rect fill="none" height="120.1973" style="stroke:#000000;stroke-width:1.5;" width="442.2139" x="10" y="246.3516"/><rect fill="none" height="75.9316" style="stroke:#000000;stroke-width:1.5;" width="431.6807" x="442.2139" y="409.8594"/><rect fill="none" height="90.8867" style="stroke:#000000;stroke-width:1.5;" width="498.792" x="10" y="558.4121"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="43" x2="43" y1="53.4883" y2="666.2988"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="130.5254" x2="130.5254" y1="53.4883" y2="666.2988"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="351.2256" x2="351.2256" y1="53.4883" y2="666.2988"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="423.1035" x2="423.1035" y1="53.4883" y2="666.2988"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="475.2139" x2="475.2139" y1="53.4883" y2="666.2988"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="620.1973" x2="620.1973" y1="53.4883" y2="666.2988"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="798.5811" x2="798.5811" y1="53.4883" y2="666.2988"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="935.8945" x2="935.8945" y1="53.4883" y2="666.2988"/><rect fill="#DDDDDD" height="30.4883" rx="2.5" ry="2.5" style="stroke:#666666;stroke-width:0.5;" width="46.5254" x="20" y="22"/><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32.5254" x="27" y="42.5352">Main</text><rect fill="#DDDDDD" height="30.4883" rx="2.5" ry="2.5" style="stroke:#666666;stroke-width:0.5;" width="46.5254" x="20" y="665.2988"/><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32.5254" x="27" y="685.834">Main</text><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102.7578" x="76.5254" y="50.5352">Server Instance</text><ellipse cx="130.9043" cy="21" fill="#DDDDDD" rx="12" ry="12" style="stroke:#666666;stroke-width:0.5;"/><line style="stroke:#666666;stroke-width:0.5;" x1="118.9043" x2="142.9043" y1="35" y2="35"/><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102.7578" x="76.5254" y="678.834">Server Instance</text><ellipse cx="130.9043" cy="697.7871" fill="#DDDDDD" rx="12" ry="12" style="stroke:#666666;stroke-width:0.5;"/><line style="stroke:#666666;stroke-width:0.5;" x1="118.9043" x2="142.9043" y1="711.7871" y2="711.7871"/><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79.8779" x="309.2256" y="50.5352">NewServer()</text><ellipse cx="352.1646" cy="21" fill="#DDDDDD" rx="12" ry="12" style="stroke:#666666;stroke-width:0.5;"/><polygon fill="#666666" points="348.1646,9,354.1646,4,352.1646,9,354.1646,14,348.1646,9" style="stroke:#666666;stroke-width:1.0;"/><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79.8779" x="309.2256" y="678.834">NewServer()</text><ellipse cx="352.1646" cy="697.7871" fill="#DDDDDD" rx="12" ry="12" style="stroke:#666666;stroke-width:0.5;"/><polygon fill="#666666" points="348.1646,685.7871,354.1646,680.7871,352.1646,685.7871,354.1646,690.7871,348.1646,685.7871" style="stroke:#666666;stroke-width:1.0;"/><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31.1104" x="405.1035" y="50.5352">Init()</text><ellipse cx="423.6587" cy="21" fill="#DDDDDD" rx="12" ry="12" style="stroke:#666666;stroke-width:0.5;"/><polygon fill="#666666" points="419.6587,9,425.6587,4,423.6587,9,425.6587,14,419.6587,9" style="stroke:#666666;stroke-width:1.0;"/><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31.1104" x="405.1035" y="678.834">Init()</text><ellipse cx="423.6587" cy="697.7871" fill="#DDDDDD" rx="12" ry="12" style="stroke:#666666;stroke-width:0.5;"/><polygon fill="#666666" points="419.6587,685.7871,425.6587,680.7871,423.6587,685.7871,425.6587,690.7871,419.6587,685.7871" style="stroke:#666666;stroke-width:1.0;"/><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40.5781" x="452.2139" y="50.5352">Start()</text><ellipse cx="475.5029" cy="21" fill="#DDDDDD" rx="12" ry="12" style="stroke:#666666;stroke-width:0.5;"/><polygon fill="#666666" points="471.5029,9,477.5029,4,475.5029,9,477.5029,14,471.5029,9" style="stroke:#666666;stroke-width:1.0;"/><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40.5781" x="452.2139" y="678.834">Start()</text><ellipse cx="475.5029" cy="697.7871" fill="#DDDDDD" rx="12" ry="12" style="stroke:#666666;stroke-width:0.5;"/><polygon fill="#666666" points="471.5029,685.7871,477.5029,680.7871,475.5029,685.7871,477.5029,690.7871,471.5029,685.7871" style="stroke:#666666;stroke-width:1.0;"/><rect fill="#DDDDDD" height="30.4883" rx="2.5" ry="2.5" style="stroke:#666666;stroke-width:0.5;" width="75.0859" x="583.1973" y="22"/><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61.0859" x="590.1973" y="42.5352">Validator</text><rect fill="#DDDDDD" height="30.4883" rx="2.5" ry="2.5" style="stroke:#666666;stroke-width:0.5;" width="75.0859" x="583.1973" y="665.2988"/><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61.0859" x="590.1973" y="685.834">Validator</text><rect fill="#DDDDDD" height="30.4883" rx="2.5" ry="2.5" style="stroke:#666666;stroke-width:0.5;" width="130.3135" x="733.5811" y="22"/><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116.3135" x="740.5811" y="42.5352">Blockchain Client</text><rect fill="#DDDDDD" height="30.4883" rx="2.5" ry="2.5" style="stroke:#666666;stroke-width:0.5;" width="130.3135" x="733.5811" y="665.2988"/><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116.3135" x="740.5811" y="685.834">Blockchain Client</text><rect fill="#DDDDDD" height="30.4883" rx="2.5" ry="2.5" style="stroke:#666666;stroke-width:0.5;" width="125.7607" x="873.8945" y="22"/><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111.7607" x="880.8945" y="42.5352">Kafka Consumer</text><rect fill="#DDDDDD" height="30.4883" rx="2.5" ry="2.5" style="stroke:#666666;stroke-width:0.5;" width="125.7607" x="873.8945" y="665.2988"/><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111.7607" x="880.8945" y="685.834">Kafka Consumer</text><polygon fill="#666666" points="340.1646,80.7988,350.1646,84.7988,340.1646,88.7988,344.1646,84.7988" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;" x1="43.2627" x2="346.1646" y1="84.7988" y2="84.7988"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="284.9019" x="50.2627" y="80.0566">Initialize(logger, utxoStore, blockchainClient)</text><polygon fill="#666666" points="141.9043,110.1094,131.9043,114.1094,141.9043,118.1094,137.9043,114.1094" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;" x1="135.9043" x2="351.1646" y1="114.1094" y2="114.1094"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="97.4175" x="147.9043" y="109.3672">Create instance</text><polygon fill="#666666" points="141.9043,139.4199,131.9043,143.4199,141.9043,147.4199,137.9043,143.4199" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;" x1="135.9043" x2="351.1646" y1="143.4199" y2="143.4199"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104.2983" x="147.9043" y="138.6777">Initialize metrics</text><polygon fill="#666666" points="54.2627,168.7305,44.2627,172.7305,54.2627,176.7305,50.2627,172.7305" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;" x1="48.2627" x2="351.1646" y1="172.7305" y2="172.7305"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="98.3569" x="60.2627" y="167.9883">Return instance</text><polygon fill="#666666" points="411.6587,198.041,421.6587,202.041,411.6587,206.041,415.6587,202.041" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;" x1="43.2627" x2="417.6587" y1="202.041" y2="202.041"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="112.6455" x="50.2627" y="197.2988">Initialize validator</text><polygon fill="#666666" points="608.7402,227.3516,618.7402,231.3516,608.7402,235.3516,612.7402,231.3516" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;" x1="423.6587" x2="614.7402" y1="231.3516" y2="231.3516"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="173.0815" x="430.6587" y="226.6094">New(ctx, logger, utxoStore)</text><path d="M10,246.3516 L72.1387,246.3516 L72.1387,253.6621 L62.1387,263.6621 L10,263.6621 L10,246.3516 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="120.1973" style="stroke:#000000;stroke-width:1.5;" width="442.2139" x="10" y="246.3516"/><text fill="#333333" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1387" x="25" y="259.9199">alt</text><text fill="#333333" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="166.5039" x="87.1387" y="258.9863">[if error in validator creation]</text><polygon fill="#666666" points="54.2627,280.9727,44.2627,284.9727,54.2627,288.9727,50.2627,284.9727" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;" x1="48.2627" x2="422.6587" y1="284.9727" y2="284.9727"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="77.0796" x="60.2627" y="280.2305">Return error</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="10" x2="452.2139" y1="293.9727" y2="293.9727"/><text fill="#333333" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="177.1387" x="15" y="304.6074">[validator created successfully]</text><polygon fill="#666666" points="141.9043,325.2383,131.9043,329.2383,141.9043,333.2383,137.9043,329.2383" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;" x1="135.9043" x2="422.6587" y1="329.2383" y2="329.2383"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="225.8433" x="147.9043" y="324.4961">Setup Kafka consumer if configured</text><polygon fill="#666666" points="54.2627,354.5488,44.2627,358.5488,54.2627,362.5488,50.2627,358.5488" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;" x1="48.2627" x2="422.6587" y1="358.5488" y2="358.5488"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94.4023" x="60.2627" y="353.8066">Return success</text><polygon fill="#666666" points="463.5029,390.8594,473.5029,394.8594,463.5029,398.8594,467.5029,394.8594" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;" x1="43.2627" x2="469.5029" y1="394.8594" y2="394.8594"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83.5415" x="50.2627" y="390.1172">Start services</text><path d="M442.2139,409.8594 L504.3525,409.8594 L504.3525,417.1699 L494.3525,427.1699 L442.2139,427.1699 L442.2139,409.8594 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="75.9316" style="stroke:#000000;stroke-width:1.5;" width="431.6807" x="442.2139" y="409.8594"/><text fill="#333333" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1387" x="457.2139" y="423.4277">alt</text><text fill="#333333" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="152.8345" x="519.3525" y="422.4941">[if fsmStateRestore is true]</text><polygon fill="#666666" points="786.7378,444.4805,796.7378,448.4805,786.7378,452.4805,790.7378,448.4805" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;" x1="475.5029" x2="792.7378" y1="448.4805" y2="448.4805"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75.4482" x="482.5029" y="443.7383">Restore(ctx)</text><polygon fill="#666666" points="786.7378,473.791,796.7378,477.791,786.7378,481.791,790.7378,477.791" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;" x1="475.5029" x2="792.7378" y1="477.791" y2="477.791"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="299.2349" x="482.5029" y="473.0488">WaitForFSMtoTransitionToGivenState(RUNNING)</text><polygon fill="#666666" points="924.7749,510.1016,934.7749,514.1016,924.7749,518.1016,928.7749,514.1016" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;" x1="475.5029" x2="930.7749" y1="514.1016" y2="514.1016"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="57.1733" x="482.5029" y="509.3594">Start(ctx)</text><polygon fill="#666666" points="141.9043,539.4121,131.9043,543.4121,141.9043,547.4121,137.9043,543.4121" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;" x1="135.9043" x2="474.5029" y1="543.4121" y2="543.4121"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="108.437" x="147.9043" y="538.6699">Start gRPC server</text><path d="M10,558.4121 L72.1387,558.4121 L72.1387,565.7227 L62.1387,575.7227 L10,575.7227 L10,558.4121 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="90.8867" style="stroke:#000000;stroke-width:1.5;" width="498.792" x="10" y="558.4121"/><text fill="#333333" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1387" x="25" y="571.9805">alt</text><text fill="#333333" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="135.1313" x="87.1387" y="571.0469">[if error in gRPC server]</text><polygon fill="#666666" points="54.2627,593.0332,44.2627,597.0332,54.2627,601.0332,50.2627,597.0332" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;" x1="48.2627" x2="474.5029" y1="597.0332" y2="597.0332"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="77.0796" x="60.2627" y="592.291">Return error</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="10" x2="508.792" y1="606.0332" y2="606.0332"/><text fill="#333333" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="154.5586" x="15" y="616.668">[gRPC started successfully]</text><polygon fill="#666666" points="54.2627,637.2988,44.2627,641.2988,54.2627,645.2988,50.2627,641.2988" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;" x1="48.2627" x2="474.5029" y1="641.2988" y2="641.2988"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94.4023" x="60.2627" y="636.5566">Return success</text><text fill="#333333" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="155.4346" x="0" y="724.4551">Last Modified On: 24-Feb-2025</text><!--SRC=[fLHDYzim4BthLmmkfJ4aK2YKaaCFcyLBQ9EMPDkU5MkSYYXIaEJifgN_lIFvAqgp57PrIEIPDs_UVDXk9_M1Mxw73IztMsjgBMP66GklYhV5Xw9WhaS8h7YjV66qRo7luZc3S6lDG-jy7mzZR-0MAwaHDiOAj0ugydAb01NkKNjt5a-Fqf_WDmEuYUYKYwoNAc_ZON_O6Kj92grHBwMXNozBUU3QFu-AiNEA1PUQjGLcQxH7j33NpdDTOWRSGMDZdVfiYG-DQPH7V_yyGEPQ-jORheDZxIbpwudtHCfthgJWtjZ4cjqeK-xAdwGJPagIr1W-M1jZ6lE9LpiECwDTlKSR0wAfip0MweR9nq7-D6gLfE4NZfJPRj6EeVQFPasAS0oRYuGvwqC3JqSoiyWzWcnRU1qqP88zUYjBb-A2k2ciqDTM3rIzvX2Ua1pxpWLZWFIzd8OAHwL_7CC_HUMCAm-o0gGNn5AYWGZAK8SqcdO9e6DDTCKWXihXPHWAS7LPedDLhTGfeUXQi2QIGpEKy6R4gGGfTA_ajhOedixSajFQYg4fSP-cpHyuoY89qnLOkJqvFAxGXS91El2snfYYYI26ovKA-I8yj2__7_O7b_GHiiLwuSszvTh9qBvxSoUFg6FoqUhRSZbVtkLHU4-LB6PRG9EnX_HDYuRjwkiiLaXxV3d0SryY-AdHDG41TMrgryEJ_YkiF7qyZQVvVUQElYX6o4eIsnUAU2r2uPaGayLYCJdHoNBs5m00]--></g></svg>
