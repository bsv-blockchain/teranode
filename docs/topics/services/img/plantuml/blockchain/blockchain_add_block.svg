<svg contentStyleType="text/css" height="1020" preserveAspectRatio="none" viewBox="0 0 1630 1020" width="1630" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" zoomAndPan="magnify"><path d="m0 0h1630v1020h-1630z" fill="#f0f8ff"/><g fill="#fff"><path d="m223.3325 98.7988h10v830.3848h-10z" stroke="#181818"/><path d="m478.0679 128.1094h10v801.0742h-10z" stroke="#181818"/><path d="m483.0679 559.457h10v153.5527h-10z" stroke="#181818"/><path d="m792.7104 157.4199h10v29.3105h-10z" stroke="#181818"/><path d="m911.5215 216.041h10v29.3105h-10z" stroke="#181818"/><path d="m911.5215 742.3203h10v29.3105h-10z" stroke="#181818"/><path d="m1032.5674 316.9727h10v29.3105h-10z" stroke="#181818"/><path d="m1206.7192 375.5938h10v29.3105h-10z" stroke="#181818"/><path d="m1320.9551 434.2148h10v29.3105h-10z" stroke="#181818"/><path d="m1421.1875 618.0781h10v29.3105h-10z" stroke="#181818"/><path d="m1544.8135 492.8359h10v29.3105h-10z" stroke="#181818"/><path d="m1544.8135 683.6992h10v29.3105h-10z" stroke="#181818"/><path d="m1544.8135 825.252h10v29.3105h-10z" stroke="#181818"/></g><path d="m390.2026 579.457h1094.4541v75.9316h-1094.4541z" fill="none" stroke="#000" stroke-width="1.5"/><path d="m390.2026 786.6309h1234.7676v75.9316h-1234.7676z" fill="none" stroke="#000" stroke-width="1.5"/><path d="m35 67.4883v870.6953" stroke="#181818" stroke-dasharray="5 5" stroke-width=".5"/><path d="m227.6362 67.4883v870.6953" stroke="#181818" stroke-dasharray="5 5" stroke-width=".5"/><path d="m482.2026 67.4883v870.6953" stroke="#181818" stroke-dasharray="5 5" stroke-width=".5"/><path d="m797.2344 67.4883v870.6953" stroke="#181818" stroke-dasharray="5 5" stroke-width=".5"/><path d="m916.1865 67.4883v870.6953" stroke="#181818" stroke-dasharray="5 5" stroke-width=".5"/><path d="m982.8564 67.4883v870.6953" stroke="#181818" stroke-dasharray="5 5" stroke-width=".5"/><path d="m1036.9092 67.4883v870.6953" stroke="#181818" stroke-dasharray="5 5" stroke-width=".5"/><path d="m1211.2466 67.4883v870.6953" stroke="#181818" stroke-dasharray="5 5" stroke-width=".5"/><path d="m1325.1919 67.4883v870.6953" stroke="#181818" stroke-dasharray="5 5" stroke-width=".5"/><path d="m1425.7183 67.4883v870.6953" stroke="#181818" stroke-dasharray="5 5" stroke-width=".5"/><path d="m1549.6567 67.4883v870.6953" stroke="#181818" stroke-dasharray="5 5" stroke-width=".5"/><rect fill="#ddd" height="30.4883" rx="2.5" stroke="#666" stroke-width=".5" width="60.2588" x="5" y="36"/><text fill="#333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="46.2588" x="12" y="56.5352">Mining</text><rect fill="#ddd" height="30.4883" rx="2.5" stroke="#666" stroke-width=".5" width="60.2588" x="5" y="937.1836"/><text fill="#333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="46.2588" x="12" y="957.7188">Mining</text><rect fill="#ddd" height="30.4883" rx="2.5" stroke="#666" stroke-width=".5" width="163.3926" x="146.6362" y="36"/><text fill="#333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="149.3926" x="153.6362" y="56.5352">Block Assembly Client</text><rect fill="#ddd" height="30.4883" rx="2.5" stroke="#666" stroke-width=".5" width="163.3926" x="146.6362" y="937.1836"/><text fill="#333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="149.3926" x="153.6362" y="957.7188">Block Assembly Client</text><rect fill="#ddd" height="30.4883" rx="2.5" stroke="#666" stroke-width=".5" width="165.7305" x="400.2026" y="36"/><text fill="#333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="151.7305" x="407.2026" y="56.5352">Block Assembly Server</text><rect fill="#ddd" height="30.4883" rx="2.5" stroke="#666" stroke-width=".5" width="165.7305" x="400.2026" y="937.1836"/><text fill="#333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="151.7305" x="407.2026" y="957.7188">Block Assembly Server</text><rect fill="#ddd" height="30.4883" rx="2.5" stroke="#666" stroke-width=".5" width="146.9521" x="724.2344" y="36"/><text fill="#333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="132.9521" x="731.2344" y="56.5352">blockSubmissionCh</text><rect fill="#ddd" height="30.4883" rx="2.5" stroke="#666" stroke-width=".5" width="146.9521" x="724.2344" y="937.1836"/><text fill="#333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="132.9521" x="731.2344" y="957.7188">blockSubmissionCh</text><rect fill="#ddd" height="30.4883" rx="2.5" stroke="#666" stroke-width=".5" width="70.6699" x="881.1865" y="36"/><text fill="#333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56.6699" x="888.1865" y="56.5352">JobStore</text><rect fill="#ddd" height="30.4883" rx="2.5" stroke="#666" stroke-width=".5" width="70.6699" x="881.1865" y="937.1836"/><text fill="#333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56.6699" x="888.1865" y="957.7188">JobStore</text><text fill="#333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36.0527" x="961.8564" y="64.5352">Block</text><ellipse cx="982.8828" cy="35" fill="#ddd" rx="12" ry="12" stroke="#666" stroke-width=".5"/><path d="m970.8828 49h24" stroke="#666" stroke-width=".5"/><text fill="#333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36.0527" x="961.8564" y="950.7188">Block</text><ellipse cx="982.8828" cy="969.6719" fill="#ddd" rx="12" ry="12" stroke="#666" stroke-width=".5"/><path d="m970.8828 983.6719h24" stroke="#666" stroke-width=".5"/><text fill="#333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="41.3164" x="1013.9092" y="64.5352">Model</text><ellipse cx="1037.5674" cy="35" fill="#ddd" rx="12" ry="12" stroke="#666" stroke-width=".5"/><path d="m1025.5674 49h24" stroke="#666" stroke-width=".5"/><text fill="#333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="41.3164" x="1013.9092" y="950.7188">Model</text><ellipse cx="1037.5674" cy="969.6719" fill="#ddd" rx="12" ry="12" stroke="#666" stroke-width=".5"/><path d="m1025.5674 983.6719h24" stroke="#666" stroke-width=".5"/><text fill="#333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118.9453" x="1149.2466" y="64.5352">Transaction Store</text><path d="m1193.7192 15c0-10 18-10 18-10s18 0 18 10v26c0 10-18 10-18 10s-18 0-18-10z" fill="#e2e2f0" stroke="#181818" stroke-width="1.5"/><path d="m1193.7192 15c0 10 18 10 18 10s18 0 18-10" fill="none" stroke="#181818" stroke-width="1.5"/><text fill="#333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118.9453" x="1149.2466" y="950.7188">Transaction Store</text><path d="m1193.7192 963.6719c0-10 18-10 18-10s18 0 18 10v26c0 10-18 10-18 10s-18 0-18-10z" fill="#e2e2f0" stroke="#181818" stroke-width="1.5"/><path d="m1193.7192 963.6719c0 10 18 10 18 10s18 0 18-10" fill="none" stroke="#181818" stroke-width="1.5"/><text fill="#333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="77.5264" x="1284.1919" y="64.5352">UTXO Store</text><path d="m1307.9551 15c0-10 18-10 18-10s18 0 18 10v26c0 10-18 10-18 10s-18 0-18-10z" fill="#e2e2f0" stroke="#181818" stroke-width="1.5"/><path d="m1307.9551 15c0 10 18 10 18 10s18 0 18-10" fill="none" stroke="#181818" stroke-width="1.5"/><text fill="#333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="77.5264" x="1284.1919" y="950.7188">UTXO Store</text><path d="m1307.9551 963.6719c0-10 18-10 18-10s18 0 18 10v26c0 10-18 10-18 10s-18 0-18-10z" fill="#e2e2f0" stroke="#181818" stroke-width="1.5"/><path d="m1307.9551 963.6719c0 10 18 10 18 10s18 0 18-10" fill="none" stroke="#181818" stroke-width="1.5"/><text fill="#333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="90.9385" x="1377.7183" y="64.5352">Subtree Store</text><path d="m1408.1875 15c0-10 18-10 18-10s18 0 18 10v26c0 10-18 10-18 10s-18 0-18-10z" fill="#e2e2f0" stroke="#181818" stroke-width="1.5"/><path d="m1408.1875 15c0 10 18 10 18 10s18 0 18-10" fill="none" stroke="#181818" stroke-width="1.5"/><text fill="#333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="90.9385" x="1377.7183" y="950.7188">Subtree Store</text><path d="m1408.1875 963.6719c0-10 18-10 18-10s18 0 18 10v26c0 10-18 10-18 10s-18 0-18-10z" fill="#e2e2f0" stroke="#181818" stroke-width="1.5"/><path d="m1408.1875 963.6719c0 10 18 10 18 10s18 0 18-10" fill="none" stroke="#181818" stroke-width="1.5"/><rect fill="#ddd" height="30.4883" rx="2.5" stroke="#666" stroke-width=".5" width="130.3135" x="1484.6567" y="36"/><text fill="#333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116.3135" x="1491.6567" y="56.5352">Blockchain Client</text><rect fill="#ddd" height="30.4883" rx="2.5" stroke="#666" stroke-width=".5" width="130.3135" x="1484.6567" y="937.1836"/><text fill="#333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116.3135" x="1491.6567" y="957.7188">Blockchain Client</text><path d="m223.3325 98.7988h10v830.3848h-10z" fill="#fff" stroke="#181818"/><path d="m478.0679 128.1094h10v801.0742h-10z" fill="#fff" stroke="#181818"/><path d="m483.0679 559.457h10v153.5527h-10z" fill="#fff" stroke="#181818"/><path d="m792.7104 157.4199h10v29.3105h-10z" fill="#fff" stroke="#181818"/><path d="m911.5215 216.041h10v29.3105h-10z" fill="#fff" stroke="#181818"/><path d="m911.5215 742.3203h10v29.3105h-10z" fill="#fff" stroke="#181818"/><path d="m1032.5674 316.9727h10v29.3105h-10z" fill="#fff" stroke="#181818"/><path d="m1206.7192 375.5938h10v29.3105h-10z" fill="#fff" stroke="#181818"/><path d="m1320.9551 434.2148h10v29.3105h-10z" fill="#fff" stroke="#181818"/><path d="m1421.1875 618.0781h10v29.3105h-10z" fill="#fff" stroke="#181818"/><path d="m1544.8135 492.8359h10v29.3105h-10z" fill="#fff" stroke="#181818"/><path d="m1544.8135 683.6992h10v29.3105h-10z" fill="#fff" stroke="#181818"/><path d="m1544.8135 825.252h10v29.3105h-10z" fill="#fff" stroke="#181818"/><path d="m211.3325 94.7988 10 4-10 4 4-4z" fill="#666" stroke="#666"/><path d="m35.1294 98.7988h182.2031" stroke="#666"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="169.2031" x="42.1294" y="94.0566">Solve the mining challenge</text><path d="m466.0679 124.1094 10 4-10 4 4-4z" fill="#666" stroke="#666"/><path d="m233.3325 128.1094h238.7354" stroke="#666"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="225.7354" x="240.3325" y="123.3672">SubmitMiningSolution(ctx, solution)</text><path d="m780.7104 153.4199 10 4-10 4 4-4z" fill="#666" stroke="#666"/><path d="m488.0679 157.4199h298.6425" stroke="#666"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139.5786" x="495.0679" y="152.6777">Add block submission</text><path d="m499.0679 182.7305-10 4 10 4-4-4z" fill="#666" stroke="#666"/><path d="m493.0679 186.7305h303.6425" stroke="#666"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="280.6426" x="505.0679" y="181.9883">submitMiningSolution(ctx, blockSubmission)</text><path d="m899.5215 212.041 10 4-10 4 4-4z" fill="#666" stroke="#666"/><path d="m488.0679 216.041h417.4536" stroke="#666"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="146.853" x="495.0679" y="211.2988">jobItem = Get(*storeId)</text><path d="m499.0679 241.3516-10 4 10 4-4-4z" fill="#666" stroke="#666"/><path d="m493.0679 245.3516h422.4536" stroke="#666" stroke-dasharray="2 2"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91.1016" x="505.0679" y="240.6094">return jobItem</text><path d="m488.0679 274.6621h42" stroke="#666"/><path d="m530.0679 274.6621v13" stroke="#666"/><path d="m489.0679 287.6621h41" stroke="#666"/><path d="m499.0679 283.6621-10 4 10 4-4-4z" fill="#666" stroke="#666"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="229.6709" x="495.0679" y="269.9199">Create new block with proof of work</text><path d="m1020.5674 312.9727 10 4-10 4 4-4z" fill="#666" stroke="#666"/><path d="m488.0679 316.9727h538.4995" stroke="#666"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="181.981" x="495.0679" y="312.2305">block.Valid(cntxt, nil, nil, nil)</text><path d="m499.0679 342.2832-10 4 10 4-4-4z" fill="#666" stroke="#666"/><path d="m493.0679 346.2832h543.4995" stroke="#666" stroke-dasharray="2 2"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="103.2192" x="505.0679" y="341.541">Validation result</text><path d="m1194.7192 371.5938 10 4-10 4 4-4z" fill="#666" stroke="#666"/><path d="m488.0679 375.5938h712.6513" stroke="#666"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="699.6514" x="495.0679" y="370.8516">Set(context.Background(), block.CoinbaseTx.TxIDChainHash().CloneBytes(), block.CoinbaseTx.ExtendedBytes())</text><path d="m499.0679 400.9043-10 4 10 4-4-4z" fill="#666" stroke="#666"/><path d="m493.0679 404.9043h717.6513" stroke="#666" stroke-dasharray="2 2"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="180.4067" x="505.0679" y="400.1621">Coinbase Transaction stored</text><path d="m1308.9551 430.2148 10 4-10 4 4-4z" fill="#666" stroke="#666"/><path d="m488.0679 434.2148h826.8872" stroke="#666"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="202.4712" x="495.0679" y="429.4727">Create(cntxt, block.CoinbaseTx)</text><path d="m499.0679 459.5254-10 4 10 4-4-4z" fill="#666" stroke="#666"/><path d="m493.0679 463.5254h831.8872" stroke="#666" stroke-dasharray="2 2"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="164.3662" x="505.0679" y="458.7832">Coinbase Metadata stored</text><path d="m1532.8135 488.8359 10 4-10 4 4-4z" fill="#666" stroke="#666"/><path d="m488.0679 492.8359h1050.7456" stroke="#666"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="160.0371" x="495.0679" y="488.0938">AddBlock(cntxt, block, "")</text><path d="m499.0679 518.1465-10 4 10 4-4-4z" fill="#666" stroke="#666"/><path d="m493.0679 522.1465h1055.7456" stroke="#666"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="222.5806" x="505.0679" y="517.4043">Block added to the local Blockchain</text><path d="m488.0679 546.457h47" stroke="#666"/><path d="m535.0679 546.457v13" stroke="#666"/><path d="m494.0679 559.457h41" stroke="#666"/><path d="m504.0679 555.457-10 4 10 4-4-4z" fill="#666" stroke="#666"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="205.3721" x="500.0679" y="541.7148">removeSubtreesTTL(gCtx, block)</text><path d="m390.2026 579.457h62.1387v7.3106l-10 10h-52.1387z" fill="#eee" stroke="#000" stroke-width="1.5"/><path d="m390.2026 579.457h1094.4541v75.9316h-1094.4541z" fill="none" stroke="#000" stroke-width="1.5"/><text fill="#333" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1387" x="405.2026" y="593.0254">alt</text><a target="_top" title="for" xlink:actuate="onRequest" xlink:href="for" xlink:show="new" xlink:title="for" xlink:type="simple"><text fill="#00f" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" text-decoration="underline" textLength="72.6978" x="467.3413" y="592.0918">each subtree</text></a><path d="m1409.1875 614.0781 10 4-10 4 4-4z" fill="#666" stroke="#666"/><path d="m493.0679 618.0781h922.1196" stroke="#666"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="416.7617" x="500.0679" y="613.3359">SetTTL(setCtx, subtreeHashBytes, 0) # 0 means delete the subtree</text><path d="m504.0679 643.3887-10 4 10 4-4-4z" fill="#666" stroke="#666"/><path d="m498.0679 647.3887h927.1196" stroke="#666" stroke-dasharray="2 2"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="131.4155" x="510.0679" y="642.6465">Subtree TTL updated</text><path d="m1532.8135 679.6992 10 4-10 4 4-4z" fill="#666" stroke="#666"/><path d="m493.0679 683.6992h1045.7456" stroke="#666"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="228.0205" x="500.0679" y="678.957">SetBlockSubtreesSet(ctx, blockHash)</text><path d="m499.0679 709.0098-10 4 10 4-4-4z" fill="#666" stroke="#666"/><path d="m493.0679 713.0098h1055.7456" stroke="#666" stroke-dasharray="2 2"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="194.3843" x="505.0679" y="708.2676">Block Subtrees marked as "set"</text><path d="m899.5215 738.3203 10 4-10 4 4-4z" fill="#666" stroke="#666"/><path d="m488.0679 742.3203h417.4536" stroke="#666"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="65.0254" x="495.0679" y="737.5781">DeleteAll()</text><path d="m499.0679 767.6309-10 4 10 4-4-4z" fill="#666" stroke="#666"/><path d="m493.0679 771.6309h422.4536" stroke="#666"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="98.1729" x="505.0679" y="766.8887">All jobs deleted</text><path d="m390.2026 786.6309h62.1387v7.3105l-10 10h-52.1387z" fill="#eee" stroke="#000" stroke-width="1.5"/><path d="m390.2026 786.6309h1234.7676v75.9316h-1234.7676z" fill="none" stroke="#000" stroke-width="1.5"/><text fill="#333" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1387" x="405.2026" y="800.1992">alt</text><a target="_top" title="If" xlink:actuate="onRequest" xlink:href="If" xlink:show="new" xlink:title="If" xlink:type="simple"><text fill="#00f" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" text-decoration="underline" textLength="71.4678" x="467.3413" y="799.2656">Error Occurs</text></a><path d="m1532.8135 821.252 10 4-10 4 4-4z" fill="#666" stroke="#666"/><path d="m488.0679 825.252h1050.7456" stroke="#666"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="278.4336" x="495.0679" y="820.5098">InvalidateBlock(setCtx, block.Header.Hash())</text><path d="m499.0679 850.5625-10 4 10 4-4-4z" fill="#666" stroke="#666"/><path d="m493.0679 854.5625h1055.7456" stroke="#666" stroke-dasharray="2 2"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106.4883" x="505.0679" y="849.8203">Block invalidated</text><path d="m244.3325 886.873-10 4 10 4-4-4z" fill="#666" stroke="#666"/><path d="m238.3325 890.873h238.7354" stroke="#666" stroke-dasharray="2 2"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="81.7705" x="250.3325" y="886.1309">Return result</text><path d="m46.1294 916.1836-10 4 10 4-4-4z" fill="#666" stroke="#666"/><path d="m40.1294 920.1836h182.2031" stroke="#666" stroke-dasharray="2 2"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="81.7705" x="52.1294" y="915.4414">Return result</text><text fill="#333" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="155.4346" y="1010.3398">Last Modified On: 24-Feb-2025</text></svg>
