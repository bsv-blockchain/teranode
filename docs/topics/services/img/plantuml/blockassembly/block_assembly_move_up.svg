<svg contentStyleType="text/css" height="850" preserveAspectRatio="none" viewBox="0 0 927 850" width="927" xmlns="http://www.w3.org/2000/svg" zoomAndPan="magnify"><path d="m0 0h927v850h-927z" fill="#f0f8ff"/><path d="m307.3789 114.1094h10v29.3105h-10z" fill="#fff" stroke="#181818"/><path d="m450.3721 172.7305h10v586.2344h-10z" fill="#fff" stroke="#181818"/><path d="m455.3721 252.3516h10v455.3027h-10z" fill="#fff" stroke="#181818"/><path d="m779.3223 369.5938h10v29.3105h-10z" fill="#fff" stroke="#181818"/><path d="m879.5547 286.6621h10v29.3105h-10z" fill="#fff" stroke="#181818"/><path d="m377.5356 330.9727h465.2559v248.4395h-465.2559z" fill="none" stroke="#000" stroke-width="1.5"/><path d="m67 67.4883v700.4765" stroke="#181818" stroke-dasharray="5 5" stroke-width=".5"/><path d="m312.2222 67.4883v700.4765" stroke="#181818" stroke-dasharray="5 5" stroke-width=".5"/><path d="m454.5356 67.4883v700.4765" stroke="#181818" stroke-dasharray="5 5" stroke-width=".5"/><path d="m783.853 67.4883v700.4765" stroke="#181818" stroke-dasharray="5 5" stroke-width=".5"/><path d="m883.7915 67.4883v700.4765" stroke="#181818" stroke-dasharray="5 5" stroke-width=".5"/><rect fill="#ddd" height="30.4883" rx="2.5" stroke="#666" stroke-width=".5" width="125.6719" x="5" y="36"/><text fill="#333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111.6719" x="12" y="56.5352">Block Assembler</text><rect fill="#ddd" height="30.4883" rx="2.5" stroke="#666" stroke-width=".5" width="125.6719" x="5" y="766.9648"/><text fill="#333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111.6719" x="12" y="787.5">Block Assembler</text><rect fill="#ddd" height="30.4883" rx="2.5" stroke="#666" stroke-width=".5" width="130.3135" x="247.2222" y="36"/><text fill="#333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116.3135" x="254.2222" y="56.5352">Blockchain Client</text><rect fill="#ddd" height="30.4883" rx="2.5" stroke="#666" stroke-width=".5" width="130.3135" x="247.2222" y="766.9648"/><text fill="#333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116.3135" x="254.2222" y="787.5">Blockchain Client</text><rect fill="#ddd" height="30.4883" rx="2.5" stroke="#666" stroke-width=".5" width="135.6729" x="387.5356" y="36"/><text fill="#333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="121.6729" x="394.5356" y="56.5352">Subtree Processor</text><rect fill="#ddd" height="30.4883" rx="2.5" stroke="#666" stroke-width=".5" width="135.6729" x="387.5356" y="766.9648"/><text fill="#333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="121.6729" x="394.5356" y="787.5">Subtree Processor</text><text fill="#333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="90.9385" x="735.853" y="64.5352">Subtree Store</text><path d="m766.3223 15c0-10 18-10 18-10s18 0 18 10v26c0 10-18 10-18 10s-18 0-18-10z" fill="#e2e2f0" stroke="#181818" stroke-width="1.5"/><path d="m766.3223 15c0 10 18 10 18 10s18 0 18-10" fill="none" stroke="#181818" stroke-width="1.5"/><text fill="#333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="90.9385" x="735.853" y="780.5">Subtree Store</text><path d="m766.3223 793.4531c0-10 18-10 18-10s18 0 18 10v26c0 10-18 10-18 10s-18 0-18-10z" fill="#e2e2f0" stroke="#181818" stroke-width="1.5"/><path d="m766.3223 793.4531c0 10 18 10 18 10s18 0 18-10" fill="none" stroke="#181818" stroke-width="1.5"/><text fill="#333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="77.5264" x="842.7915" y="64.5352">UTXO Store</text><path d="m866.5547 15c0-10 18-10 18-10s18 0 18 10v26c0 10-18 10-18 10s-18 0-18-10z" fill="#e2e2f0" stroke="#181818" stroke-width="1.5"/><path d="m866.5547 15c0 10 18 10 18 10s18 0 18-10" fill="none" stroke="#181818" stroke-width="1.5"/><text fill="#333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="77.5264" x="842.7915" y="780.5">UTXO Store</text><g stroke="#181818"><path d="m866.5547 793.4531c0-10 18-10 18-10s18 0 18 10v26c0 10-18 10-18 10s-18 0-18-10z" fill="#e2e2f0" stroke-width="1.5"/><path d="m866.5547 793.4531c0 10 18 10 18 10s18 0 18-10" fill="none" stroke-width="1.5"/><path d="m307.3789 114.1094h10v29.3105h-10z" fill="#fff"/><path d="m450.3721 172.7305h10v586.2344h-10z" fill="#fff"/><path d="m455.3721 252.3516h10v455.3027h-10z" fill="#fff"/><path d="m779.3223 369.5938h10v29.3105h-10z" fill="#fff"/><path d="m879.5547 286.6621h10v29.3105h-10z" fill="#fff"/></g><path d="m295.3789 110.1094 10 4-10 4 4-4z" fill="#666" stroke="#666"/><path d="m67.8359 114.1094h233.543" stroke="#666"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="82.8115" x="74.8359" y="94.0566">GetBlock(ctx,</text><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="220.543" x="74.8359" y="109.3672">bestBlockchainBlockHeader.Hash())</text><path d="m78.8359 139.4199-10 4 10 4-4-4z" fill="#666" stroke="#666"/><path d="m72.8359 143.4199h238.543" stroke="#666" stroke-dasharray="2 2"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="67.1074" x="84.8359" y="138.6777">block / err</text><path d="m438.3721 168.7305 10 4-10 4 4-4z" fill="#666" stroke="#666"/><path d="m67.8359 172.7305h376.5362" stroke="#666"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="160.2402" x="74.8359" y="167.9883">MoveForwardBlock(block)</text><path d="m460.3721 202.041h42" stroke="#666"/><path d="m502.3721 202.041v13" stroke="#666"/><path d="m461.3721 215.041h41" stroke="#666"/><path d="m471.3721 211.041-10 4 10 4-4-4z" fill="#666" stroke="#666"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="294.9502" x="467.3721" y="197.2988">moveForwardBlockChan &lt;- moveBlockRequest</text><path d="m460.3721 239.3516h47" stroke="#666"/><path d="m507.3721 239.3516v13" stroke="#666"/><path d="m466.3721 252.3516h41" stroke="#666"/><path d="m476.3721 248.3516-10 4 10 4-4-4z" fill="#666" stroke="#666"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="169.7744" x="472.3721" y="234.6094">Process moveBlockRequest</text><path d="m867.5547 282.6621 10 4-10 4 4-4z" fill="#666" stroke="#666"/><path d="m465.3721 286.6621h408.1826" stroke="#666"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147.0879" x="472.3721" y="281.9199">Process coinbase utxos</text><path d="m476.3721 311.9727-10 4 10 4-4-4z" fill="#666" stroke="#666"/><path d="m470.3721 315.9727h413.1826" stroke="#666" stroke-dasharray="2 2"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="172.4214" x="482.3721" y="311.2305">Coinbase UTXOs processed</text><path d="m377.5356 330.9727h62.1387v7.3105l-10 10h-52.1387z" fill="#eee" stroke="#000" stroke-width="1.5"/><path d="m377.5356 330.9727h465.2559v248.4395h-465.2559z" fill="none" stroke="#000" stroke-width="1.5"/><text fill="#333" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1387" x="392.5356" y="344.541">alt</text><text fill="#333" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="210.6489" x="454.6743" y="343.6074">[if block is not from our own mining]</text><path d="m767.3223 365.5938 10 4-10 4 4-4z" fill="#666" stroke="#666"/><path d="m465.3721 369.5938h307.9502" stroke="#666"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="150.2681" x="472.3721" y="364.8516">Get subtrees from store</text><path d="m476.3721 394.9043-10 4 10 4-4-4z" fill="#666" stroke="#666"/><path d="m470.3721 398.9043h312.9502" stroke="#666" stroke-dasharray="2 2"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="54.5454" x="482.3721" y="394.1621">Subtrees</text><path d="m465.3721 443.5254h42" stroke="#666"/><path d="m507.3721 443.5254v13" stroke="#666"/><path d="m466.3721 456.5254h41" stroke="#666"/><path d="m476.3721 452.5254-10 4 10 4-4-4z" fill="#666" stroke="#666"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147.1323" x="472.3721" y="423.4727">Create transaction map</text><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="126.8008" x="476.4854" y="438.7832">from block subtrees</text><path d="m465.3721 485.8359h42" stroke="#666"/><path d="m507.3721 485.8359v13" stroke="#666"/><path d="m466.3721 498.8359h41" stroke="#666"/><path d="m476.3721 494.8359-10 4 10 4-4-4z" fill="#666" stroke="#666"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="181.0796" x="472.3721" y="481.0938">Process remainder tx hashes</text><path d="m377.5356 507.8359h465.2559" stroke="#000" stroke-dasharray="2 2"/><text fill="#333" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="188.3159" x="382.5356" y="518.4707">[if block is from our own mining]</text><path d="m465.3721 558.4121h42" stroke="#666"/><path d="m507.3721 558.4121v13" stroke="#666"/><path d="m466.3721 571.4121h41" stroke="#666"/><path d="m476.3721 567.4121-10 4 10 4-4-4z" fill="#666" stroke="#666"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="209.9678" x="472.3721" y="538.3594">Process existing chainedSubtrees</text><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="120.999" x="472.3721" y="553.6699">and currentSubtree</text><path d="m465.3721 623.0332h42" stroke="#666"/><path d="m507.3721 623.0332v13" stroke="#666"/><path d="m466.3721 636.0332h41" stroke="#666"/><path d="m476.3721 632.0332-10 4 10 4-4-4z" fill="#666" stroke="#666"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="145.9644" x="472.3721" y="602.9805">Update current subtree</text><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="163.7314" x="472.3721" y="618.291">with pending transactions</text><path d="m465.3721 665.3438h42" stroke="#666"/><path d="m507.3721 665.3438v13" stroke="#666"/><path d="m466.3721 678.3438h41" stroke="#666"/><path d="m476.3721 674.3438-10 4 10 4-4-4z" fill="#666" stroke="#666"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="81.3579" x="472.3721" y="660.6016">setTxCount()</text><path d="m78.8359 703.6543-10 4 10 4-4-4z" fill="#666" stroke="#666"/><path d="m72.8359 707.6543h376.5362" stroke="#666" stroke-dasharray="2 2"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="48.5088" x="84.8359" y="702.9121">err / nil</text><path d="m67.8359 736.9648h42" stroke="#666"/><path d="m109.8359 736.9648v13" stroke="#666"/><path d="m68.8359 749.9648h41" stroke="#666"/><path d="m78.8359 745.9648-10 4 10 4-4-4z" fill="#666" stroke="#666"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2915" x="74.8359" y="732.2227">UpdateBestBlock(ctx)</text><text fill="#333" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="155.4346" y="840.1211">Last Modified On: 24-Feb-2025</text></svg>
