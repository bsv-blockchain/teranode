<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="850px" preserveAspectRatio="none" style="width:927px;height:850px;background:#F0F8FF;" version="1.1" viewBox="0 0 927 850" width="927px" zoomAndPan="magnify"><defs/><g><rect fill="#F0F8FF" height="850" style="stroke:none;stroke-width:1.0;" width="927" x="0" y="0"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="307.3789" y="114.1094"/><rect fill="#FFFFFF" height="586.2344" style="stroke:#181818;stroke-width:1.0;" width="10" x="450.3721" y="172.7305"/><rect fill="#FFFFFF" height="455.3027" style="stroke:#181818;stroke-width:1.0;" width="10" x="455.3721" y="252.3516"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="779.3223" y="369.5938"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="879.5547" y="286.6621"/><rect fill="none" height="248.4395" style="stroke:#000000;stroke-width:1.5;" width="465.2559" x="377.5356" y="330.9727"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="67" x2="67" y1="67.4883" y2="767.9648"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="312.2222" x2="312.2222" y1="67.4883" y2="767.9648"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="454.5356" x2="454.5356" y1="67.4883" y2="767.9648"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="783.853" x2="783.853" y1="67.4883" y2="767.9648"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="883.7915" x2="883.7915" y1="67.4883" y2="767.9648"/><rect fill="#DDDDDD" height="30.4883" rx="2.5" ry="2.5" style="stroke:#666666;stroke-width:0.5;" width="125.6719" x="5" y="36"/><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111.6719" x="12" y="56.5352">Block Assembler</text><rect fill="#DDDDDD" height="30.4883" rx="2.5" ry="2.5" style="stroke:#666666;stroke-width:0.5;" width="125.6719" x="5" y="766.9648"/><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111.6719" x="12" y="787.5">Block Assembler</text><rect fill="#DDDDDD" height="30.4883" rx="2.5" ry="2.5" style="stroke:#666666;stroke-width:0.5;" width="130.3135" x="247.2222" y="36"/><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116.3135" x="254.2222" y="56.5352">Blockchain Client</text><rect fill="#DDDDDD" height="30.4883" rx="2.5" ry="2.5" style="stroke:#666666;stroke-width:0.5;" width="130.3135" x="247.2222" y="766.9648"/><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116.3135" x="254.2222" y="787.5">Blockchain Client</text><rect fill="#DDDDDD" height="30.4883" rx="2.5" ry="2.5" style="stroke:#666666;stroke-width:0.5;" width="135.6729" x="387.5356" y="36"/><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="121.6729" x="394.5356" y="56.5352">Subtree Processor</text><rect fill="#DDDDDD" height="30.4883" rx="2.5" ry="2.5" style="stroke:#666666;stroke-width:0.5;" width="135.6729" x="387.5356" y="766.9648"/><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="121.6729" x="394.5356" y="787.5">Subtree Processor</text><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="90.9385" x="735.853" y="64.5352">Subtree Store</text><path d="M766.3223,15 C766.3223,5 784.3223,5 784.3223,5 C784.3223,5 802.3223,5 802.3223,15 L802.3223,41 C802.3223,51 784.3223,51 784.3223,51 C784.3223,51 766.3223,51 766.3223,41 L766.3223,15 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M766.3223,15 C766.3223,25 784.3223,25 784.3223,25 C784.3223,25 802.3223,25 802.3223,15 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="90.9385" x="735.853" y="780.5">Subtree Store</text><path d="M766.3223,793.4531 C766.3223,783.4531 784.3223,783.4531 784.3223,783.4531 C784.3223,783.4531 802.3223,783.4531 802.3223,793.4531 L802.3223,819.4531 C802.3223,829.4531 784.3223,829.4531 784.3223,829.4531 C784.3223,829.4531 766.3223,829.4531 766.3223,819.4531 L766.3223,793.4531 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M766.3223,793.4531 C766.3223,803.4531 784.3223,803.4531 784.3223,803.4531 C784.3223,803.4531 802.3223,803.4531 802.3223,793.4531 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="77.5264" x="842.7915" y="64.5352">UTXO Store</text><path d="M866.5547,15 C866.5547,5 884.5547,5 884.5547,5 C884.5547,5 902.5547,5 902.5547,15 L902.5547,41 C902.5547,51 884.5547,51 884.5547,51 C884.5547,51 866.5547,51 866.5547,41 L866.5547,15 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M866.5547,15 C866.5547,25 884.5547,25 884.5547,25 C884.5547,25 902.5547,25 902.5547,15 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="77.5264" x="842.7915" y="780.5">UTXO Store</text><path d="M866.5547,793.4531 C866.5547,783.4531 884.5547,783.4531 884.5547,783.4531 C884.5547,783.4531 902.5547,783.4531 902.5547,793.4531 L902.5547,819.4531 C902.5547,829.4531 884.5547,829.4531 884.5547,829.4531 C884.5547,829.4531 866.5547,829.4531 866.5547,819.4531 L866.5547,793.4531 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M866.5547,793.4531 C866.5547,803.4531 884.5547,803.4531 884.5547,803.4531 C884.5547,803.4531 902.5547,803.4531 902.5547,793.4531 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="307.3789" y="114.1094"/><rect fill="#FFFFFF" height="586.2344" style="stroke:#181818;stroke-width:1.0;" width="10" x="450.3721" y="172.7305"/><rect fill="#FFFFFF" height="455.3027" style="stroke:#181818;stroke-width:1.0;" width="10" x="455.3721" y="252.3516"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="779.3223" y="369.5938"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="879.5547" y="286.6621"/><polygon fill="#666666" points="295.3789,110.1094,305.3789,114.1094,295.3789,118.1094,299.3789,114.1094" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;" x1="67.8359" x2="301.3789" y1="114.1094" y2="114.1094"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="82.8115" x="74.8359" y="94.0566">GetBlock(ctx,</text><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="220.543" x="74.8359" y="109.3672">bestBlockchainBlockHeader.Hash())</text><polygon fill="#666666" points="78.8359,139.4199,68.8359,143.4199,78.8359,147.4199,74.8359,143.4199" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="72.8359" x2="311.3789" y1="143.4199" y2="143.4199"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="67.1074" x="84.8359" y="138.6777">block / err</text><polygon fill="#666666" points="438.3721,168.7305,448.3721,172.7305,438.3721,176.7305,442.3721,172.7305" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;" x1="67.8359" x2="444.3721" y1="172.7305" y2="172.7305"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="160.2402" x="74.8359" y="167.9883">MoveForwardBlock(block)</text><line style="stroke:#666666;stroke-width:1.0;" x1="460.3721" x2="502.3721" y1="202.041" y2="202.041"/><line style="stroke:#666666;stroke-width:1.0;" x1="502.3721" x2="502.3721" y1="202.041" y2="215.041"/><line style="stroke:#666666;stroke-width:1.0;" x1="461.3721" x2="502.3721" y1="215.041" y2="215.041"/><polygon fill="#666666" points="471.3721,211.041,461.3721,215.041,471.3721,219.041,467.3721,215.041" style="stroke:#666666;stroke-width:1.0;"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="294.9502" x="467.3721" y="197.2988">moveForwardBlockChan &lt;- moveBlockRequest</text><line style="stroke:#666666;stroke-width:1.0;" x1="460.3721" x2="507.3721" y1="239.3516" y2="239.3516"/><line style="stroke:#666666;stroke-width:1.0;" x1="507.3721" x2="507.3721" y1="239.3516" y2="252.3516"/><line style="stroke:#666666;stroke-width:1.0;" x1="466.3721" x2="507.3721" y1="252.3516" y2="252.3516"/><polygon fill="#666666" points="476.3721,248.3516,466.3721,252.3516,476.3721,256.3516,472.3721,252.3516" style="stroke:#666666;stroke-width:1.0;"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="169.7744" x="472.3721" y="234.6094">Process moveBlockRequest</text><polygon fill="#666666" points="867.5547,282.6621,877.5547,286.6621,867.5547,290.6621,871.5547,286.6621" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;" x1="465.3721" x2="873.5547" y1="286.6621" y2="286.6621"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147.0879" x="472.3721" y="281.9199">Process coinbase utxos</text><polygon fill="#666666" points="476.3721,311.9727,466.3721,315.9727,476.3721,319.9727,472.3721,315.9727" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="470.3721" x2="883.5547" y1="315.9727" y2="315.9727"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="172.4214" x="482.3721" y="311.2305">Coinbase UTXOs processed</text><path d="M377.5356,330.9727 L439.6743,330.9727 L439.6743,338.2832 L429.6743,348.2832 L377.5356,348.2832 L377.5356,330.9727 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="248.4395" style="stroke:#000000;stroke-width:1.5;" width="465.2559" x="377.5356" y="330.9727"/><text fill="#333333" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1387" x="392.5356" y="344.541">alt</text><text fill="#333333" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="210.6489" x="454.6743" y="343.6074">[if block is not from our own mining]</text><polygon fill="#666666" points="767.3223,365.5938,777.3223,369.5938,767.3223,373.5938,771.3223,369.5938" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;" x1="465.3721" x2="773.3223" y1="369.5938" y2="369.5938"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="150.2681" x="472.3721" y="364.8516">Get subtrees from store</text><polygon fill="#666666" points="476.3721,394.9043,466.3721,398.9043,476.3721,402.9043,472.3721,398.9043" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="470.3721" x2="783.3223" y1="398.9043" y2="398.9043"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="54.5454" x="482.3721" y="394.1621">Subtrees</text><line style="stroke:#666666;stroke-width:1.0;" x1="465.3721" x2="507.3721" y1="443.5254" y2="443.5254"/><line style="stroke:#666666;stroke-width:1.0;" x1="507.3721" x2="507.3721" y1="443.5254" y2="456.5254"/><line style="stroke:#666666;stroke-width:1.0;" x1="466.3721" x2="507.3721" y1="456.5254" y2="456.5254"/><polygon fill="#666666" points="476.3721,452.5254,466.3721,456.5254,476.3721,460.5254,472.3721,456.5254" style="stroke:#666666;stroke-width:1.0;"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147.1323" x="472.3721" y="423.4727">Create transaction map</text><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="126.8008" x="476.4854" y="438.7832">from block subtrees</text><line style="stroke:#666666;stroke-width:1.0;" x1="465.3721" x2="507.3721" y1="485.8359" y2="485.8359"/><line style="stroke:#666666;stroke-width:1.0;" x1="507.3721" x2="507.3721" y1="485.8359" y2="498.8359"/><line style="stroke:#666666;stroke-width:1.0;" x1="466.3721" x2="507.3721" y1="498.8359" y2="498.8359"/><polygon fill="#666666" points="476.3721,494.8359,466.3721,498.8359,476.3721,502.8359,472.3721,498.8359" style="stroke:#666666;stroke-width:1.0;"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="181.0796" x="472.3721" y="481.0938">Process remainder tx hashes</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="377.5356" x2="842.7915" y1="507.8359" y2="507.8359"/><text fill="#333333" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="188.3159" x="382.5356" y="518.4707">[if block is from our own mining]</text><line style="stroke:#666666;stroke-width:1.0;" x1="465.3721" x2="507.3721" y1="558.4121" y2="558.4121"/><line style="stroke:#666666;stroke-width:1.0;" x1="507.3721" x2="507.3721" y1="558.4121" y2="571.4121"/><line style="stroke:#666666;stroke-width:1.0;" x1="466.3721" x2="507.3721" y1="571.4121" y2="571.4121"/><polygon fill="#666666" points="476.3721,567.4121,466.3721,571.4121,476.3721,575.4121,472.3721,571.4121" style="stroke:#666666;stroke-width:1.0;"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="209.9678" x="472.3721" y="538.3594">Process existing chainedSubtrees</text><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="120.999" x="472.3721" y="553.6699">and currentSubtree</text><line style="stroke:#666666;stroke-width:1.0;" x1="465.3721" x2="507.3721" y1="623.0332" y2="623.0332"/><line style="stroke:#666666;stroke-width:1.0;" x1="507.3721" x2="507.3721" y1="623.0332" y2="636.0332"/><line style="stroke:#666666;stroke-width:1.0;" x1="466.3721" x2="507.3721" y1="636.0332" y2="636.0332"/><polygon fill="#666666" points="476.3721,632.0332,466.3721,636.0332,476.3721,640.0332,472.3721,636.0332" style="stroke:#666666;stroke-width:1.0;"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="145.9644" x="472.3721" y="602.9805">Update current subtree</text><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="163.7314" x="472.3721" y="618.291">with pending transactions</text><line style="stroke:#666666;stroke-width:1.0;" x1="465.3721" x2="507.3721" y1="665.3438" y2="665.3438"/><line style="stroke:#666666;stroke-width:1.0;" x1="507.3721" x2="507.3721" y1="665.3438" y2="678.3438"/><line style="stroke:#666666;stroke-width:1.0;" x1="466.3721" x2="507.3721" y1="678.3438" y2="678.3438"/><polygon fill="#666666" points="476.3721,674.3438,466.3721,678.3438,476.3721,682.3438,472.3721,678.3438" style="stroke:#666666;stroke-width:1.0;"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="81.3579" x="472.3721" y="660.6016">setTxCount()</text><polygon fill="#666666" points="78.8359,703.6543,68.8359,707.6543,78.8359,711.6543,74.8359,707.6543" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="72.8359" x2="449.3721" y1="707.6543" y2="707.6543"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="48.5088" x="84.8359" y="702.9121">err / nil</text><line style="stroke:#666666;stroke-width:1.0;" x1="67.8359" x2="109.8359" y1="736.9648" y2="736.9648"/><line style="stroke:#666666;stroke-width:1.0;" x1="109.8359" x2="109.8359" y1="736.9648" y2="749.9648"/><line style="stroke:#666666;stroke-width:1.0;" x1="68.8359" x2="109.8359" y1="749.9648" y2="749.9648"/><polygon fill="#666666" points="78.8359,745.9648,68.8359,749.9648,78.8359,753.9648,74.8359,749.9648" style="stroke:#666666;stroke-width:1.0;"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2915" x="74.8359" y="732.2227">UpdateBestBlock(ctx)</text><text fill="#333333" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="155.4346" x="0" y="840.1211">Last Modified On: 24-Feb-2025</text><!--SRC=[fLJ1Yjim4BthAuQKqWIQjb0e9PH2uiNTGyCkJHPws8jiZJSYikHgv4sMqd_lM7OIPHiej3eOMthlpSpJZ6chRIEzhA6GvVR1kzQgp1dduKN-Bl-OvuAE28MLR4t8dGq3v7rS2KHwxtR3uOUuX7W5LrXfYr0uhz0JL7mgZG4qMACDbF3vKuSd-2a05X5zhiMxpxEyYaly4ebAoHbwP_vNXfz1bxgHDloR5AzKOxGmhjp2d0Zhmg0VWIHOp2zWoetK5ZAZsOyUbPsZLcqHF2BSUbSYaUkrLkjReMIGXIGyOLR1UUpFusi2kLj_lqdEkyyU8XPpc7xci3FuWY7cD2x3_ZNSsm8fd9ACRzSesPWtrv8suyb4o3BeHncmotgHmRGJci-WYDM_1VHUA4n1GpHEVmPBzuYvyplfLHysqXBHhaZ1ZoEZViR8DjB2fsdSZnlVy4VBIP-H1kF-15sCSpJcH2oTjj74DkmTdMWd3uzlqO4ODJkGkZE2fjT2bVgHN88q0NGr6AS9h0jGULU3QpsudOLQMsqVk0a13iKDQVAj0VKDG3s7ecO7FPMuEkwjdcKwD0_5moIxWN8MCbRciJiENbhgm8wJayszxMFt5L2gUUaoFDRSKjnA4FQmuMvYB1gsApNXRmQaWhZN51W0iLTH7QhYDfPMGTbwpnCsx0gqwhopxXhL5JN03lapUQV31Xh6Tzf9pNH69mphVSP_XZ2U3CB3AF08y21ORTABZzERpCNyE8NpGogBm-nrmyYQ1Ylk2ES2M_PLKk3fKRhIgE36pk1bHncFb9ekbylf4w_HHFm6]--></g></svg>
