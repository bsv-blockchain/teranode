<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="716px" preserveAspectRatio="none" style="width:811px;height:716px;background:#F0F8FF;" version="1.1" viewBox="0 0 811 716" width="811px" zoomAndPan="magnify"><defs/><g><rect fill="#F0F8FF" height="716" style="stroke:none;stroke-width:1.0;" width="811" x="0" y="0"/><rect fill="#FFFFFF" height="488.9922" style="stroke:#181818;stroke-width:1.0;" width="10" x="183.2144" y="112.7988"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="589.8408" y="184.4199"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="732.834" y="285.3516"/><rect fill="none" height="116.8867" style="stroke:#000000;stroke-width:1.5;" width="479.4624" x="115.3784" y="329.6621"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="27" x2="27" y1="81.4883" y2="619.791"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="187.3784" x2="187.3784" y1="81.4883" y2="619.791"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="594.6841" x2="594.6841" y1="81.4883" y2="619.791"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="736.9976" x2="736.9976" y1="81.4883" y2="619.791"/><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39.5049" x="5" y="78.5352">Client</text><ellipse cx="27.7524" cy="13.5" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M27.7524,21.5 L27.7524,48.5 M14.7524,29.5 L40.7524,29.5 M27.7524,48.5 L14.7524,63.5 M27.7524,48.5 L40.7524,63.5 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39.5049" x="5" y="632.3262">Client</text><ellipse cx="27.7524" cy="643.7793" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M27.7524,651.7793 L27.7524,678.7793 M14.7524,659.7793 L40.7524,659.7793 M27.7524,678.7793 L14.7524,693.7793 M27.7524,678.7793 L40.7524,693.7793 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#DDDDDD" height="30.4883" rx="2.5" ry="2.5" style="stroke:#666666;stroke-width:0.5;" width="125.6719" x="125.3784" y="50"/><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111.6719" x="132.3784" y="70.5352">Block Assembler</text><rect fill="#DDDDDD" height="30.4883" rx="2.5" ry="2.5" style="stroke:#666666;stroke-width:0.5;" width="125.6719" x="125.3784" y="618.791"/><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111.6719" x="132.3784" y="639.3262">Block Assembler</text><rect fill="#DDDDDD" height="30.4883" rx="2.5" ry="2.5" style="stroke:#666666;stroke-width:0.5;" width="130.3135" x="529.6841" y="50"/><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116.3135" x="536.6841" y="70.5352">Blockchain Client</text><rect fill="#DDDDDD" height="30.4883" rx="2.5" ry="2.5" style="stroke:#666666;stroke-width:0.5;" width="130.3135" x="529.6841" y="618.791"/><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116.3135" x="536.6841" y="639.3262">Blockchain Client</text><rect fill="#DDDDDD" height="30.4883" rx="2.5" ry="2.5" style="stroke:#666666;stroke-width:0.5;" width="135.6729" x="669.9976" y="50"/><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="121.6729" x="676.9976" y="70.5352">Subtree Processor</text><rect fill="#DDDDDD" height="30.4883" rx="2.5" ry="2.5" style="stroke:#666666;stroke-width:0.5;" width="135.6729" x="669.9976" y="618.791"/><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="121.6729" x="676.9976" y="639.3262">Subtree Processor</text><rect fill="#FFFFFF" height="488.9922" style="stroke:#181818;stroke-width:1.0;" width="10" x="183.2144" y="112.7988"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="589.8408" y="184.4199"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="732.834" y="285.3516"/><polygon fill="#666666" points="171.2144,108.7988,181.2144,112.7988,171.2144,116.7988,175.2144,112.7988" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;" x1="27.7524" x2="177.2144" y1="112.7988" y2="112.7988"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136.4619" x="34.7524" y="108.0566">ResetBlockAssembly()</text><line style="stroke:#666666;stroke-width:1.0;" x1="193.2144" x2="235.2144" y1="142.1094" y2="142.1094"/><line style="stroke:#666666;stroke-width:1.0;" x1="235.2144" x2="235.2144" y1="142.1094" y2="155.1094"/><line style="stroke:#666666;stroke-width:1.0;" x1="194.2144" x2="235.2144" y1="155.1094" y2="155.1094"/><polygon fill="#666666" points="204.2144,151.1094,194.2144,155.1094,204.2144,159.1094,200.2144,155.1094" style="stroke:#666666;stroke-width:1.0;"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127.7466" x="200.2144" y="137.3672">resetCh &lt;- struct{}{}</text><polygon fill="#666666" points="577.8408,180.4199,587.8408,184.4199,577.8408,188.4199,581.8408,184.4199" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;" x1="193.2144" x2="583.8408" y1="184.4199" y2="184.4199"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="153.8545" x="200.2144" y="179.6777">GetBestBlockHeader(ctx)</text><polygon fill="#666666" points="204.2144,209.7305,194.2144,213.7305,204.2144,217.7305,200.2144,213.7305" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="198.2144" x2="593.8408" y1="213.7305" y2="213.7305"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="238.0752" x="210.2144" y="208.9883">bestBlockchainBlockHeader, meta, err</text><line style="stroke:#666666;stroke-width:1.0;" x1="193.2144" x2="235.2144" y1="243.041" y2="243.041"/><line style="stroke:#666666;stroke-width:1.0;" x1="235.2144" x2="235.2144" y1="243.041" y2="256.041"/><line style="stroke:#666666;stroke-width:1.0;" x1="194.2144" x2="235.2144" y1="256.041" y2="256.041"/><polygon fill="#666666" points="204.2144,252.041,194.2144,256.041,204.2144,260.041,200.2144,256.041" style="stroke:#666666;stroke-width:1.0;"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="305.6841" x="200.2144" y="238.2988">getReorgBlocks(ctx, bestBlockchainBlockHeader)</text><polygon fill="#666666" points="720.834,281.3516,730.834,285.3516,720.834,289.3516,724.834,285.3516" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;" x1="193.2144" x2="726.834" y1="285.3516" y2="285.3516"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="447.6367" x="200.2144" y="280.6094">Reset(b.bestBlockHeader.Load(), moveBackBlocks, moveForwardBlocks)</text><polygon fill="#666666" points="204.2144,310.6621,194.2144,314.6621,204.2144,318.6621,200.2144,314.6621" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="198.2144" x2="736.834" y1="314.6621" y2="314.6621"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94.3896" x="210.2144" y="309.9199">ResetResponse</text><path d="M115.3784,329.6621 L177.5171,329.6621 L177.5171,336.9727 L167.5171,346.9727 L115.3784,346.9727 L115.3784,329.6621 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="116.8867" style="stroke:#000000;stroke-width:1.5;" width="479.4624" x="115.3784" y="329.6621"/><text fill="#333333" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1387" x="130.3784" y="343.2305">alt</text><text fill="#333333" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="137.312" x="192.5171" y="342.2969">[if reset was successful]</text><line style="stroke:#666666;stroke-width:1.0;" x1="193.2144" x2="235.2144" y1="368.2832" y2="368.2832"/><line style="stroke:#666666;stroke-width:1.0;" x1="235.2144" x2="235.2144" y1="368.2832" y2="381.2832"/><line style="stroke:#666666;stroke-width:1.0;" x1="194.2144" x2="235.2144" y1="381.2832" y2="381.2832"/><polygon fill="#666666" points="204.2144,377.2832,194.2144,381.2832,204.2144,385.2832,200.2144,381.2832" style="stroke:#666666;stroke-width:1.0;"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="287.5171" x="200.2144" y="363.541">Update bestBlockHeader and bestBlockHeight</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="115.3784" x2="594.8408" y1="390.2832" y2="390.2832"/><text fill="#333333" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="84.0254" x="120.3784" y="400.918">[if reset failed]</text><line style="stroke:#666666;stroke-width:1.0;" x1="193.2144" x2="235.2144" y1="425.5488" y2="425.5488"/><line style="stroke:#666666;stroke-width:1.0;" x1="235.2144" x2="235.2144" y1="425.5488" y2="438.5488"/><line style="stroke:#666666;stroke-width:1.0;" x1="194.2144" x2="235.2144" y1="438.5488" y2="438.5488"/><polygon fill="#666666" points="204.2144,434.5488,194.2144,438.5488,204.2144,442.5488,200.2144,438.5488" style="stroke:#666666;stroke-width:1.0;"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="372.6265" x="200.2144" y="420.8066">Set bestBlockHeader from Processor's current block header</text><line style="stroke:#666666;stroke-width:1.0;" x1="193.2144" x2="235.2144" y1="474.8594" y2="474.8594"/><line style="stroke:#666666;stroke-width:1.0;" x1="235.2144" x2="235.2144" y1="474.8594" y2="487.8594"/><line style="stroke:#666666;stroke-width:1.0;" x1="194.2144" x2="235.2144" y1="487.8594" y2="487.8594"/><polygon fill="#666666" points="204.2144,483.8594,194.2144,487.8594,204.2144,491.8594,200.2144,487.8594" style="stroke:#666666;stroke-width:1.0;"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78.2031" x="200.2144" y="470.1172">SetState(ctx)</text><line style="stroke:#666666;stroke-width:1.0;" x1="193.2144" x2="235.2144" y1="517.1699" y2="517.1699"/><line style="stroke:#666666;stroke-width:1.0;" x1="235.2144" x2="235.2144" y1="517.1699" y2="530.1699"/><line style="stroke:#666666;stroke-width:1.0;" x1="194.2144" x2="235.2144" y1="530.1699" y2="530.1699"/><polygon fill="#666666" points="204.2144,526.1699,194.2144,530.1699,204.2144,534.1699,200.2144,530.1699" style="stroke:#666666;stroke-width:1.0;"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130.6221" x="200.2144" y="512.4277">setCurrentChain(ctx)</text><line style="stroke:#666666;stroke-width:1.0;" x1="193.2144" x2="235.2144" y1="559.4805" y2="559.4805"/><line style="stroke:#666666;stroke-width:1.0;" x1="235.2144" x2="235.2144" y1="559.4805" y2="572.4805"/><line style="stroke:#666666;stroke-width:1.0;" x1="194.2144" x2="235.2144" y1="572.4805" y2="572.4805"/><polygon fill="#666666" points="204.2144,568.4805,194.2144,572.4805,204.2144,576.4805,200.2144,572.4805" style="stroke:#666666;stroke-width:1.0;"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="240.6396" x="200.2144" y="554.7383">Set resetWaitCount and resetWaitTime</text><polygon fill="#666666" points="38.7524,597.791,28.7524,601.791,38.7524,605.791,34.7524,601.791" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="32.7524" x2="187.2144" y1="601.791" y2="601.791"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="101.6958" x="44.7524" y="597.0488">EmptyMessage{}</text><text fill="#333333" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="155.4346" x="0" y="705.9473">Last Modified On: 24-Feb-2025</text><!--SRC=[fLJVQzim47xNNt5aZ2OGby5WZ58AQpfl3mqRJSUUPUcSYCXIaEHc8UH_tzbAOyLDyh3TWq6dxxxlVib-gSoAErv1mSLoxcnjvCHgw-1T_Y7_dEVC7n0IIrxha5iJzf2FhIKGxfnTxoy_jSRO5JnWgGn2OPr4vw6aMwureCOAJV19F1rLsC2M0Totw6CkylQpV6YDxLZ28YX3P_N_qj0tAA5Mt8H_esACYq2kYLPK64lv1lVQYYLyyHwhGgCR0FVTwGHKBBWoUwOMt7bFqS_g8ZX4-EciGEzj53YS68j1aDrrgd03J-WnjCnxxsOuQefGBpnWaX_hWdeChc6OBE0s0nzSBS9sjzqTm_kPKzGtKaKVbRyZfpOFHVYJIB-fzWr9rakaUELhGGdp62eCV0pe79DuNk5yZNCCJsZTl0tnJQRZytAZOvx325wxFIokY-FIhnyjbyCHvMbVi5clg1FFkNLhxcHq9GtgHjifPAUcIv-LDHxJsfEzu3g0AkCOOKqxuslHt9MrfcK7EDkKNolPKFLg0MvawbFpHM2eFNOY9LSQvMNo6U7wpAMpLPVvbGTHEzTiGj4-hKMBOcZaXKaIxonGsd7RpiAQbOxaasQw4NsHDTRscolwLTQKKzE6W-jPLNWKJl67f_2rMeNDb6hYSwINaqmfUNuQIsgSjO6Y7xaFCBLIbGeb_30tyBwPn70WPJQTJhCDsM34_W80]--></g></svg>
