<svg contentStyleType="text/css" height="1004" preserveAspectRatio="none" viewBox="0 0 1453 1004" width="1453" xmlns="http://www.w3.org/2000/svg" zoomAndPan="magnify"><path d="m0 0h1453v1004h-1453z" fill="#f0f8ff"/><path d="m279.8647 141.1094h10v763.0742h-10z" fill="#fff" stroke="#181818"/><path d="m534.6001 170.4199h10v704.4531h-10z" fill="#fff" stroke="#181818"/><path d="m539.6001 631.3887h10v94.9316h-10z" fill="#fff" stroke="#181818"/><path d="m446.7349 651.3887h860.8003v46.6211h-860.8003z" fill="none" stroke="#000" stroke-width="1.5"/><path d="m446.7349 799.9414h1001.1138v46.6211h-1001.1138z" fill="none" stroke="#000" stroke-width="1.5"/><g stroke-width=".5"><path d="m35 67.4883v854.6953" stroke="#181818" stroke-dasharray="5 5"/><path d="m284.1685 67.4883v854.6953" stroke="#181818" stroke-dasharray="5 5"/><path d="m538.7349 67.4883v854.6953" stroke="#181818" stroke-dasharray="5 5"/><path d="m848.5566 67.4883v854.6953" stroke="#181818" stroke-dasharray="5 5"/><path d="m971.9287 67.4883v854.6953" stroke="#181818" stroke-dasharray="5 5"/><path d="m1034.5986 67.4883v854.6953" stroke="#181818" stroke-dasharray="5 5"/><path d="m1127.6514 67.4883v854.6953" stroke="#181818" stroke-dasharray="5 5"/><path d="m1248.5967 67.4883v854.6953" stroke="#181818" stroke-dasharray="5 5"/><path d="m1372.5352 67.4883v854.6953" stroke="#181818" stroke-dasharray="5 5"/><rect fill="#ddd" height="30.4883" rx="2.5" stroke="#666" width="60.2588" x="5" y="36"/></g><text fill="#333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="46.2588" x="12" y="56.5352">Mining</text><rect fill="#ddd" height="30.4883" rx="2.5" stroke="#666" stroke-width=".5" width="60.2588" x="5" y="921.1836"/><text fill="#333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="46.2588" x="12" y="941.7188">Mining</text><rect fill="#ddd" height="30.4883" rx="2.5" stroke="#666" stroke-width=".5" width="163.3926" x="203.1685" y="36"/><text fill="#333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="149.3926" x="210.1685" y="56.5352">Block Assembly Client</text><rect fill="#ddd" height="30.4883" rx="2.5" stroke="#666" stroke-width=".5" width="163.3926" x="203.1685" y="921.1836"/><text fill="#333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="149.3926" x="210.1685" y="941.7188">Block Assembly Client</text><rect fill="#ddd" height="30.4883" rx="2.5" stroke="#666" stroke-width=".5" width="165.7305" x="456.7349" y="36"/><text fill="#333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="151.7305" x="463.7349" y="56.5352">Block Assembly Server</text><rect fill="#ddd" height="30.4883" rx="2.5" stroke="#666" stroke-width=".5" width="165.7305" x="456.7349" y="921.1836"/><text fill="#333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="151.7305" x="463.7349" y="941.7188">Block Assembly Server</text><rect fill="#ddd" height="30.4883" rx="2.5" stroke="#666" stroke-width=".5" width="163.3721" x="767.5566" y="36"/><text fill="#333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="149.3721" x="774.5566" y="56.5352">blockSubmissionChan</text><rect fill="#ddd" height="30.4883" rx="2.5" stroke="#666" stroke-width=".5" width="163.3721" x="767.5566" y="921.1836"/><text fill="#333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="149.3721" x="774.5566" y="941.7188">blockSubmissionChan</text><text fill="#333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56.6699" x="940.9287" y="64.5352">JobStore</text><path d="m954.2637 15c0-10 18-10 18-10s18 0 18 10v26c0 10-18 10-18 10s-18 0-18-10z" fill="#e2e2f0" stroke="#181818" stroke-width="1.5"/><path d="m954.2637 15c0 10 18 10 18 10s18 0 18-10" fill="none" stroke="#181818" stroke-width="1.5"/><text fill="#333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56.6699" x="940.9287" y="934.7188">JobStore</text><path d="m954.2637 947.6719c0-10 18-10 18-10s18 0 18 10v26c0 10-18 10-18 10s-18 0-18-10z" fill="#e2e2f0" stroke="#181818" stroke-width="1.5"/><path d="m954.2637 947.6719c0 10 18 10 18 10s18 0 18-10" fill="none" stroke="#181818" stroke-width="1.5"/><text fill="#333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36.0527" x="1013.5986" y="64.5352">Block</text><ellipse cx="1034.625" cy="35" fill="#ddd" rx="12" ry="12" stroke="#666" stroke-width=".5"/><path d="m1022.625 49h24" stroke="#666" stroke-width=".5"/><text fill="#333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36.0527" x="1013.5986" y="934.7188">Block</text><ellipse cx="1034.625" cy="953.6719" fill="#ddd" rx="12" ry="12" stroke="#666" stroke-width=".5"/><path d="m1022.625 967.6719h24" stroke="#666" stroke-width=".5"/><text fill="#333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118.9453" x="1065.6514" y="64.5352">Transaction Store</text><path d="m1110.124 15c0-10 18-10 18-10s18 0 18 10v26c0 10-18 10-18 10s-18 0-18-10z" fill="#e2e2f0" stroke="#181818" stroke-width="1.5"/><path d="m1110.124 15c0 10 18 10 18 10s18 0 18-10" fill="none" stroke="#181818" stroke-width="1.5"/><text fill="#333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118.9453" x="1065.6514" y="934.7188">Transaction Store</text><path d="m1110.124 947.6719c0-10 18-10 18-10s18 0 18 10v26c0 10-18 10-18 10s-18 0-18-10z" fill="#e2e2f0" stroke="#181818" stroke-width="1.5"/><path d="m1110.124 947.6719c0 10 18 10 18 10s18 0 18-10" fill="none" stroke="#181818" stroke-width="1.5"/><text fill="#333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="90.9385" x="1200.5967" y="64.5352">Subtree Store</text><path d="m1231.0659 15c0-10 18-10 18-10s18 0 18 10v26c0 10-18 10-18 10s-18 0-18-10z" fill="#e2e2f0" stroke="#181818" stroke-width="1.5"/><path d="m1231.0659 15c0 10 18 10 18 10s18 0 18-10" fill="none" stroke="#181818" stroke-width="1.5"/><text fill="#333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="90.9385" x="1200.5967" y="934.7188">Subtree Store</text><path d="m1231.0659 947.6719c0-10 18-10 18-10s18 0 18 10v26c0 10-18 10-18 10s-18 0-18-10z" fill="#e2e2f0" stroke="#181818" stroke-width="1.5"/><path d="m1231.0659 947.6719c0 10 18 10 18 10s18 0 18-10" fill="none" stroke="#181818" stroke-width="1.5"/><rect fill="#ddd" height="30.4883" rx="2.5" stroke="#666" stroke-width=".5" width="130.3135" x="1307.5352" y="36"/><text fill="#333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116.3135" x="1314.5352" y="56.5352">Blockchain Client</text><rect fill="#ddd" height="30.4883" rx="2.5" stroke="#666" stroke-width=".5" width="130.3135" x="1307.5352" y="921.1836"/><text fill="#333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116.3135" x="1314.5352" y="941.7188">Blockchain Client</text><path d="m279.8647 141.1094h10v763.0742h-10z" fill="#fff" stroke="#181818"/><path d="m534.6001 170.4199h10v704.4531h-10z" fill="#fff" stroke="#181818"/><path d="m539.6001 631.3887h10v94.9316h-10z" fill="#fff" stroke="#181818"/><path d="m35.1294 98.7988h42" stroke="#666"/><path d="m77.1294 98.7988v13" stroke="#666"/><path d="m36.1294 111.7988h41" stroke="#666"/><path d="m46.1294 107.7988-10 4 10 4-4-4z" fill="#666" stroke="#666"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="146.3135" x="42.1294" y="94.0566">Solve Mining Challenge</text><path d="m267.8647 137.1094 10 4-10 4 4-4z" fill="#666" stroke="#666"/><path d="m35.1294 141.1094h238.7353" stroke="#666"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="225.7354" x="42.1294" y="136.3672">SubmitMiningSolution(ctx, solution)</text><path d="m522.6001 166.4199 10 4-10 4 4-4z" fill="#666" stroke="#666"/><path d="m289.8647 170.4199h238.7354" stroke="#666"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="225.7354" x="296.8647" y="165.6777">SubmitMiningSolution(ctx, solution)</text><path d="m837.2427 195.7305 10 4-10 4 4-4z" fill="#666" stroke="#666"/><path d="m544.6001 199.7305h298.6426" stroke="#666"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139.5786" x="551.6001" y="194.9883">Add block submission</text><path d="m555.6001 225.041-10 4 10 4-4-4z" fill="#666" stroke="#666"/><path d="m549.6001 229.041h298.6426" stroke="#666"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="280.6426" x="561.6001" y="224.2988">submitMiningSolution(ctx, blockSubmission)</text><path d="m960.2637 254.3516 10 4-10 4 4-4z" fill="#666" stroke="#666"/><path d="m544.6001 258.3516h421.6636" stroke="#666"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="146.853" x="551.6001" y="253.6094">jobItem = Get(*storeId)</text><path d="m555.6001 283.6621-10 4 10 4-4-4z" fill="#666" stroke="#666"/><path d="m549.6001 287.6621h421.6636" stroke="#666" stroke-dasharray="2 2"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91.1016" x="561.6001" y="282.9199">return jobItem</text><path d="m544.6001 316.9727h42" stroke="#666"/><path d="m586.6001 316.9727v13" stroke="#666"/><path d="m545.6001 329.9727h41" stroke="#666"/><path d="m555.6001 325.9727-10 4 10 4-4-4z" fill="#666" stroke="#666"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="229.6709" x="551.6001" y="312.2305">Create new block with proof of work</text><path d="m1022.625 370.5938 10 4-10 4 4-4z" fill="#666" stroke="#666"/><path d="m544.6001 374.5938h484.0249" stroke="#666"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="192.7466" x="551.6001" y="354.541">block.Valid(ctx, nil, nil, nil, nil,</text><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91.2412" x="551.6001" y="369.8516">nil, nil, nil, nil)</text><path d="m555.6001 399.9043-10 4 10 4-4-4z" fill="#666" stroke="#666"/><path d="m549.6001 403.9043h484.0249" stroke="#666" stroke-dasharray="2 2"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="103.2192" x="561.6001" y="399.1621">Validation result</text><path d="m1116.124 459.8359 10 4-10 4 4-4z" fill="#666" stroke="#666"/><path d="m544.6001 463.8359h577.5239" stroke="#666"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="162.3096" x="551.6001" y="428.4727">Set(context.Background(),</text><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="307.9946" x="551.6001" y="443.7832">block.CoinbaseTx.TxIDChainHash().CloneBytes(),</text><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="221.1206" x="551.6001" y="459.0938">block.CoinbaseTx.ExtendedBytes())</text><path d="m555.6001 489.1465-10 4 10 4-4-4z" fill="#666" stroke="#666"/><path d="m549.6001 493.1465h577.5239" stroke="#666" stroke-dasharray="2 2"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="180.4067" x="561.6001" y="488.4043">Coinbase Transaction stored</text><path d="m1360.6919 518.457 10 4-10 4 4-4z" fill="#666" stroke="#666"/><path d="m544.6001 522.457h822.0918" stroke="#666"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147.1069" x="551.6001" y="517.7148">AddBlock(ctx, block, "")</text><path d="m555.6001 547.7676-10 4 10 4-4-4z" fill="#666" stroke="#666"/><path d="m549.6001 551.7676h822.0918" stroke="#666" stroke-dasharray="2 2"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="222.5806" x="561.6001" y="547.0254">Block added to the local Blockchain</text><path d="m544.6001 581.0781h42" stroke="#666"/><path d="m586.6001 581.0781v13" stroke="#666"/><path d="m545.6001 594.0781h41" stroke="#666"/><path d="m555.6001 590.0781-10 4 10 4-4-4z" fill="#666" stroke="#666"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2915" x="551.6001" y="576.3359">UpdateBestBlock(ctx)</text><path d="m544.6001 618.3887h47" stroke="#666"/><path d="m591.6001 618.3887v13" stroke="#666"/><path d="m550.6001 631.3887h41" stroke="#666"/><path d="m560.6001 627.3887-10 4 10 4-4-4z" fill="#666" stroke="#666"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="269.9531" x="556.6001" y="613.6465">Go routine: removeSubtreesTTL(ctx, block)</text><path d="m446.7349 651.3887h74.4467v7.3105l-10 10h-64.4467z" fill="#eee" stroke="#000" stroke-width="1.5"/><path d="m446.7349 651.3887h860.8003v46.6211h-860.8003z" fill="none" stroke="#000" stroke-width="1.5"/><text fill="#333" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="29.4468" x="461.7349" y="664.957">loop</text><text fill="#333" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="101.0625" x="536.1816" y="664.0234">[for each subtree]</text><path d="m1237.0659 686.0098 10 4-10 4 4-4z" fill="#666" stroke="#666"/><path d="m549.6001 690.0098h693.4658" stroke="#666"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="207.0732" x="556.6001" y="685.2676">SetTTL(ctx, subtreeHashBytes, 0)</text><path d="m1360.6919 722.3203 10 4-10 4 4-4z" fill="#666" stroke="#666"/><path d="m544.6001 726.3203h822.0918" stroke="#666"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="228.0205" x="551.6001" y="721.5781">SetBlockSubtreesSet(ctx, blockHash)</text><path d="m960.2637 751.6309 10 4-10 4 4-4z" fill="#666" stroke="#666"/><path d="m544.6001 755.6309h421.6636" stroke="#666"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="65.0254" x="551.6001" y="750.8887">DeleteAll()</text><path d="m555.6001 780.9414-10 4 10 4-4-4z" fill="#666" stroke="#666"/><path d="m549.6001 784.9414h421.6636" stroke="#666" stroke-dasharray="2 2"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="98.1729" x="561.6001" y="780.1992">All jobs deleted</text><path d="m446.7349 799.9414h62.1386v7.3106l-10 10h-52.1386z" fill="#eee" stroke="#000" stroke-width="1.5"/><path d="m446.7349 799.9414h1001.1138v46.6211h-1001.1138z" fill="none" stroke="#000" stroke-width="1.5"/><text fill="#333" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1387" x="461.7349" y="813.5098">alt</text><text fill="#333" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="91.4536" x="523.8735" y="812.5762">[If Error Occurs]</text><path d="m1360.6919 834.5625 10 4-10 4 4-4z" fill="#666" stroke="#666"/><path d="m544.6001 838.5625h822.0918" stroke="#666"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="257.3657" x="551.6001" y="833.8203">InvalidateBlock(ctx, block.Header.Hash())</text><path d="m300.8647 870.873-10 4 10 4-4-4z" fill="#666" stroke="#666"/><path d="m294.8647 874.873h243.7354" stroke="#666" stroke-dasharray="2 2"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="81.7705" x="306.8647" y="870.1309">Return result</text><path d="m46.1294 900.1836-10 4 10 4-4-4z" fill="#666" stroke="#666"/><path d="m40.1294 904.1836h243.7353" stroke="#666" stroke-dasharray="2 2"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="81.7705" x="52.1294" y="899.4414">Return result</text><text fill="#333" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="155.4346" y="994.3398">Last Modified On: 24-Feb-2025</text></svg>
