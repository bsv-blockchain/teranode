<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1298px" preserveAspectRatio="none" style="width:1376px;height:1298px;background:#F0F8FF;" version="1.1" viewBox="0 0 1376 1298" width="1376px" zoomAndPan="magnify"><defs/><g><rect fill="#F0F8FF" height="1298" style="stroke:none;stroke-width:1.0;" width="1376" x="0" y="0"/><rect fill="#FFFFFF" height="1091.0059" style="stroke:#181818;stroke-width:1.0;" width="10" x="52.543" y="106.7988"/><rect fill="#FFFFFF" height="63.6211" style="stroke:#181818;stroke-width:1.0;" width="10" x="57.543" y="251.041"/><rect fill="#FFFFFF" height="102.9316" style="stroke:#181818;stroke-width:1.0;" width="10" x="57.543" y="480.9043"/><rect fill="#FFFFFF" height="164.5527" style="stroke:#181818;stroke-width:1.0;" width="10" x="57.543" y="656.457"/><rect fill="#FFFFFF" height="102.9316" style="stroke:#181818;stroke-width:1.0;" width="10" x="814.458" y="480.9043"/><rect fill="#FFFFFF" height="130.2422" style="stroke:#181818;stroke-width:1.0;" width="10" x="814.458" y="690.7676"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="1064.3564" y="720.0781"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="1164.5889" y="141.1094"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="1164.5889" y="1183.8047"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="1291.0313" y="285.3516"/><rect fill="none" height="75.9316" style="stroke:#000000;stroke-width:1.5;" width="872.5586" x="10" y="500.9043"/><rect fill="none" height="60.6211" style="stroke:#000000;stroke-width:1.5;" width="756.3574" x="10" y="964.9414"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="57" x2="57" y1="67.4883" y2="1215.8047"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="709.1377" x2="709.1377" y1="67.4883" y2="1215.8047"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="819.3574" x2="819.3574" y1="67.4883" y2="1215.8047"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1068.5933" x2="1068.5933" y1="67.4883" y2="1215.8047"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1169.1196" x2="1169.1196" y1="67.4883" y2="1215.8047"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1295.0581" x2="1295.0581" y1="67.4883" y2="1215.8047"/><rect fill="#DDDDDD" height="30.4883" rx="2.5" ry="2.5" style="stroke:#666666;stroke-width:0.5;" width="75.0859" x="20" y="36"/><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61.0859" x="27" y="56.5352">Validator</text><rect fill="#DDDDDD" height="30.4883" rx="2.5" ry="2.5" style="stroke:#666666;stroke-width:0.5;" width="75.0859" x="20" y="1214.8047"/><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61.0859" x="27" y="1235.3398">Validator</text><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="87.2197" x="663.1377" y="64.5352">Subtree Data</text><ellipse cx="709.7476" cy="35" fill="#DDDDDD" rx="12" ry="12" style="stroke:#666666;stroke-width:0.5;"/><line style="stroke:#666666;stroke-width:0.5;" x1="697.7476" x2="721.7476" y1="49" y2="49"/><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="87.2197" x="663.1377" y="1228.3398">Subtree Data</text><ellipse cx="709.7476" cy="1247.293" fill="#DDDDDD" rx="12" ry="12" style="stroke:#666666;stroke-width:0.5;"/><line style="stroke:#666666;stroke-width:0.5;" x1="697.7476" x2="721.7476" y1="1261.293" y2="1261.293"/><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="100.2012" x="766.3574" y="64.5352">Tx Meta Cache</text><path d="M801.458,15 C801.458,5 819.458,5 819.458,5 C819.458,5 837.458,5 837.458,15 L837.458,41 C837.458,51 819.458,51 819.458,51 C819.458,51 801.458,51 801.458,41 L801.458,15 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M801.458,15 C801.458,25 819.458,25 819.458,25 C819.458,25 837.458,25 837.458,15 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="100.2012" x="766.3574" y="1228.3398">Tx Meta Cache</text><path d="M801.458,1241.293 C801.458,1231.293 819.458,1231.293 819.458,1231.293 C819.458,1231.293 837.458,1231.293 837.458,1241.293 L837.458,1267.293 C837.458,1277.293 819.458,1277.293 819.458,1277.293 C819.458,1277.293 801.458,1277.293 801.458,1267.293 L801.458,1241.293 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M801.458,1241.293 C801.458,1251.293 819.458,1251.293 819.458,1251.293 C819.458,1251.293 837.458,1251.293 837.458,1241.293 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="77.5264" x="1027.5933" y="64.5352">UTXO Store</text><path d="M1051.3564,15 C1051.3564,5 1069.3564,5 1069.3564,5 C1069.3564,5 1087.3564,5 1087.3564,15 L1087.3564,41 C1087.3564,51 1069.3564,51 1069.3564,51 C1069.3564,51 1051.3564,51 1051.3564,41 L1051.3564,15 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M1051.3564,15 C1051.3564,25 1069.3564,25 1069.3564,25 C1069.3564,25 1087.3564,25 1087.3564,15 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="77.5264" x="1027.5933" y="1228.3398">UTXO Store</text><path d="M1051.3564,1241.293 C1051.3564,1231.293 1069.3564,1231.293 1069.3564,1231.293 C1069.3564,1231.293 1087.3564,1231.293 1087.3564,1241.293 L1087.3564,1267.293 C1087.3564,1277.293 1069.3564,1277.293 1069.3564,1277.293 C1069.3564,1277.293 1051.3564,1277.293 1051.3564,1267.293 L1051.3564,1241.293 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M1051.3564,1241.293 C1051.3564,1251.293 1069.3564,1251.293 1069.3564,1251.293 C1069.3564,1251.293 1087.3564,1251.293 1087.3564,1241.293 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="90.9385" x="1121.1196" y="64.5352">Subtree Store</text><path d="M1151.5889,15 C1151.5889,5 1169.5889,5 1169.5889,5 C1169.5889,5 1187.5889,5 1187.5889,15 L1187.5889,41 C1187.5889,51 1169.5889,51 1169.5889,51 C1169.5889,51 1151.5889,51 1151.5889,41 L1151.5889,15 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M1151.5889,15 C1151.5889,25 1169.5889,25 1169.5889,25 C1169.5889,25 1187.5889,25 1187.5889,15 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="90.9385" x="1121.1196" y="1228.3398">Subtree Store</text><path d="M1151.5889,1241.293 C1151.5889,1231.293 1169.5889,1231.293 1169.5889,1231.293 C1169.5889,1231.293 1187.5889,1231.293 1187.5889,1241.293 L1187.5889,1267.293 C1187.5889,1277.293 1169.5889,1277.293 1169.5889,1277.293 C1169.5889,1277.293 1151.5889,1277.293 1151.5889,1267.293 L1151.5889,1241.293 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M1151.5889,1241.293 C1151.5889,1251.293 1169.5889,1251.293 1169.5889,1251.293 C1169.5889,1251.293 1187.5889,1251.293 1187.5889,1241.293 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><rect fill="#DDDDDD" height="30.4883" rx="2.5" ry="2.5" style="stroke:#666666;stroke-width:0.5;" width="135.9463" x="1228.0581" y="36"/><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="121.9463" x="1235.0581" y="56.5352">Util HTTP Request</text><rect fill="#DDDDDD" height="30.4883" rx="2.5" ry="2.5" style="stroke:#666666;stroke-width:0.5;" width="135.9463" x="1228.0581" y="1214.8047"/><text fill="#333333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="121.9463" x="1235.0581" y="1235.3398">Util HTTP Request</text><rect fill="#FFFFFF" height="1091.0059" style="stroke:#181818;stroke-width:1.0;" width="10" x="52.543" y="106.7988"/><rect fill="#FFFFFF" height="63.6211" style="stroke:#181818;stroke-width:1.0;" width="10" x="57.543" y="251.041"/><rect fill="#FFFFFF" height="102.9316" style="stroke:#181818;stroke-width:1.0;" width="10" x="57.543" y="480.9043"/><rect fill="#FFFFFF" height="164.5527" style="stroke:#181818;stroke-width:1.0;" width="10" x="57.543" y="656.457"/><rect fill="#FFFFFF" height="102.9316" style="stroke:#181818;stroke-width:1.0;" width="10" x="814.458" y="480.9043"/><rect fill="#FFFFFF" height="130.2422" style="stroke:#181818;stroke-width:1.0;" width="10" x="814.458" y="690.7676"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="1064.3564" y="720.0781"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="1164.5889" y="141.1094"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="1164.5889" y="1183.8047"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="1291.0313" y="285.3516"/><line style="stroke:#666666;stroke-width:1.0;" x1="57.543" x2="104.543" y1="93.7988" y2="93.7988"/><line style="stroke:#666666;stroke-width:1.0;" x1="104.543" x2="104.543" y1="93.7988" y2="106.7988"/><line style="stroke:#666666;stroke-width:1.0;" x1="63.543" x2="104.543" y1="106.7988" y2="106.7988"/><polygon fill="#666666" points="73.543,102.7988,63.543,106.7988,73.543,110.7988,69.543,106.7988" style="stroke:#666666;stroke-width:1.0;"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="279.8047" x="69.543" y="89.0566">ValidateSubtreeInternal(ctx, validateSubtree)</text><polygon fill="#666666" points="1152.5889,137.1094,1162.5889,141.1094,1152.5889,145.1094,1156.5889,141.1094" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;" x1="62.543" x2="1158.5889" y1="141.1094" y2="141.1094"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="281.0679" x="69.543" y="136.3672">subtreeStore.Exists(spanCtx, subtreeHash[:])</text><polygon fill="#666666" points="73.543,166.4199,63.543,170.4199,73.543,174.4199,69.543,170.4199" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="67.543" x2="1168.5889" y1="170.4199" y2="170.4199"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="117.3618" x="79.543" y="165.6777">subtreeExists / err</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="1369.0044" x="0" y="199.0752"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1369.0044" y1="199.0752" y2="199.0752"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1369.0044" y1="202.0752" y2="202.0752"/><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2.0;" width="327.8599" x="520.5723" y="188.4199"/><text fill="#333333" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="305.2905" x="526.5723" y="204.9883">Get the Subtree from the remote Asset Server</text><line style="stroke:#666666;stroke-width:1.0;" x1="62.543" x2="109.543" y1="238.041" y2="238.041"/><line style="stroke:#666666;stroke-width:1.0;" x1="109.543" x2="109.543" y1="238.041" y2="251.041"/><line style="stroke:#666666;stroke-width:1.0;" x1="68.543" x2="109.543" y1="251.041" y2="251.041"/><polygon fill="#666666" points="78.543,247.041,68.543,251.041,78.543,255.041,74.543,251.041" style="stroke:#666666;stroke-width:1.0;"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="332.0649" x="74.543" y="233.2988">getSubtreeTxHashes(ctx, stat, subtreeHash, baseUrl)</text><polygon fill="#666666" points="1279.0313,281.3516,1289.0313,285.3516,1279.0313,289.3516,1283.0313,285.3516" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;" x1="67.543" x2="1285.0313" y1="285.3516" y2="285.3516"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="260.8823" x="74.543" y="280.6094">DoHTTPRequestBodyReader(spanCtx, url)</text><polygon fill="#666666" points="73.543,310.6621,63.543,314.6621,73.543,318.6621,69.543,314.6621" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="67.543" x2="1295.0313" y1="314.6621" y2="314.6621"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="80.4692" x="79.543" y="309.9199">subtree / err</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="1369.0044" x="0" y="343.3174"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1369.0044" y1="343.3174" y2="343.3174"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1369.0044" y1="346.3174" y2="346.3174"/><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2.0;" width="347.1504" x="510.927" y="332.6621"/><text fill="#333333" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="324.5811" x="516.927" y="349.2305">Create a subtree metadata (a decorated subtree)</text><line style="stroke:#666666;stroke-width:1.0;" x1="62.543" x2="104.543" y1="387.2832" y2="387.2832"/><line style="stroke:#666666;stroke-width:1.0;" x1="104.543" x2="104.543" y1="387.2832" y2="400.2832"/><line style="stroke:#666666;stroke-width:1.0;" x1="63.543" x2="104.543" y1="400.2832" y2="400.2832"/><polygon fill="#666666" points="73.543,396.2832,63.543,400.2832,73.543,404.2832,69.543,400.2832" style="stroke:#666666;stroke-width:1.0;"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="244.5498" x="69.543" y="382.541">Create a subtreeMeta from the subtree</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="1369.0044" x="0" y="428.9385"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1369.0044" y1="428.9385" y2="428.9385"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1369.0044" y1="431.9385" y2="431.9385"/><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2.0;" width="543.5659" x="412.7192" y="418.2832"/><text fill="#333333" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="520.9966" x="418.7192" y="434.8516">Attempt to obtain the Tx Metadata for all txs through the existing meta cache</text><line style="stroke:#666666;stroke-width:1.0;" x1="62.543" x2="109.543" y1="467.9043" y2="467.9043"/><line style="stroke:#666666;stroke-width:1.0;" x1="109.543" x2="109.543" y1="467.9043" y2="480.9043"/><line style="stroke:#666666;stroke-width:1.0;" x1="68.543" x2="109.543" y1="480.9043" y2="480.9043"/><polygon fill="#666666" points="78.543,476.9043,68.543,480.9043,78.543,484.9043,74.543,480.9043" style="stroke:#666666;stroke-width:1.0;"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="396.6333" x="74.543" y="463.1621">processTxMetaUsingCache(ctx, txHashes, txMetaSlice, failFast)</text><path d="M10,500.9043 L84.4468,500.9043 L84.4468,508.2148 L74.4468,518.2148 L10,518.2148 L10,500.9043 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="75.9316" style="stroke:#000000;stroke-width:1.5;" width="872.5586" x="10" y="500.9043"/><text fill="#333333" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="29.4468" x="25" y="514.4727">loop</text><text fill="#333333" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="180.3184" x="99.4468" y="513.5391">[for each txHash in the subtree]</text><polygon fill="#666666" points="802.458,535.5254,812.458,539.5254,802.458,543.5254,806.458,539.5254" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;" x1="67.543" x2="808.458" y1="539.5254" y2="539.5254"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="198.25" x="74.543" y="534.7832">GetMetaCached(gCtx, &amp;txHash)</text><polygon fill="#666666" points="78.543,564.8359,68.543,568.8359,78.543,572.8359,74.543,568.8359" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="72.543" x2="813.458" y1="568.8359" y2="568.8359"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="76.2417" x="84.543" y="564.0938">txMeta / err</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="1369.0044" x="0" y="604.4912"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1369.0044" y1="604.4912" y2="604.4912"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1369.0044" y1="607.4912" y2="607.4912"/><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2.0;" width="533.1938" x="417.9053" y="593.8359"/><text fill="#333333" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="510.6245" x="423.9053" y="610.4043">For any Tx Metadata not found in the cache, obtain it directly from the store</text><line style="stroke:#666666;stroke-width:1.0;" x1="62.543" x2="109.543" y1="643.457" y2="643.457"/><line style="stroke:#666666;stroke-width:1.0;" x1="109.543" x2="109.543" y1="643.457" y2="656.457"/><line style="stroke:#666666;stroke-width:1.0;" x1="68.543" x2="109.543" y1="656.457" y2="656.457"/><polygon fill="#666666" points="78.543,652.457,68.543,656.457,78.543,660.457,74.543,656.457" style="stroke:#666666;stroke-width:1.0;"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="390.9014" x="74.543" y="638.7148">processTxMetaUsingStore(ctx, txHashes, txMetaSlice, failFast)</text><polygon fill="#666666" points="802.458,686.7676,812.458,690.7676,802.458,694.7676,806.458,690.7676" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;" x1="67.543" x2="808.458" y1="690.7676" y2="690.7676"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="220.8984" x="74.543" y="686.0254">MetaBatchDecorate(gCtx, &amp;txHash)</text><polygon fill="#666666" points="1052.3564,716.0781,1062.3564,720.0781,1052.3564,724.0781,1056.3564,720.0781" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;" x1="824.458" x2="1058.3564" y1="720.0781" y2="720.0781"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="220.8984" x="831.458" y="715.3359">MetaBatchDecorate(gCtx, &amp;txHash)</text><polygon fill="#666666" points="835.458,745.3887,825.458,749.3887,835.458,753.3887,831.458,749.3887" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="829.458" x2="1068.3564" y1="749.3887" y2="749.3887"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="76.2417" x="841.458" y="744.6465">txMeta / err</text><line style="stroke:#666666;stroke-width:1.0;" x1="824.458" x2="866.458" y1="778.6992" y2="778.6992"/><line style="stroke:#666666;stroke-width:1.0;" x1="866.458" x2="866.458" y1="778.6992" y2="791.6992"/><line style="stroke:#666666;stroke-width:1.0;" x1="825.458" x2="866.458" y1="791.6992" y2="791.6992"/><polygon fill="#666666" points="835.458,787.6992,825.458,791.6992,835.458,795.6992,831.458,791.6992" style="stroke:#666666;stroke-width:1.0;"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="206.4131" x="831.458" y="773.957">SetCache(&amp;data.Hash, data.Data)</text><polygon fill="#666666" points="73.543,817.0098,63.543,821.0098,73.543,825.0098,69.543,821.0098" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="67.543" x2="818.458" y1="821.0098" y2="821.0098"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="76.2417" x="79.543" y="816.2676">txMeta / err</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="1369.0044" x="0" y="849.665"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1369.0044" y1="849.665" y2="849.665"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1369.0044" y1="852.665" y2="852.665"/><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2.0;" width="529.9438" x="419.5303" y="839.0098"/><text fill="#333333" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="511.6592" x="425.5303" y="855.5781">If a transaction is unknown by the node, do request it from the remote node</text><line style="stroke:#666666;stroke-width:1.0;" x1="62.543" x2="104.543" y1="893.6309" y2="893.6309"/><line style="stroke:#666666;stroke-width:1.0;" x1="104.543" x2="104.543" y1="893.6309" y2="906.6309"/><line style="stroke:#666666;stroke-width:1.0;" x1="63.543" x2="104.543" y1="906.6309" y2="906.6309"/><polygon fill="#666666" points="73.543,902.6309,63.543,906.6309,73.543,910.6309,69.543,906.6309" style="stroke:#666666;stroke-width:1.0;"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="618.2046" x="69.543" y="888.8887">processMissingTransactions(ctx, subtreeHash, missingTxHashesCompacted, baseUrl, txMetaSlice)</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="1369.0044" x="0" y="935.2861"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1369.0044" y1="935.2861" y2="935.2861"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1369.0044" y1="938.2861" y2="938.2861"/><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2.0;" width="420.085" x="474.4597" y="924.6309"/><text fill="#333333" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="401.8003" x="480.4597" y="941.1992">Add all decorated (with tx meta) transactions to the subtree</text><path d="M10,964.9414 L84.4468,964.9414 L84.4468,972.252 L74.4468,982.252 L10,982.252 L10,964.9414 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="60.6211" style="stroke:#000000;stroke-width:1.5;" width="756.3574" x="10" y="964.9414"/><text fill="#333333" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="29.4468" x="25" y="978.5098">loop</text><text fill="#333333" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="151.8247" x="99.4468" y="977.5762">[for each tx in the subtree]</text><polygon fill="#666666" points="697.7476,999.5625,707.7476,1003.5625,697.7476,1007.5625,701.7476,1003.5625" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;" x1="62.543" x2="703.7476" y1="1003.5625" y2="1003.5625"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="502.9692" x="69.543" y="998.8203">Add transaction to Subtree -  AddNode(txHash, txMeta.Fee, txMeta.SizeInBytes)</text><polygon fill="#666666" points="73.543,1013.5625,63.543,1017.5625,73.543,1021.5625,69.543,1017.5625" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="67.543" x2="708.7476" y1="1017.5625" y2="1017.5625"/><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="1369.0044" x="0" y="1053.2178"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1369.0044" y1="1053.2178" y2="1053.2178"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1369.0044" y1="1056.2178" y2="1056.2178"/><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2.0;" width="312.4351" x="528.2847" y="1042.5625"/><text fill="#333333" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="294.1504" x="534.2847" y="1059.1309">Add meta data required for block validation</text><polygon fill="#666666" points="697.7476,1093.1836,707.7476,1097.1836,697.7476,1101.1836,701.7476,1097.1836" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;" x1="62.543" x2="703.7476" y1="1097.1836" y2="1097.1836"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="353.355" x="69.543" y="1092.4414">SetParentTxHashes(subtreeIdx, txMeta.ParentTxHashes)</text><polygon fill="#666666" points="73.543,1107.1836,63.543,1111.1836,73.543,1115.1836,69.543,1111.1836" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="67.543" x2="708.7476" y1="1111.1836" y2="1111.1836"/><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="1369.0044" x="0" y="1139.8389"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1369.0044" y1="1139.8389" y2="1139.8389"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1369.0044" y1="1142.8389" y2="1142.8389"/><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2.0;" width="215.6777" x="576.6633" y="1129.1836"/><text fill="#333333" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="197.3931" x="582.6633" y="1145.752">Persist the decorated subtree</text><polygon fill="#666666" points="1152.5889,1179.8047,1162.5889,1183.8047,1152.5889,1187.8047,1156.5889,1183.8047" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;" x1="62.543" x2="1158.5889" y1="1183.8047" y2="1183.8047"/><text fill="#333333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="319.8076" x="69.543" y="1179.0625">Set(spanCtx, merkleRoot[:], completeSubtreeBytes)</text><polygon fill="#666666" points="68.543,1193.8047,58.543,1197.8047,68.543,1201.8047,64.543,1197.8047" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="62.543" x2="1168.5889" y1="1197.8047" y2="1197.8047"/><text fill="#333333" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="155.4346" x="0" y="1287.9609">Last Modified On: 24-Feb-2025</text><!--SRC=[fLPTQoCt57sVNt5nwTO3JbeebCMGXOrTTmFrReYTKYXza4VNjeX6SYKviLlwt_TAenbh9awSREPXqCVHrVquEfAz4sh332jXmOgxbT5RnKTQQWFVJNwQl9zCCjiWE2xPLhg9LYv2VWvV0c76w8Su-Kluikm76EDIA8I5DXoDXINDCYa19PQed4tMKrUuFVoN0Lm6TDiMZNQz78Sl-pzBh1JaeT7ohMRexqGXDaovRpELPQc9tXzC2iwSDZrW5c8FPzk5CuXP3BqN-p1cZWLW7F3zZ1Qm1RC8lVaEfkWOZ5Ynne2Rx_p0ZEnZWhkT__a5mc00-MuNKkzuGCMH2jYAuTO92P_cyskumN-sQ5rbbKOfsav8SFQX6-MmEt2b71h5PBzmkm7SjoTpJvvVTy8weLOmynkg0ZDME75Fg4SfFEP06ieGRD8x3vPjtr9a8xzxdFp4xFgluT_vOPzMEj8Ed1qBCTgfpCEFWCPa78zRoouku3TquDRD12oDBiE0mLBJWe_M4cA6vXuDmCN5onAzGXVRyvqF2MsLO-kOQyKw04-3MoFprsNM5tq8O-tP4CbmgVd-1XcTaaDMjot3WIc1HC-bxd7IAeOb0uyyf4IE3FefrfWfwK1udaEVaNeLsj0qhsVpb-UoQpYSlAPCDd7XetDORgYU6lJ2CQ428XxMu4gjVcvdQOw4OxKE6Anvxfs6mX_hbpkuCRf0Qoi9kBLa9kX2LN4Nw-zRGIAaA700IoRaX5dtNDcRcLHSfDQR40PLOnsjGuoqpWK07F4xiJBqjFUzu2Zlhm9PtbNMShy-HHzdInLE90igdlAZfORFqsRYAwBshIefxIX44lKwi52GGLrKuO0BWuMJ-uG7mTCtr2nu- -QQdSgxRruoLwp7yKHqStyqXrch6XyE5ybh31vkdwOLAjlohrNLL0AQnLrVMijdw2hkl_E5FAyKBZJz3Pft5f-arHEKEiMfgoMfXJDCMG_Jn1WBMtMdz8E2nJxGHMbE5UMQP3w8foTLL_ez9X3gDOoQ2klPD3_iNaj_AlfbH4MYZNIv8J3ovZfeKI-lr8tpe5q7BUq_2ESr8AXMdaPilGOcaX32w4f7LpQUli1zyOR1WJIhj4K31J_xcHBMhtXN-ty-GMpQC_4llJakzmvjdYMcZp4XI4eTTb3b80s-N7JsUOXZ8NLnLxzRl4TFdFvM54JHQsRemTVSp37-AxvhF6qZJZlh7RscvpNT8Y6bZ-uxxzh91nAvThYwIpHt4c-qTlGU6j2pkjn8R1R797xRA-df1z5p1qlYqiiodGm3lvCCmbHpiHGKunSrXEyzjj_Z_6mwdPxjwUlbsLS0]--></g></svg>
