<svg contentStyleType="text/css" height="991" preserveAspectRatio="none" viewBox="0 0 1199 991" width="1199" xmlns="http://www.w3.org/2000/svg" zoomAndPan="magnify"><path d="m223 98.7988h10v773.832h-10z" fill="#fff" stroke="#181818"/><path d="m228 178.4199h10v694.2109h-10z" fill="#fff" stroke="#181818"/><path d="m876 600.8359h10v271.7949h-10z" fill="#fff" stroke="#181818"/><path d="m1112 688.7676h10v156.5527h-10z" fill="#fff" stroke="#181818"/><path d="m159.5 298.3516h450.5v145.2422h-450.5z" fill="none" stroke="#000" stroke-width="1.5"/><path d="m159.5 762.3887h1034v75.9316h-1034z" fill="none" stroke="#000" stroke-width="1.5"/><g stroke="#181818"><path d="m40 67.4883v830.1426" stroke-dasharray="5 5" stroke-width=".5"/><path d="m227.5 67.4883v830.1426" stroke-dasharray="5 5" stroke-width=".5"/><path d="m502 67.4883v830.1426" stroke-dasharray="5 5" stroke-width=".5"/><path d="m565 67.4883v830.1426" stroke-dasharray="5 5" stroke-width=".5"/><path d="m662 67.4883v830.1426" stroke-dasharray="5 5" stroke-width=".5"/><path d="m769 67.4883v830.1426" stroke-dasharray="5 5" stroke-width=".5"/><path d="m881 67.4883v830.1426" stroke-dasharray="5 5" stroke-width=".5"/><path d="m1116.5 67.4883v830.1426" stroke-dasharray="5 5" stroke-width=".5"/><rect fill="#e2e2f0" height="30.4883" rx="2.5" stroke-width=".5" width="70" x="5" y="36"/></g><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56" x="12" y="56.5352">MainNet</text><rect fill="#e2e2f0" height="30.4883" rx="2.5" stroke="#181818" stroke-width=".5" width="70" x="5" y="896.6309"/><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56" x="12" y="917.166">MainNet</text><rect fill="#e2e2f0" height="46.9766" rx="2.5" stroke="#181818" stroke-width=".5" width="117" x="169.5" y="19.5117"/><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="75" x="190.5" y="40.0469">P2P Legacy</text><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="103" x="176.5" y="56.5352">Overlay Service</text><rect fill="#e2e2f0" height="46.9766" rx="2.5" stroke="#181818" stroke-width=".5" width="117" x="169.5" y="896.6309"/><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="75" x="190.5" y="917.166">P2P Legacy</text><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="103" x="176.5" y="933.6543">Overlay Service</text><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="18" x="490" y="64.5352">db</text><path d="m484 15c0-10 18-10 18-10s18 0 18 10v26c0 10-18 10-18 10s-18 0-18-10z" fill="#e2e2f0" stroke="#181818" stroke-width="1.5"/><path d="m484 15c0 10 18 10 18 10s18 0 18-10" fill="none" stroke="#181818" stroke-width="1.5"/><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="18" x="490" y="910.166">db</text><path d="m484 923.1191c0-10 18-10 18-10s18 0 18 10v26c0 10-18 10-18 10s-18 0-18-10z" fill="#e2e2f0" stroke="#181818" stroke-width="1.5"/><path d="m484 923.1191c0 10 18 10 18 10s18 0 18-10" fill="none" stroke="#181818" stroke-width="1.5"/><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="64" x="530" y="64.5352">Tx Cache</text><path d="m547 15c0-10 18-10 18-10s18 0 18 10v26c0 10-18 10-18 10s-18 0-18-10z" fill="#e2e2f0" stroke="#181818" stroke-width="1.5"/><path d="m547 15c0 10 18 10 18 10s18 0 18-10" fill="none" stroke="#181818" stroke-width="1.5"/><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="64" x="530" y="910.166">Tx Cache</text><path d="m547 923.1191c0-10 18-10 18-10s18 0 18 10v26c0 10-18 10-18 10s-18 0-18-10z" fill="#e2e2f0" stroke="#181818" stroke-width="1.5"/><path d="m547 923.1191c0 10 18 10 18 10s18 0 18-10" fill="none" stroke="#181818" stroke-width="1.5"/><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="99" x="610" y="64.5352">Subtree Cache</text><path d="m644.5 15c0-10 18-10 18-10s18 0 18 10v26c0 10-18 10-18 10s-18 0-18-10z" fill="#e2e2f0" stroke="#181818" stroke-width="1.5"/><path d="m644.5 15c0 10 18 10 18 10s18 0 18-10" fill="none" stroke="#181818" stroke-width="1.5"/><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="99" x="610" y="910.166">Subtree Cache</text><path d="m644.5 923.1191c0-10 18-10 18-10s18 0 18 10v26c0 10-18 10-18 10s-18 0-18-10z" fill="#e2e2f0" stroke="#181818" stroke-width="1.5"/><path d="m644.5 923.1191c0 10 18 10 18 10s18 0 18-10" fill="none" stroke="#181818" stroke-width="1.5"/><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="82" x="725" y="64.5352">Block Cache</text><path d="m751 15c0-10 18-10 18-10s18 0 18 10v26c0 10-18 10-18 10s-18 0-18-10z" fill="#e2e2f0" stroke="#181818" stroke-width="1.5"/><path d="m751 15c0 10 18 10 18 10s18 0 18-10" fill="none" stroke="#181818" stroke-width="1.5"/><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="82" x="725" y="910.166">Block Cache</text><path d="m751 923.1191c0-10 18-10 18-10s18 0 18 10v26c0 10-18 10-18 10s-18 0-18-10z" fill="#e2e2f0" stroke="#181818" stroke-width="1.5"/><path d="m751 923.1191c0 10 18 10 18 10s18 0 18-10" fill="none" stroke="#181818" stroke-width="1.5"/><rect fill="#e2e2f0" height="46.9766" rx="2.5" stroke="#181818" stroke-width=".5" width="116" x="823" y="19.5117"/><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102" x="830" y="40.0469">Block Validator</text><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76" x="843" y="56.5352">(Teranode)</text><rect fill="#e2e2f0" height="46.9766" rx="2.5" stroke="#181818" stroke-width=".5" width="116" x="823" y="896.6309"/><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102" x="830" y="917.166">Block Validator</text><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76" x="843" y="933.6543">(Teranode)</text><rect fill="#e2e2f0" height="46.9766" rx="2.5" stroke="#181818" stroke-width=".5" width="133" x="1050.5" y="19.5117"/><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="119" x="1057.5" y="40.0469">Subtree Validator</text><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76" x="1079" y="56.5352">(Teranode)</text><rect fill="#e2e2f0" height="46.9766" rx="2.5" stroke="#181818" stroke-width=".5" width="133" x="1050.5" y="896.6309"/><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="119" x="1057.5" y="917.166">Subtree Validator</text><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76" x="1079" y="933.6543">(Teranode)</text><path d="m223 98.7988h10v773.832h-10z" fill="#fff" stroke="#181818"/><path d="m228 178.4199h10v694.2109h-10z" fill="#fff" stroke="#181818"/><path d="m876 600.8359h10v271.7949h-10z" fill="#fff" stroke="#181818"/><path d="m1112 688.7676h10v156.5527h-10z" fill="#fff" stroke="#181818"/><path d="m211 94.7988 10 4-10 4 4-4z" fill="#181818" stroke="#181818"/><path d="m40 98.7988h177" stroke="#181818"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="164" x="47" y="94.0566">OnBlock(peer, msg, bytes)</text><path d="m233 128.1094h42" stroke="#181818"/><path d="m275 128.1094v13" stroke="#181818"/><path d="m234 141.1094h41" stroke="#181818"/><path d="m244 137.1094-10 4 10 4-4-4z" fill="#181818" stroke="#181818"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="143" x="240" y="123.3672">build block from bytes</text><path d="m233 165.4199h47" stroke="#181818"/><path d="m280 165.4199v13" stroke="#181818"/><path d="m239 178.4199h41" stroke="#181818"/><path d="m249 174.4199-10 4 10 4-4-4z" fill="#181818" stroke="#181818"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="121" x="245" y="160.6777">HandleBlock(block)</text><path d="m238 212.7305h42" stroke="#181818"/><path d="m280 212.7305v13" stroke="#181818"/><path d="m239 225.7305h41" stroke="#181818"/><path d="m249 221.7305-10 4 10 4-4-4z" fill="#181818" stroke="#181818"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="180" x="245" y="207.9883">create a new (empty) subtree</text><path d="m238 270.3516h42" stroke="#181818"/><path d="m280 270.3516v13" stroke="#181818"/><path d="m239 283.3516h41" stroke="#181818"/><path d="m249 279.3516-10 4 10 4-4-4z" fill="#181818" stroke="#181818"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="188" x="245" y="250.2988">add a placeholder coinbase tx</text><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="88" x="249" y="265.6094">to the subtree</text><path d="m159.5 298.3516h74v7.3105l-10 10h-64z" fill="#eee" stroke="#000" stroke-width="1.5"/><path d="m159.5 298.3516h450.5v145.2422h-450.5z" fill="none" stroke="#000" stroke-width="1.5"/><text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="29" x="174.5" y="311.9199">loop</text><text font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="47" x="248.5" y="310.9863">[each tx]</text><path d="m238 336.9727h42" stroke="#181818"/><path d="m280 336.9727v13" stroke="#181818"/><path d="m239 349.9727h41" stroke="#181818"/><path d="m249 345.9727-10 4 10 4-4-4z" fill="#181818" stroke="#181818"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="212" x="245" y="332.2305">convert Tx to Extended Tx format</text><path d="m238 379.2832h42" stroke="#181818"/><path d="m280 379.2832v13" stroke="#181818"/><path d="m239 392.2832h41" stroke="#181818"/><path d="m249 388.2832-10 4 10 4-4-4z" fill="#181818" stroke="#181818"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="197" x="245" y="374.541">add Extended Tx to the Subtree</text><path d="m553 417.5938 10 4-10 4 4-4z" fill="#181818" stroke="#181818"/><path d="m238 421.5938h321" stroke="#181818"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="58" x="245" y="416.8516">Cache Tx</text><path d="m249 431.5938-10 4 10 4-4-4z" fill="#181818" stroke="#181818"/><path d="m243 435.5938h321" stroke="#181818" stroke-dasharray="2 2"/><path d="m650.5 467.9043 10 4-10 4 4-4z" fill="#181818" stroke="#181818"/><path d="m238 471.9043h418.5" stroke="#181818"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="89" x="245" y="467.1621">Cache Subtree</text><path d="m249 481.9043-10 4 10 4-4-4z" fill="#181818" stroke="#181818"/><path d="m243 485.9043h418.5" stroke="#181818" stroke-dasharray="2 2"/><path d="m238 515.2148h42" stroke="#181818"/><path d="m280 515.2148v13" stroke="#181818"/><path d="m239 528.2148h41" stroke="#181818"/><path d="m249 524.2148-10 4 10 4-4-4z" fill="#181818" stroke="#181818"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="245" x="245" y="510.4727">Build a Teranode block (block, subtree)</text><path d="m757 553.5254 10 4-10 4 4-4z" fill="#181818" stroke="#181818"/><path d="m238 557.5254h525" stroke="#181818"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="138" x="245" y="552.7832">Cache Teranode Block</text><path d="m249 567.5254-10 4 10 4-4-4z" fill="#181818" stroke="#181818"/><path d="m243 571.5254h525" stroke="#181818" stroke-dasharray="2 2"/><path d="m864 596.8359 10 4-10 4 4-4z" fill="#181818" stroke="#181818"/><path d="m238 600.8359h632" stroke="#181818"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="200" x="245" y="596.0938">BlockFound(ctx, hash, base_url)</text><path d="m249 626.1465-10 4 10 4-4-4z" fill="#181818" stroke="#181818"/><path d="m243 630.1465h632" stroke="#181818"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="184" x="255" y="625.4043">http://{base_url}/block/hash</text><path d="m864 655.457 10 4-10 4 4-4z" fill="#181818" stroke="#181818"/><path d="m238 659.457h632" stroke="#181818" stroke-dasharray="2 2"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104" x="245" y="654.7148">block (response)</text><path d="m1100 684.7676 10 4-10 4 4-4z" fill="#181818" stroke="#181818"/><path d="m886 688.7676h220" stroke="#181818"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="207" x="893" y="684.0254">CheckSubtree(ctx, hash, baseUrl)</text><path d="m249 714.0781-10 4 10 4-4-4z" fill="#181818" stroke="#181818"/><path d="m243 718.0781h868" stroke="#181818"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="196" x="255" y="713.3359">http://{base_url}/subtree/hash</text><path d="m1100 743.3887 10 4-10 4 4-4z" fill="#181818" stroke="#181818"/><path d="m238 747.3887h868" stroke="#181818" stroke-dasharray="2 2"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116" x="245" y="742.6465">subtree (response)</text><path d="m159.5 762.3887h74v7.3105l-10 10h-64z" fill="#eee" stroke="#000" stroke-width="1.5"/><path d="m159.5 762.3887h1034v75.9316h-1034z" fill="none" stroke="#000" stroke-width="1.5"/><text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="29" x="174.5" y="775.957">loop</text><text font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="58" x="248.5" y="775.0234">[each txid]</text><path d="m249 797.0098-10 4 10 4-4-4z" fill="#181818" stroke="#181818"/><path d="m243 801.0098h868" stroke="#181818"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="157" x="255" y="796.2676">http://{base_url}/tx/txid</text><path d="m1100 826.3203 10 4-10 4 4-4z" fill="#181818" stroke="#181818"/><path d="m238 830.3203h868" stroke="#181818" stroke-dasharray="2 2"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="82" x="245" y="825.5781">tx (response)</text><path d="m886 871.6309h42" stroke="#181818"/><path d="m928 871.6309v13" stroke="#181818"/><path d="m881 884.6309h47" stroke="#181818"/><path d="m891 880.6309-10 4 10 4-4-4z" fill="#181818" stroke="#181818"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="154" x="893" y="866.8887">Add block to blockchain</text><text fill="#888" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="147" x="105.5" y="969.7871">P2P Legacy - Block Processing</text><text fill="#888" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="358" x="3" y="981.5645">Last Modified On: 27-March-2024. © 2024 Bitcoin SV. All rights reserved.</text></svg>
