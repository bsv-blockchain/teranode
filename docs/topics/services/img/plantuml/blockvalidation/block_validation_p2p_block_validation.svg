<svg contentStyleType="text/css" height="1425" preserveAspectRatio="none" viewBox="0 0 1810 1425" width="1810" xmlns="http://www.w3.org/2000/svg" zoomAndPan="magnify"><path d="m0 0h1810v1425h-1810z" fill="#f0f8ff"/><g fill="#fff"><path d="m354.3945 101.2871h10v1229.1797h-10z" stroke="#181818"/><path d="m599.5068 415.7031h10v900.7637h-10z" stroke="#181818"/><path d="m604.5068 453.0137h10v177.5527h-10z" stroke="#181818"/><path d="m604.5068 718.498h10v48.3105h-10z" stroke="#181818"/><path d="m604.5068 934.0508h10v313.7949h-10z" stroke="#181818"/><path d="m609.5068 1109.6035h10v138.2422h-10z" stroke="#181818"/><path d="m896.3188 213.5293h10v29.3105h-10z" stroke="#181818"/><path d="m1111.7144 796.1191h10v14h-10z" stroke="#181818"/><path d="m1111.7144 968.3613h10v103.9316h-10z" stroke="#181818"/><path d="m1300.3706 511.6348h10v29.3105h-10z" stroke="#181818"/><path d="m1300.3706 1021.9824h10v29.3105h-10z" stroke="#181818"/><path d="m1300.3706 1168.2246h10v29.3105h-10z" stroke="#181818"/><path d="m1400.603 752.8086h10v14h-10z" stroke="#181818"/><path d="m1483.7524 882.7402h10v14h-10z" stroke="#181818"/><path d="m1568.3281 130.5977h10v29.3105h-10z" stroke="#181818"/><path d="m1568.3281 272.1504h10v29.3105h-10z" stroke="#181818"/><path d="m1568.3281 651.877h10v29.3105h-10z" stroke="#181818"/><path d="m1568.3281 839.4297h10v14h-10z" stroke="#181818"/><path d="m1568.3281 1233.8457h10v14h-10z" stroke="#181818"/><path d="m1690.5811 594.5664h10v14h-10z" stroke="#181818"/></g><path d="m254.9707 174.9082h1549.6738v1148.5586h-1549.6738z" fill="none" stroke="#000" stroke-width="1.5"/><path d="m264.9707 316.4609h830.7173v46.6211h-830.7173z" fill="none" stroke="#000" stroke-width="1.5"/><path d="m264.9707 377.082h1529.6738v939.3848h-1529.6738z" fill="none" stroke="#000" stroke-width="1.5"/><path d="m514.002 473.0137h1270.6426v150.5527h-1270.6426z" fill="none" stroke="#000" stroke-width="1.5"/><path d="m524.002 555.9453h1250.6426v60.6211h-1250.6426z" fill="none" stroke="#000" stroke-width="1.5"/><path d="m1085.688 983.3613h298.5376v75.9316h-298.5376z" fill="none" stroke="#000" stroke-width="1.5"/><path d="m524.002 1129.6035h839.8379v75.9316h-839.8379z" fill="none" stroke="#000" stroke-width="1.5"/><path d="m524.002 1262.8457h1102.5156v46.6211h-1102.5156z" fill="none" stroke="#000" stroke-width="1.5"/><path d="m86 69.9766v1270.4902" stroke="#181818" stroke-dasharray="5 5" stroke-width=".5"/><path d="m358.9707 69.9766v1270.4902" stroke="#181818" stroke-dasharray="5 5" stroke-width=".5"/><path d="m604.002 69.9766v1270.4902" stroke="#181818" stroke-dasharray="5 5" stroke-width=".5"/><path d="m900.7231 69.9766v1270.4902" stroke="#181818" stroke-dasharray="5 5" stroke-width=".5"/><path d="m1016.9146 69.9766v1270.4902" stroke="#181818" stroke-dasharray="5 5" stroke-width=".5"/><path d="m1116.688 69.9766v1270.4902" stroke="#181818" stroke-dasharray="5 5" stroke-width=".5"/><path d="m1304.9014 69.9766v1270.4902" stroke="#181818" stroke-dasharray="5 5" stroke-width=".5"/><path d="m1404.8398 69.9766v1270.4902" stroke="#181818" stroke-dasharray="5 5" stroke-width=".5"/><path d="m1488.3662 69.9766v1270.4902" stroke="#181818" stroke-dasharray="5 5" stroke-width=".5"/><path d="m1573.1387 69.9766v1270.4902" stroke="#181818" stroke-dasharray="5 5" stroke-width=".5"/><path d="m1695.5176 69.9766v1270.4902" stroke="#181818" stroke-dasharray="5 5" stroke-width=".5"/><path d="m10 27h152.5361c5 0 5 21.4883 5 21.4883s0 21.4883-5 21.4883h-152.5361c-5 0-5-21.4883-5-21.4883s0-21.4883 5-21.4883" fill="#e2e2f0" stroke="#181818" stroke-width=".5"/><path d="m162.5361 27c-5 0-5 21.4883-5 21.4883 0 21.4883 5 21.4883 5 21.4883" fill="none" stroke="#181818" stroke-width=".5"/><text fill="#333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="97.4805" x="32.5278" y="45.5352">blockFoundCh</text><text fill="#333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="142.5361" x="10" y="62.0234">Block Found Channel</text><path d="m10 1339.4668h152.5361c5 0 5 21.4883 5 21.4883s0 21.4883-5 21.4883h-152.5361c-5 0-5-21.4883-5-21.4883s0-21.4883 5-21.4883" fill="#e2e2f0" stroke="#181818" stroke-width=".5"/><path d="m162.5361 1339.4668c-5 0-5 21.4883-5 21.4883 0 21.4883 5 21.4883 5 21.4883" fill="none" stroke="#181818" stroke-width=".5"/><text fill="#333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="97.4805" x="32.5278" y="1358.002">blockFoundCh</text><text fill="#333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="142.5361" x="10" y="1374.4902">Block Found Channel</text><rect fill="#ddd" height="46.9766" rx="2.5" stroke="#666" stroke-width=".5" width="168.8477" x="274.9707" y="22"/><text fill="#333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="154.8477" x="281.9707" y="42.5352">Block Validation Server</text><text fill="#333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="72.707" x="323.041" y="59.0234">(Server.go)</text><rect fill="#ddd" height="46.9766" rx="2.5" stroke="#666" stroke-width=".5" width="168.8477" x="274.9707" y="1339.4668"/><text fill="#333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="154.8477" x="281.9707" y="1360.002">Block Validation Server</text><text fill="#333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="72.707" x="323.041" y="1376.4902">(Server.go)</text><text fill="#333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108.5752" x="547.2192" y="50.5352">Block Validation</text><text fill="#333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="135.0098" x="534.002" y="67.0234">(BlockValidation.go)</text><ellipse cx="604.5068" cy="21" fill="#ddd" rx="12" ry="12" stroke="#666" stroke-width=".5"/><path d="m592.5068 35h24" stroke="#666" stroke-width=".5"/><text fill="#333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108.5752" x="547.2192" y="1353.002">Block Validation</text><text fill="#333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="135.0098" x="534.002" y="1369.4902">(BlockValidation.go)</text><ellipse cx="604.5068" cy="1388.4434" fill="#ddd" rx="12" ry="12" stroke="#666" stroke-width=".5"/><path d="m592.5068 1402.4434h24" stroke="#666" stroke-width=".5"/><rect fill="#ddd" height="46.9766" rx="2.5" stroke="#666" stroke-width=".5" width="77.1914" x="862.7231" y="22"/><text fill="#333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="63.1914" x="869.7231" y="42.5352">Util HTTP</text><text fill="#333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="54.3252" x="874.1563" y="59.0234">Request</text><rect fill="#ddd" height="46.9766" rx="2.5" stroke="#666" stroke-width=".5" width="77.1914" x="862.7231" y="1339.4668"/><text fill="#333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="63.1914" x="869.7231" y="1360.002">Util HTTP</text><text fill="#333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="54.3252" x="874.1563" y="1376.4902">Request</text><path d="m954.9146 27h125.7734c5 0 5 21.4883 5 21.4883s0 21.4883-5 21.4883h-125.7734c-5 0-5-21.4883-5-21.4883s0-21.4883 5-21.4883" fill="#e2e2f0" stroke="#181818" stroke-width=".5"/><path d="m1080.688 27c-5 0-5 21.4883-5 21.4883 0 21.4883 5 21.4883 5 21.4883" fill="none" stroke="#181818" stroke-width=".5"/><text fill="#333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="71.873" x="976.8647" y="45.5352">catchupCh</text><text fill="#333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="115.7734" x="954.9146" y="62.0234">Catchup Channel</text><path d="m954.9146 1339.4668h125.7734c5 0 5 21.4883 5 21.4883s0 21.4883-5 21.4883h-125.7734c-5 0-5-21.4883-5-21.4883s0-21.4883 5-21.4883" fill="#e2e2f0" stroke="#181818" stroke-width=".5"/><path d="m1080.688 1339.4668c-5 0-5 21.4883-5 21.4883 0 21.4883 5 21.4883 5 21.4883" fill="none" stroke="#181818" stroke-width=".5"/><text fill="#333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="71.873" x="976.8647" y="1358.002">catchupCh</text><text fill="#333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="115.7734" x="954.9146" y="1374.4902">Catchup Channel</text><text fill="#333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36.0527" x="1095.688" y="67.0234">Block</text><ellipse cx="1116.7144" cy="37.4883" fill="#ddd" rx="12" ry="12" stroke="#666" stroke-width=".5"/><path d="m1104.7144 51.4883h24" stroke="#666" stroke-width=".5"/><text fill="#333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36.0527" x="1095.688" y="1353.002">Block</text><ellipse cx="1116.7144" cy="1371.9551" fill="#ddd" rx="12" ry="12" stroke="#666" stroke-width=".5"/><path d="m1104.7144 1385.9551h24" stroke="#666" stroke-width=".5"/><text fill="#333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="90.9385" x="1256.9014" y="67.0234">Subtree Store</text><path d="m1287.3706 17.4883c0-10 18-10 18-10s18 0 18 10v26c0 10-18 10-18 10s-18 0-18-10z" fill="#e2e2f0" stroke="#181818" stroke-width="1.5"/><path d="m1287.3706 17.4883c0 10 18 10 18 10s18 0 18-10" fill="none" stroke="#181818" stroke-width="1.5"/><text fill="#333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="90.9385" x="1256.9014" y="1353.002">Subtree Store</text><path d="m1287.3706 1365.9551c0-10 18-10 18-10s18 0 18 10v26c0 10-18 10-18 10s-18 0-18-10z" fill="#e2e2f0" stroke="#181818" stroke-width="1.5"/><path d="m1287.3706 1365.9551c0 10 18 10 18 10s18 0 18-10" fill="none" stroke="#181818" stroke-width="1.5"/><text fill="#333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="77.5264" x="1363.8398" y="67.0234">UTXO Store</text><path d="m1387.603 17.4883c0-10 18-10 18-10s18 0 18 10v26c0 10-18 10-18 10s-18 0-18-10z" fill="#e2e2f0" stroke="#181818" stroke-width="1.5"/><path d="m1387.603 17.4883c0 10 18 10 18 10s18 0 18-10" fill="none" stroke="#181818" stroke-width="1.5"/><text fill="#333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="77.5264" x="1363.8398" y="1353.002">UTXO Store</text><path d="m1387.603 1365.9551c0-10 18-10 18-10s18 0 18 10v26c0 10-18 10-18 10s-18 0-18-10z" fill="#e2e2f0" stroke="#181818" stroke-width="1.5"/><path d="m1387.603 1365.9551c0 10 18 10 18 10s18 0 18-10" fill="none" stroke="#181818" stroke-width="1.5"/><text fill="#333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56.7725" x="1457.3662" y="67.0234">Tx Store</text><path d="m1470.7524 17.4883c0-10 18-10 18-10s18 0 18 10v26c0 10-18 10-18 10s-18 0-18-10z" fill="#e2e2f0" stroke="#181818" stroke-width="1.5"/><path d="m1470.7524 17.4883c0 10 18 10 18 10s18 0 18-10" fill="none" stroke="#181818" stroke-width="1.5"/><text fill="#333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56.7725" x="1457.3662" y="1353.002">Tx Store</text><path d="m1470.7524 1365.9551c0-10 18-10 18-10s18 0 18 10v26c0 10-18 10-18 10s-18 0-18-10z" fill="#e2e2f0" stroke="#181818" stroke-width="1.5"/><path d="m1470.7524 1365.9551c0 10 18 10 18 10s18 0 18-10" fill="none" stroke="#181818" stroke-width="1.5"/><rect fill="#ddd" height="46.9766" rx="2.5" stroke="#666" stroke-width=".5" width="86.3789" x="1530.1387" y="22"/><text fill="#333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="72.3789" x="1537.1387" y="42.5352">Blockchain</text><text fill="#333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="47.332" x="1549.6621" y="59.0234">Service</text><rect fill="#ddd" height="46.9766" rx="2.5" stroke="#666" stroke-width=".5" width="86.3789" x="1530.1387" y="1339.4668"/><text fill="#333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="72.3789" x="1537.1387" y="1360.002">Blockchain</text><text fill="#333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="47.332" x="1549.6621" y="1376.4902">Service</text><rect fill="#ddd" height="46.9766" rx="2.5" stroke="#666" stroke-width=".5" width="138.127" x="1626.5176" y="22"/><text fill="#333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="124.127" x="1633.5176" y="42.5352">Subtree Validation</text><text fill="#333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="47.332" x="1671.915" y="59.0234">Service</text><rect fill="#ddd" height="46.9766" rx="2.5" stroke="#666" stroke-width=".5" width="138.127" x="1626.5176" y="1339.4668"/><text fill="#333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="124.127" x="1633.5176" y="1360.002">Subtree Validation</text><text fill="#333" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="47.332" x="1671.915" y="1376.4902">Service</text><path d="m354.3945 101.2871h10v1229.1797h-10z" fill="#fff" stroke="#181818"/><path d="m599.5068 415.7031h10v900.7637h-10z" fill="#fff" stroke="#181818"/><path d="m604.5068 453.0137h10v177.5527h-10z" fill="#fff" stroke="#181818"/><path d="m604.5068 718.498h10v48.3105h-10z" fill="#fff" stroke="#181818"/><path d="m604.5068 934.0508h10v313.7949h-10z" fill="#fff" stroke="#181818"/><path d="m609.5068 1109.6035h10v138.2422h-10z" fill="#fff" stroke="#181818"/><path d="m896.3188 213.5293h10v29.3105h-10z" fill="#fff" stroke="#181818"/><path d="m1111.7144 796.1191h10v14h-10z" fill="#fff" stroke="#181818"/><path d="m1111.7144 968.3613h10v103.9316h-10z" fill="#fff" stroke="#181818"/><path d="m1300.3706 511.6348h10v29.3105h-10z" fill="#fff" stroke="#181818"/><path d="m1300.3706 1021.9824h10v29.3105h-10z" fill="#fff" stroke="#181818"/><path d="m1300.3706 1168.2246h10v29.3105h-10z" fill="#fff" stroke="#181818"/><path d="m1400.603 752.8086h10v14h-10z" fill="#fff" stroke="#181818"/><path d="m1483.7524 882.7402h10v14h-10z" fill="#fff" stroke="#181818"/><path d="m1568.3281 130.5977h10v29.3105h-10z" fill="#fff" stroke="#181818"/><path d="m1568.3281 272.1504h10v29.3105h-10z" fill="#fff" stroke="#181818"/><path d="m1568.3281 651.877h10v29.3105h-10z" fill="#fff" stroke="#181818"/><path d="m1568.3281 839.4297h10v14h-10z" fill="#fff" stroke="#181818"/><path d="m1568.3281 1233.8457h10v14h-10z" fill="#fff" stroke="#181818"/><path d="m1690.5811 594.5664h10v14h-10z" fill="#fff" stroke="#181818"/><path d="m342.3945 97.2871 10 4-10 4 4-4z" fill="#666" stroke="#666"/><path d="m86.2681 101.2871h262.1264" stroke="#666"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="249.1265" x="93.2681" y="96.5449">processBlockFound(ctx, hash, baseURL)</text><path d="m1556.3281 126.5977 10 4-10 4 4-4z" fill="#666" stroke="#666"/><path d="m364.3945 130.5977h1197.9336" stroke="#666"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="157.9868" x="371.3945" y="125.8555">GetBlockExists(ctx, hash)</text><path d="m375.3945 155.9082-10 4 10 4-4-4z" fill="#666" stroke="#666"/><path d="m369.3945 159.9082h1202.9336" stroke="#666" stroke-dasharray="2 2"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114.2515" x="381.3945" y="155.166">exists / not exists</text><path d="m254.9707 174.9082h62.1387v7.3106l-10 10h-52.1387z" fill="#eee" stroke="#000" stroke-width="1.5"/><path d="m254.9707 174.9082h1549.6738v1148.5586h-1549.6738z" fill="none" stroke="#000" stroke-width="1.5"/><text fill="#333" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1387" x="269.9707" y="188.4766">alt</text><text fill="#333" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="236.645" x="332.1094" y="187.543">[Not Exists - Start the Validation process]</text><path d="m884.3188 209.5293 10 4-10 4 4-4z" fill="#666" stroke="#666"/><path d="m364.3945 213.5293h525.9243" stroke="#666"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="161.6812" x="371.3945" y="208.7871">DoHTTPRequest(ctx, URL)</text><path d="m375.3945 238.8398-10 4 10 4-4-4z" fill="#666" stroke="#666"/><path d="m369.3945 242.8398h530.9243" stroke="#666" stroke-dasharray="2 2"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="65.6982" x="381.3945" y="238.0977">block data</text><path d="m1556.3281 268.1504 10 4-10 4 4-4z" fill="#666" stroke="#666"/><path d="m364.3945 272.1504h1197.9336" stroke="#666"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="306.5537" x="371.3945" y="267.4082">GetBlockExists(ctx, block.Header.HashPrevBlock)</text><path d="m375.3945 297.4609-10 4 10 4-4-4z" fill="#666" stroke="#666"/><path d="m369.3945 301.4609h1202.9336" stroke="#666" stroke-dasharray="2 2"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="159.2183" x="381.3945" y="296.7188">parent exists / not exists</text><path d="m264.9707 316.4609h62.1387v7.3106l-10 10h-52.1387z" fill="#eee" stroke="#000" stroke-width="1.5"/><path d="m264.9707 316.4609h830.7173v46.6211h-830.7173z" fill="none" stroke="#000" stroke-width="1.5"/><text fill="#333" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1387" x="279.9707" y="330.0293">alt</text><text fill="#333" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="284.5659" x="342.1094" y="329.0957">[Parent Not Exists - Kick off the catch up process]</text><path d="m1005.8013 351.082 10 4-10 4 4-4z" fill="#666" stroke="#666"/><path d="m364.3945 355.082h647.4068" stroke="#666"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="331.208" x="371.3945" y="350.3398">catchupCh &lt;- processBlockCatchup{block, baseURL}</text><path d="m264.9707 377.082h62.1387v7.3106l-10 10h-52.1387z" fill="#eee" stroke="#000" stroke-width="1.5"/><path d="m264.9707 377.082h1529.6738v939.3848h-1529.6738z" fill="none" stroke="#000" stroke-width="1.5"/><text fill="#333" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1387" x="279.9707" y="390.6504">alt</text><text fill="#333" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="251.8828" x="342.1094" y="389.7168">[Parent Exists - Proceed with the Validation]</text><path d="m587.5068 411.7031 10 4-10 4 4-4z" fill="#666" stroke="#666"/><path d="m364.3945 415.7031h229.1123" stroke="#666"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="216.1123" x="371.3945" y="410.9609">ValidateBlock(ctx, block, baseURL)</text><path d="m609.5068 440.0137h47" stroke="#666"/><path d="m656.5068 440.0137v13" stroke="#666"/><path d="m615.5068 453.0137h41" stroke="#666"/><path d="m625.5068 449.0137-10 4 10 4-4-4z" fill="#666" stroke="#666"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="262.812" x="621.5068" y="435.2715">validateBlockSubtrees(ctx, block, baseUrl)</text><path d="m514.002 473.0137h74.4467v7.3105l-10 10h-64.4467z" fill="#eee" stroke="#000" stroke-width="1.5"/><path d="m514.002 473.0137h1270.6426v150.5527h-1270.6426z" fill="none" stroke="#000" stroke-width="1.5"/><text fill="#333" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="29.4468" x="529.002" y="486.582">loop</text><text fill="#333" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="102.8833" x="603.4487" y="485.6484">[For each Subtree]</text><path d="m1288.3706 507.6348 10 4-10 4 4-4z" fill="#666" stroke="#666"/><path d="m614.5068 511.6348h679.8638" stroke="#666"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152.0391" x="621.5068" y="506.8926">Exists(ctx, subtreeHash)</text><path d="m625.5068 536.9453-10 4 10 4-4-4z" fill="#666" stroke="#666"/><path d="m619.5068 540.9453h684.8638" stroke="#666" stroke-dasharray="2 2"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114.2515" x="631.5068" y="536.2031">exists / not exists</text><path d="m524.002 555.9453h62.1386v7.3106l-10 10h-52.1386z" fill="#eee" stroke="#000" stroke-width="1.5"/><path d="m524.002 555.9453h1250.6426v60.6211h-1250.6426z" fill="none" stroke="#000" stroke-width="1.5"/><text fill="#333" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1387" x="539.002" y="569.5137">alt</text><text fill="#333" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="112.0679" x="601.1406" y="568.5801">[Subtree Not Exists]</text><path d="m1678.5811 590.5664 10 4-10 4 4-4z" fill="#666" stroke="#666"/><path d="m614.5068 594.5664h1070.0743" stroke="#666"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="263.2437" x="621.5068" y="589.8242">CheckSubtree(ctx, subtreeHash, baseURL)</text><path d="m625.5068 604.5664-10 4 10 4-4-4z" fill="#666" stroke="#666"/><path d="m619.5068 608.5664h1075.0743" stroke="#666" stroke-dasharray="2 2"/><path d="m1556.3281 647.877 10 4-10 4 4-4z" fill="#666" stroke="#666"/><path d="m609.5068 651.877h952.8213" stroke="#666"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="353.8945" x="616.5068" y="647.1348">GetBlockHeaders(ctx, block.Header.HashPrevBlock, 100)</text><path d="m620.5068 677.1875-10 4 10 4-4-4z" fill="#666" stroke="#666"/><path d="m614.5068 681.1875h957.8213" stroke="#666" stroke-dasharray="2 2"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="88.1563" x="626.5068" y="676.4453">block headers</text><path d="m609.5068 705.498h47" stroke="#666"/><path d="m656.5068 705.498v13" stroke="#666"/><path d="m615.5068 718.498h41" stroke="#666"/><path d="m625.5068 714.498-10 4 10 4-4-4z" fill="#666" stroke="#666"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="176.6235" x="621.5068" y="700.7559">storeCoinbaseTx(ctx, block)</text><path d="m1388.603 748.8086 10 4-10 4 4-4z" fill="#666" stroke="#666"/><path d="m614.5068 752.8086h780.0962" stroke="#666"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="189.541" x="621.5068" y="748.0664">Create(ctx, block.CoinbaseTx)</text><path d="m620.5068 762.8086-10 4 10 4-4-4z" fill="#666" stroke="#666"/><path d="m614.5068 766.8086h790.0962" stroke="#666"/><path d="m1099.7144 792.1191 10 4-10 4 4-4z" fill="#666" stroke="#666"/><path d="m609.5068 796.1191h496.2076" stroke="#666"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="317.3638" x="616.5068" y="791.377">Valid(ctx, subtreeStore, UTXOStore, blockHeaders)</text><path d="m620.5068 806.1191-10 4 10 4-4-4z" fill="#666" stroke="#666"/><path d="m614.5068 810.1191h501.2076" stroke="#666" stroke-dasharray="2 2"/><path d="m1556.3281 835.4297 10 4-10 4 4-4z" fill="#666" stroke="#666"/><path d="m609.5068 839.4297h952.8213" stroke="#666"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="190.7852" x="616.5068" y="834.6875">AddBlock(ctx, block, baseURL)</text><path d="m620.5068 849.4297-10 4 10 4-4-4z" fill="#666" stroke="#666"/><path d="m614.5068 853.4297h957.8213" stroke="#666" stroke-dasharray="2 2"/><path d="m1471.7524 878.7402 10 4-10 4 4-4z" fill="#666" stroke="#666"/><path d="m609.5068 882.7402h868.2456" stroke="#666"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="456.4346" x="616.5068" y="877.998">Set(ctx, block.CoinbaseTx.TxIDChainHash()[:], block.CoinbaseTx.Bytes())</text><path d="m620.5068 892.7402-10 4 10 4-4-4z" fill="#666" stroke="#666"/><path d="m614.5068 896.7402h873.2456" stroke="#666" stroke-dasharray="2 2"/><path d="m609.5068 921.0508h47" stroke="#666"/><path d="m656.5068 921.0508v13" stroke="#666"/><path d="m615.5068 934.0508h41" stroke="#666"/><path d="m625.5068 930.0508-10 4 10 4-4-4z" fill="#666" stroke="#666"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="213.0591" x="621.5068" y="916.3086">finalizeBlockValidation(ctx, block)</text><path d="m1099.7144 964.3613 10 4-10 4 4-4z" fill="#666" stroke="#666"/><path d="m614.5068 968.3613h491.2076" stroke="#666"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="164.4551" x="621.5068" y="963.6191">GetSubtrees(subtreeStore)</text><path d="m1085.688 983.3613h74.4468v7.3106l-10 10h-64.4468z" fill="#eee" stroke="#000" stroke-width="1.5"/><path d="m1085.688 983.3613h298.5376v75.9316h-298.5376z" fill="none" stroke="#000" stroke-width="1.5"/><text fill="#333" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="29.4468" x="1100.688" y="996.9297">loop</text><text fill="#333" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="204.0908" x="1175.1348" y="995.9961">[For each subtree hash in the block]</text><path d="m1288.3706 1017.9824 10 4-10 4 4-4z" fill="#666" stroke="#666"/><path d="m1121.7144 1021.9824h172.6562" stroke="#666"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="159.6563" x="1128.7144" y="1017.2402">Get(gCtx, subtreeHash[:])</text><path d="m1132.7144 1047.293-10 4 10 4-4-4z" fill="#666" stroke="#666"/><path d="m1126.7144 1051.293h177.6562" stroke="#666"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="47.5439" x="1138.7144" y="1046.5508">subtree</text><path d="m625.5068 1068.293-10 4 10 4-4-4z" fill="#666" stroke="#666"/><path d="m619.5068 1072.293h496.2076" stroke="#666"/><path d="m614.5068 1096.6035h47" stroke="#666"/><path d="m661.5068 1096.6035v13" stroke="#666"/><path d="m620.5068 1109.6035h41" stroke="#666"/><path d="m630.5068 1105.6035-10 4 10 4-4-4z" fill="#666" stroke="#666"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="191.9912" x="626.5068" y="1091.8613">updateSubtreesTTL(ctx, block)</text><path d="m524.002 1129.6035h74.4467v7.3106l-10 10h-64.4467z" fill="#eee" stroke="#000" stroke-width="1.5"/><path d="m524.002 1129.6035h839.8379v75.9316h-839.8379z" fill="none" stroke="#000" stroke-width="1.5"/><text fill="#333" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="29.4468" x="539.002" y="1143.1719">loop</text><text fill="#333" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="173.0352" x="613.4487" y="1142.2383">[For each Subtree in the Block]</text><path d="m1288.3706 1164.2246 10 4-10 4 4-4z" fill="#666" stroke="#666"/><path d="m619.5068 1168.2246h674.8638" stroke="#666"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="174.0718" x="626.5068" y="1163.4824">SetTTL(ctx, subtreeHash, 0)</text><path d="m630.5068 1193.5352-10 4 10 4-4-4z" fill="#666" stroke="#666"/><path d="m624.5068 1197.5352h679.8638" stroke="#666" stroke-dasharray="2 2"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="173.6528" x="636.5068" y="1192.793">TTL set to 0 for the subtree</text><path d="m1556.3281 1229.8457 10 4-10 4 4-4z" fill="#666" stroke="#666"/><path d="m619.5068 1233.8457h942.8213" stroke="#666"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="289.4214" x="626.5068" y="1229.1035">SetBlockSubtreesSet(ctx, block.Header.Hash())</text><path d="m620.5068 1243.8457-10 4 10 4-4-4z" fill="#666" stroke="#666"/><path d="m614.5068 1247.8457h957.8213" stroke="#666" stroke-dasharray="2 2"/><path d="m524.002 1262.8457h62.1386v7.3106l-10 10h-52.1386z" fill="#eee" stroke="#000" stroke-width="1.5"/><path d="m524.002 1262.8457h1102.5156v46.6211h-1102.5156z" fill="none" stroke="#000" stroke-width="1.5"/><text fill="#333" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1387" x="539.002" y="1276.4141">alt</text><text fill="#333" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="48.6191" x="601.1406" y="1275.4805">[If Error]</text><path d="m1561.3281 1297.4668 10 4-10 4 4-4z" fill="#666" stroke="#666"/><path d="m609.5068 1301.4668h957.8213" stroke="#666"/><text fill="#333" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="257.3657" x="616.5068" y="1296.7246">InvalidateBlock(ctx, block.Header.Hash())</text><text fill="#333" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="155.4346" y="1415.1113">Last Modified On: 24-Feb-2025</text></svg>
