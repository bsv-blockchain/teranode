<svg contentStyleType="text/css" height="378" preserveAspectRatio="none" viewBox="0 0 1188 378" width="1188" xmlns="http://www.w3.org/2000/svg" zoomAndPan="magnify"><g stroke="#181818"><path d="m53.5 75.7988h10v258.1738h-10z" fill="#fff"/><path d="m58.5 118.1094h10v34.3105h-10z" fill="#fff"/><path d="m483.5 253.3516h10v29.3105h-10z" fill="#fff"/><path d="m912.5 181.7305h10v71.6211h-10z" fill="#fff"/><path d="m58 36.4883v306.4844" stroke-dasharray="5 5" stroke-width=".5"/><path d="m488.5 36.4883v306.4844" stroke-dasharray="5 5" stroke-width=".5"/><path d="m610.5 36.4883v306.4844" stroke-dasharray="5 5" stroke-width=".5"/><path d="m917 36.4883v306.4844" stroke-dasharray="5 5" stroke-width=".5"/><rect fill="#e2e2f0" height="30.4883" rx="2.5" stroke-width=".5" width="107" x="5" y="5"/></g><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="93" x="12" y="25.5352">Node (Peer 1)</text><rect fill="#e2e2f0" height="30.4883" rx="2.5" stroke="#181818" stroke-width=".5" width="107" x="5" y="341.9727"/><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="93" x="12" y="362.5078">Node (Peer 1)</text><path d="m443.5 10h90c5 0 5 13.2441 5 13.2441s0 13.2442-5 13.2442h-90c-5 0-5-13.2442-5-13.2442s0-13.2441 5-13.2441" fill="#e2e2f0" stroke="#181818" stroke-width=".5"/><path d="m533.5 10c-5 0-5 13.2441-5 13.2441 0 13.2442 5 13.2442 5 13.2442" fill="none" stroke="#181818" stroke-width=".5"/><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="80" x="443.5" y="28.5352">LibP2P Host</text><path d="m443.5 341.9727h90c5 0 5 13.2441 5 13.2441s0 13.2441-5 13.2441h-90c-5 0-5-13.2441-5-13.2441s0-13.2441 5-13.2441" fill="#e2e2f0" stroke="#181818" stroke-width=".5"/><path d="m533.5 341.9727c-5 0-5 13.2441-5 13.2441 0 13.2441 5 13.2441 5 13.2441" fill="none" stroke="#181818" stroke-width=".5"/><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="80" x="443.5" y="360.5078">LibP2P Host</text><path d="m553.5 10h114c5 0 5 13.2441 5 13.2441s0 13.2442-5 13.2442h-114c-5 0-5-13.2442-5-13.2442s0-13.2441 5-13.2441" fill="#e2e2f0" stroke="#181818" stroke-width=".5"/><path d="m667.5 10c-5 0-5 13.2441-5 13.2441 0 13.2442 5 13.2442 5 13.2442" fill="none" stroke="#181818" stroke-width=".5"/><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="104" x="553.5" y="28.5352">PubSub System</text><path d="m553.5 341.9727h114c5 0 5 13.2441 5 13.2441s0 13.2441-5 13.2441h-114c-5 0-5-13.2441-5-13.2441s0-13.2441 5-13.2441" fill="#e2e2f0" stroke="#181818" stroke-width=".5"/><path d="m667.5 341.9727c-5 0-5 13.2441-5 13.2441 0 13.2441 5 13.2441 5 13.2441" fill="none" stroke="#181818" stroke-width=".5"/><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="104" x="553.5" y="360.5078">PubSub System</text><rect fill="#e2e2f0" height="30.4883" rx="2.5" stroke="#181818" stroke-width=".5" width="57" x="889" y="5"/><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="43" x="896" y="25.5352">Peer 2</text><rect fill="#e2e2f0" height="30.4883" rx="2.5" stroke="#181818" stroke-width=".5" width="57" x="889" y="341.9727"/><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="43" x="896" y="362.5078">Peer 2</text><path d="m53.5 75.7988h10v258.1738h-10z" fill="#fff" stroke="#181818"/><path d="m58.5 118.1094h10v34.3105h-10z" fill="#fff" stroke="#181818"/><path d="m483.5 253.3516h10v29.3105h-10z" fill="#fff" stroke="#181818"/><path d="m912.5 181.7305h10v71.6211h-10z" fill="#fff" stroke="#181818"/><path d="m58.5 62.7988h47" stroke="#181818"/><path d="m105.5 62.7988v13" stroke="#181818"/><path d="m64.5 75.7988h41" stroke="#181818"/><path d="m74.5 71.7988-10 4 10 4-4-4z" fill="#181818" stroke="#181818"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="37" x="70.5" y="58.0566">Start()</text><path d="m63.5 105.1094h47" stroke="#181818"/><path d="m110.5 105.1094v13" stroke="#181818"/><path d="m69.5 118.1094h41" stroke="#181818"/><path d="m79.5 114.1094-10 4 10 4-4-4z" fill="#181818" stroke="#181818"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="183" x="75.5" y="100.3672">s.sendBestBlockMessage(ctx)</text><path d="m598.5 148.4199 10 4-10 4 4-4z" fill="#181818" stroke="#181818"/><path d="m63.5 152.4199h541" stroke="#181818"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="336" x="70.5" y="147.6777">s.topics[bestBlockTopicName].Publish(ctx, msgBytes)</text><path d="m900.5 177.7305 10 4-10 4 4-4z" fill="#181818" stroke="#181818"/><path d="m610.5 181.7305h296" stroke="#181818"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="176" x="617.5" y="176.9883">s.handleBestBlockTopic(ctx)</text><path d="m922.5 211.041h42" stroke="#181818"/><path d="m964.5 211.041v13" stroke="#181818"/><path d="m923.5 224.041h41" stroke="#181818"/><path d="m933.5 220.041-10 4 10 4-4-4z" fill="#181818" stroke="#181818"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="252" x="929.5" y="206.2988">s.sendPeerMessage(ctx, peer, msgBytes)</text><path d="m504.5 249.3516-10 4 10 4-4-4z" fill="#181818" stroke="#181818"/><path d="m498.5 253.3516h418" stroke="#181818"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="400" x="510.5" y="248.6094">s.host.NewStream(ctx, peer.ID, protocol.ID(s.bitcoinProtocolId))</text><path d="m74.5 278.6621-10 4 10 4-4-4z" fill="#181818" stroke="#181818"/><path d="m68.5 282.6621h419" stroke="#181818"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="254" x="80.5" y="277.9199">s.handleBlockchainMessage(ctx, stream)</text><path d="m63.5 311.9727h42" stroke="#181818"/><path d="m105.5 311.9727v13" stroke="#181818"/><path d="m64.5 324.9727h41" stroke="#181818"/><path d="m74.5 320.9727-10 4 10 4-4-4z" fill="#181818" stroke="#181818"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="406" x="70.5" y="307.2305">s.logger.Debugf("Received block topic message: %s", string(buf))</text></svg>
