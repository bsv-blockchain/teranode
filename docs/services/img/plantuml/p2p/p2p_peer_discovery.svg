<svg contentStyleType="text/css" height="628" preserveAspectRatio="none" viewBox="0 0 688 628" width="688" xmlns="http://www.w3.org/2000/svg" zoomAndPan="magnify"><path d="m219 98.7988h10v29.3105h-10z" fill="#fff" stroke="#181818"/><path d="m396 157.4199h10v97.9316h-10z" fill="#fff" stroke="#181818"/><path d="m396 300.9727h10v29.3105h-10z" fill="#fff" stroke="#181818"/><path d="m30 201.7305h652.5v46.6211h-652.5z" fill="none" stroke="#000" stroke-width="1.5"/><path d="m10 262.3516h638.5v270.75h-638.5z" fill="none" stroke="#000" stroke-width="1.5"/><path d="m20 345.2832h618.5v180.8184h-618.5z" fill="none" stroke="#000" stroke-width="1.5"/><path d="m30 428.2148h598.5v90.8867h-598.5z" fill="none" stroke="#000" stroke-width="1.5"/><g stroke="#181818"><path d="m65 67.4883v482.6133" stroke-dasharray="5 5" stroke-width=".5"/><path d="m223.5 67.4883v482.6133" stroke-dasharray="5 5" stroke-width=".5"/><path d="m400.5 67.4883v482.6133" stroke-dasharray="5 5" stroke-width=".5"/><path d="m549.5 67.4883v482.6133" stroke-dasharray="5 5" stroke-width=".5"/><path d="m599.5 67.4883v482.6133" stroke-dasharray="5 5" stroke-width=".5"/><path d="m650.5 67.4883v482.6133" stroke-dasharray="5 5" stroke-width=".5"/><rect fill="#e2e2f0" height="30.4883" rx="2.5" stroke-width=".5" width="50" x="40" y="36"/></g><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36" x="47" y="56.5352">Node</text><rect fill="#e2e2f0" height="30.4883" rx="2.5" stroke="#181818" stroke-width=".5" width="50" x="40" y="549.1016"/><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36" x="47" y="569.6367">Node</text><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="199" x="121.5" y="64.5352">DHT (Distributed Hash Table)</text><ellipse cx="224" cy="35" fill="#e2e2f0" rx="12" ry="12" stroke="#181818" stroke-width=".5"/><path d="m220 23 6-5-2 5 2 5z" fill="#181818" stroke="#181818"/><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="199" x="121.5" y="562.6367">DHT (Distributed Hash Table)</text><ellipse cx="224" cy="581.5898" fill="#e2e2f0" rx="12" ry="12" stroke="#181818" stroke-width=".5"/><path d="m220 569.5898 6-5-2 5 2 5z" fill="#181818" stroke="#181818"/><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="123" x="336.5" y="64.5352">Routing Discovery</text><ellipse cx="401" cy="35" fill="#e2e2f0" rx="12" ry="12" stroke="#181818" stroke-width=".5"/><path d="m397 23 6-5-2 5 2 5z" fill="#181818" stroke="#181818"/><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="123" x="336.5" y="562.6367">Routing Discovery</text><ellipse cx="401" cy="581.5898" fill="#e2e2f0" rx="12" ry="12" stroke="#181818" stroke-width=".5"/><path d="m397 569.5898 6-5-2 5 2 5z" fill="#181818" stroke="#181818"/><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="37" x="528.5" y="64.5352">Peers</text><path d="m532 15c0-10 18-10 18-10s18 0 18 10v26c0 10-18 10-18 10s-18 0-18-10z" fill="#e2e2f0" stroke="#181818" stroke-width="1.5"/><path d="m532 15c0 10 18 10 18 10s18 0 18-10" fill="none" stroke="#181818" stroke-width="1.5"/><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="37" x="528.5" y="562.6367">Peers</text><path d="m532 575.5898c0-10 18-10 18-10s18 0 18 10v26c0 10-18 10-18 10s-18 0-18-10z" fill="#e2e2f0" stroke="#181818" stroke-width="1.5"/><path d="m532 575.5898c0 10 18 10 18 10s18 0 18-10" fill="none" stroke="#181818" stroke-width="1.5"/><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31" x="581.5" y="64.5352">Host</text><ellipse cx="600" cy="35" fill="#e2e2f0" rx="12" ry="12" stroke="#181818" stroke-width=".5"/><path d="m596 23 6-5-2 5 2 5z" fill="#181818" stroke="#181818"/><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31" x="581.5" y="562.6367">Host</text><ellipse cx="600" cy="581.5898" fill="#e2e2f0" rx="12" ry="12" stroke="#181818" stroke-width=".5"/><path d="m596 569.5898 6-5-2 5 2 5z" fill="#181818" stroke="#181818"/><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="38" x="628.5" y="64.5352">Topic</text><ellipse cx="650.5" cy="35" fill="#e2e2f0" rx="12" ry="12" stroke="#181818" stroke-width=".5"/><path d="m638.5 49h24" stroke="#181818" stroke-width=".5"/><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="38" x="628.5" y="562.6367">Topic</text><ellipse cx="650.5" cy="581.5898" fill="#e2e2f0" rx="12" ry="12" stroke="#181818" stroke-width=".5"/><path d="m638.5 595.5898h24" stroke="#181818" stroke-width=".5"/><path d="m219 98.7988h10v29.3105h-10z" fill="#fff" stroke="#181818"/><path d="m396 157.4199h10v97.9316h-10z" fill="#fff" stroke="#181818"/><path d="m396 300.9727h10v29.3105h-10z" fill="#fff" stroke="#181818"/><path d="m207 94.7988 10 4-10 4 4-4z" fill="#181818" stroke="#181818"/><path d="m65 98.7988h148" stroke="#181818"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="115" x="72" y="94.0566">InitDHT(ctx, Host)</text><path d="m76 124.1094-10 4 10 4-4-4z" fill="#181818" stroke="#181818"/><path d="m70 128.1094h153" stroke="#181818" stroke-dasharray="2 2"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130" x="82" y="123.3672">Return DHT instance</text><path d="m384 153.4199 10 4-10 4 4-4z" fill="#181818" stroke="#181818"/><path d="m65 157.4199h325" stroke="#181818"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="174" x="72" y="152.6777">NewRoutingDiscovery(DHT)</text><path d="m384 182.7305 10 4-10 4 4-4z" fill="#181818" stroke="#181818"/><path d="m65 186.7305h325" stroke="#181818"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="102" x="72" y="181.9883">Advertise topics</text><path d="m30 201.7305h74v7.3105l-10 10h-64z" fill="#eee" stroke="#000" stroke-width="1.5"/><path d="m30 201.7305h652.5v46.6211h-652.5z" fill="none" stroke="#000" stroke-width="1.5"/><text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="29" x="45" y="215.2988">loop</text><text font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="120" x="119" y="214.3652">[for each Topic in tn]</text><path d="m638.5 236.3516 10 4-10 4 4-4z" fill="#181818" stroke="#181818"/><path d="m65 240.3516h579.5" stroke="#181818"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="249" x="72" y="235.6094">Advertise(ctx, RoutingDiscovery, Topic)</text><path d="m10 262.3516h74v7.3105l-10 10h-64z" fill="#eee" stroke="#000" stroke-width="1.5"/><path d="m10 262.3516h638.5v270.75h-638.5z" fill="none" stroke="#000" stroke-width="1.5"/><text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="29" x="25" y="275.9199">loop</text><text font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="92" x="99" y="274.9863">[Peer Discovery]</text><path d="m384 296.9727 10 4-10 4 4-4z" fill="#181818" stroke="#181818"/><path d="m65 300.9727h325" stroke="#181818"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="131" x="72" y="296.2305">FindPeers(ctx, Topic)</text><path d="m538 326.2832 10 4-10 4 4-4z" fill="#181818" stroke="#181818"/><path d="m401 330.2832h143" stroke="#181818"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="120" x="408" y="325.541">Get peers for Topic</text><path d="m20 345.2832h74v7.3106l-10 10h-64z" fill="#eee" stroke="#000" stroke-width="1.5"/><path d="m20 345.2832h618.5v180.8184h-618.5z" fill="none" stroke="#000" stroke-width="1.5"/><text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="29" x="35" y="358.8516">loop</text><text font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="131" x="109" y="357.918">[for each Peer in Peers]</text><path d="m76 379.9043-10 4 10 4-4-4z" fill="#181818" stroke="#181818"/><path d="m70 383.9043h479" stroke="#181818" stroke-dasharray="2 2"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="26" x="82" y="379.1621">Peer</text><path d="m588 409.2148 10 4-10 4 4-4z" fill="#181818" stroke="#181818"/><path d="m65 413.2148h529" stroke="#181818"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114" x="72" y="408.4727">Connect(ctx, Peer)</text><path d="m30 428.2148h62v7.3106l-10 10h-52z" fill="#eee" stroke="#000" stroke-width="1.5"/><path d="m30 428.2148h598.5v90.8867h-598.5z" fill="none" stroke="#000" stroke-width="1.5"/><text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="45" y="441.7832">alt</text><text font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="132" x="107" y="440.8496">[successful connection]</text><path d="m76 462.8359-10 4 10 4-4-4z" fill="#181818" stroke="#181818"/><path d="m70 466.8359h529" stroke="#181818"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="67" x="82" y="462.0938">Connected</text><path d="m30 475.8359h598.5" stroke="#000" stroke-dasharray="2 2"/><text font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="105" x="35" y="486.4707">[connection failed]</text><path d="m76 507.1016-10 4 10 4-4-4z" fill="#181818" stroke="#181818"/><path d="m70 511.1016h529" stroke="#181818"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113" x="82" y="506.3594">Connection Failed</text></svg>
