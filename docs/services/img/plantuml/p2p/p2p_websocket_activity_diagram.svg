<svg contentStyleType="text/css" height="935" preserveAspectRatio="none" viewBox="0 0 1019 935" width="1019" xmlns="http://www.w3.org/2000/svg" zoomAndPan="magnify"><ellipse cx="494.5" cy="20" fill="#222" rx="10" ry="10" stroke="#222"/><rect fill="#f1f1f1" height="34.1328" rx="12.5" stroke="#181818" stroke-width=".5" width="174" x="407.5" y="50"/><text font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="154" x="417.5" y="71.6016">Create clientChannels map</text><rect fill="#f1f1f1" height="34.1328" rx="12.5" stroke="#181818" stroke-width=".5" width="180" x="404.5" y="104.1328"/><text font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="160" x="414.5" y="125.7344">Create newClientCh channel</text><rect fill="#f1f1f1" height="34.1328" rx="12.5" stroke="#181818" stroke-width=".5" width="187" x="401" y="158.2656"/><text font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="167" x="411" y="179.8672">Create deadClientCh channel</text><rect fill="#f1f1f1" height="34.1328" rx="12.5" stroke="#181818" stroke-width=".5" width="109" x="440" y="212.3984"/><text font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="89" x="450" y="234">Start pingTimer</text><rect fill="#555" height="6" rx="2.5" stroke="#555" width="985" x="11" y="266.5313"/><rect fill="#f1f1f1" height="34.1328" rx="12.5" stroke="#181818" stroke-width=".5" width="114" x="425.5" y="292.5313"/><text font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="94" x="435.5" y="314.1328">Listen for events</text><rect fill="#555" height="6" rx="2.5" stroke="#555" width="935" x="23" y="390.6641"/><rect fill="#f1f1f1" height="34.1328" rx="12.5" stroke="#181818" stroke-width=".5" width="133" x="35" y="491.1855"/><text font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="113" x="45" y="512.7871">New client connects</text><rect fill="#f1f1f1" height="34.1328" rx="12.5" stroke="#181818" stroke-width=".5" width="123" x="265.5" y="491.1855"/><text font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="103" x="275.5" y="512.7871">Client disconnects</text><rect fill="#f1f1f1" height="34.1328" rx="12.5" stroke="#181818" stroke-width=".5" width="108" x="574" y="416.6641"/><text font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="88" x="584" y="438.2656">Ping timer ticks</text><rect fill="#f1f1f1" height="34.1328" rx="12.5" stroke="#181818" stroke-width=".5" width="149" x="553.5" y="519.2744"/><text font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="129" x="563.5" y="540.876">Marshal ping message</text><path d="m552 470.7969h152l12 12-12 12h-152l-12-12z" fill="#f1f1f1" stroke="#181818" stroke-width=".5"/><text font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="18" x="632" y="505.4316">yes</text><text font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="152" x="552" y="486.9541">Are there connected clients?</text><text font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="14" x="716" y="480.4766">no</text><path d="m628 577.1826 12 12-12 12-12-12z" fill="#f1f1f1" stroke="#181818" stroke-width=".5"/><text font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="120" x="634" y="574.8623">Send ping to all clients</text><rect fill="#f1f1f1" height="34.1328" rx="12.5" stroke="#181818" stroke-width=".5" width="137" x="775.5" y="416.6641"/><text font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="117" x="785.5" y="438.2656">Notification received</text><rect fill="#f1f1f1" height="34.1328" rx="12.5" stroke="#181818" stroke-width=".5" width="131" x="778.5" y="519.2744"/><text font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="111" x="788.5" y="540.876">Marshal notification</text><path d="m768 470.7969h152l12 12-12 12h-152l-12-12z" fill="#f1f1f1" stroke="#181818" stroke-width=".5"/><text font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="18" x="848" y="505.4316">yes</text><text font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="152" x="768" y="486.9541">Are there connected clients?</text><text font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="14" x="932" y="480.4766">no</text><path d="m844 577.1826 12 12-12 12-12-12z" fill="#f1f1f1" stroke="#181818" stroke-width=".5"/><text font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="157" x="850" y="574.8623">Send notification to all clients</text><rect fill="#555" height="6" rx="2.5" stroke="#555" width="935" x="23" y="621.1826"/><path d="m482.5 346.6641 12 12-12 12-12-12z" fill="#f1f1f1" stroke="#181818" stroke-width=".5"/><path d="m436.5 647.1826h92l12 12-12 12h-92l-12-12z" fill="#f1f1f1" stroke="#181818" stroke-width=".5"/><text font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="92" x="436.5" y="663.3398">Server is running</text><rect fill="#555" height="6" rx="2.5" stroke="#555" width="985" x="11" y="691.1826"/><rect fill="#f1f1f1" height="34.1328" rx="12.5" stroke="#181818" stroke-width=".5" width="175" x="407" y="717.1826"/><text font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="155" x="417" y="738.7842">Handle WebSocket request</text><rect fill="#f1f1f1" height="34.1328" rx="12.5" stroke="#181818" stroke-width=".5" width="173" x="408" y="792.5908"/><text font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="153" x="418" y="814.1924">Send data over WebSocket</text><path d="m444.5 846.7236h100l12 12-12 12h-100l-12-12z" fill="#f1f1f1" stroke="#181818" stroke-width=".5"/><text font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="14" x="498.5" y="881.3584">no</text><text font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="100" x="444.5" y="862.8809">Error sending data</text><text font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="156" x="556.5" y="856.4033">Add channel to deadClientCh</text><ellipse cx="734.5" cy="858.7236" fill="none" rx="11" ry="11" stroke="#222"/><ellipse cx="734.5" cy="858.7236" fill="#222" rx="6" ry="6" stroke="#222"/><ellipse cx="494.5" cy="913.8584" fill="none" rx="11" ry="11" stroke="#222"/><ellipse cx="494.5" cy="913.8584" fill="#222" rx="6" ry="6" stroke="#222"/><g stroke="#181818"><path d="m494.5 30v20"/><path d="m490.5 40 4 10 4-10-4 4z" fill="#181818"/><path d="m494.5 84.1328v20"/><path d="m490.5 94.1328 4 10 4-10-4 4z" fill="#181818"/><path d="m494.5 138.2656v20"/><path d="m490.5 148.2656 4 10 4-10-4 4z" fill="#181818"/><path d="m494.5 192.3984v20"/><path d="m490.5 202.3984 4 10 4-10-4 4z" fill="#181818"/><path d="m628 494.7969v24.4775"/><path d="m624 509.2744 4 10 4-10-4 4z" fill="#181818"/><path d="m716 482.7969h12"/><path d="m724 532.8184 4 10 4-10-4 4z" fill="#181818"/><path d="m728 482.7969v106.3857"/><path d="m728 589.1826h-88"/><path d="m650 585.1826-10 4 10 4-4-4z" fill="#181818"/><path d="m628 553.4072v23.7754"/><path d="m624 567.1826 4 10 4-10-4 4z" fill="#181818"/><path d="m628 450.7969v20"/><path d="m624 460.7969 4 10 4-10-4 4z" fill="#181818"/><path d="m844 494.7969v24.4775"/><path d="m840 509.2744 4 10 4-10-4 4z" fill="#181818"/><path d="m932 482.7969h12"/><path d="m940 532.8184 4 10 4-10-4 4z" fill="#181818"/><path d="m944 482.7969v106.3857"/><path d="m944 589.1826h-88"/><path d="m866 585.1826-10 4 10 4-4-4z" fill="#181818"/><path d="m844 553.4072v23.7754"/><path d="m840 567.1826 4 10 4-10-4 4z" fill="#181818"/><path d="m844 450.7969v20"/><path d="m840 460.7969 4 10 4-10-4 4z" fill="#181818"/><path d="m101.5 396.6641v94.5214"/><path d="m97.5 481.1855 4 10 4-10-4 4z" fill="#181818"/><path d="m327 396.6641v94.5214"/><path d="m323 481.1855 4 10 4-10-4 4z" fill="#181818"/><path d="m628 396.6641v20"/><path d="m624 406.6641 4 10 4-10-4 4z" fill="#181818"/><path d="m844 396.6641v20"/><path d="m840 406.6641 4 10 4-10-4 4z" fill="#181818"/><path d="m101.5 525.3184v95.8642"/><path d="m97.5 611.1826 4 10 4-10-4 4z" fill="#181818"/></g><text font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="150" x="105.5" y="577.0566">Add client to clientChannels</text><path d="m327 525.3184v95.8642" stroke="#181818"/><path d="m323 611.1826 4 10 4-10-4 4z" fill="#181818" stroke="#181818"/><text font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="185" x="331" y="577.0566">Remove client from clientChannels</text><path d="m628 601.1826v20" stroke="#181818"/><path d="m624 611.1826 4 10 4-10-4 4z" fill="#181818" stroke="#181818"/><path d="m844 601.1826v20" stroke="#181818"/><path d="m840 611.1826 4 10 4-10-4 4z" fill="#181818" stroke="#181818"/><path d="m482.5 370.6641v20" stroke="#181818"/><path d="m478.5 380.6641 4 10 4-10-4 4z" fill="#181818" stroke="#181818"/><path d="m540.5 659.1826h429.5" stroke="#181818"/><path d="m966 524.7295 4-10 4 10-4-4z" fill="#181818" stroke="#181818"/><path d="m970 358.6641v300.5185" stroke="#181818"/><path d="m970 358.6641h-475.5" stroke="#181818"/><path d="m504.5 354.6641-10 4 10 4-4-4z" fill="#181818" stroke="#181818"/><path d="m482.5 627.1826v20" stroke="#181818"/><path d="m478.5 637.1826 4 10 4-10-4 4z" fill="#181818" stroke="#181818"/><path d="m482.5 326.6641v20" stroke="#181818"/><path d="m478.5 336.6641 4 10 4-10-4 4z" fill="#181818" stroke="#181818"/><path d="m482.5 272.5313v20" stroke="#181818"/><path d="m478.5 282.5313 4 10 4-10-4 4z" fill="#181818" stroke="#181818"/><path d="m482.5 671.1826v20" stroke="#181818"/><path d="m478.5 681.1826 4 10 4-10-4 4z" fill="#181818" stroke="#181818"/><path d="m494.5 246.5313v20" stroke="#181818"/><path d="m490.5 256.5313 4 10 4-10-4 4z" fill="#181818" stroke="#181818"/><path d="m494.5 697.1826v20" stroke="#181818"/><path d="m490.5 707.1826 4 10 4-10-4 4z" fill="#181818" stroke="#181818"/><path d="m494.5 751.3154v41.2754" stroke="#181818"/><path d="m490.5 782.5908 4 10 4-10-4 4z" fill="#181818" stroke="#181818"/><text font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="151" x="498.5" y="772.7705">Upgrade HTTP to WebSocket</text><path d="m494.5 870.7236v32.1348" stroke="#181818"/><path d="m490.5 892.8584 4 10 4-10-4 4z" fill="#181818" stroke="#181818"/><path d="m556.5 858.7236h167" stroke="#181818"/><path d="m713.5 854.7236 10 4-10 4 4-4z" fill="#181818" stroke="#181818"/><path d="m494.5 826.7236v20" stroke="#181818"/><path d="m490.5 836.7236 4 10 4-10-4 4z" fill="#181818" stroke="#181818"/></svg>
