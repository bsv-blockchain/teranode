<svg contentStyleType="text/css" height="787" preserveAspectRatio="none" viewBox="0 0 665 787" width="665" xmlns="http://www.w3.org/2000/svg" zoomAndPan="magnify"><path d="m238 98.7988h10v95.9316h-10z" fill="#fff" stroke="#181818"/><path d="m10 156.1094h648v535.4785h-648z" fill="none" stroke="#000" stroke-width="1.5"/><path d="m20 266.9961h628v417.5918h-628z" fill="none" stroke="#000" stroke-width="1.5"/><path d="m30 377.8828h608v299.7051h-608z" fill="none" stroke="#000" stroke-width="1.5"/><path d="m40 475.7695h588v194.8184h-588z" fill="none" stroke="#000" stroke-width="1.5"/><path d="m163.5 587.6563h454.5v46.6211h-454.5z" fill="none" stroke="#000" stroke-width="1.5"/><g stroke="#181818"><path d="m77 67.4883v641.0996" stroke-dasharray="5 5" stroke-width=".5"/><path d="m242.5 67.4883v641.0996" stroke-dasharray="5 5" stroke-width=".5"/><path d="m451 67.4883v641.0996" stroke-dasharray="5 5" stroke-width=".5"/><path d="m555 67.4883v641.0996" stroke-dasharray="5 5" stroke-width=".5"/><rect fill="#e2e2f0" height="30.4883" rx="2.5" stroke-width=".5" width="54" x="50" y="36"/></g><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40" x="57" y="56.5352">Client</text><rect fill="#e2e2f0" height="30.4883" rx="2.5" stroke="#181818" stroke-width=".5" width="54" x="50" y="707.5879"/><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40" x="57" y="728.123">Client</text><rect fill="#e2e2f0" height="30.4883" rx="2.5" stroke="#181818" stroke-width=".5" width="139" x="173.5" y="36"/><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="125" x="180.5" y="56.5352">Blockchain Service</text><rect fill="#e2e2f0" height="30.4883" rx="2.5" stroke="#181818" stroke-width=".5" width="139" x="173.5" y="707.5879"/><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="125" x="180.5" y="728.123">Blockchain Service</text><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76" x="410" y="64.5352">Block Store</text><path d="m433 15c0-10 18-10 18-10s18 0 18 10v26c0 10-18 10-18 10s-18 0-18-10z" fill="#e2e2f0" stroke="#181818" stroke-width="1.5"/><path d="m433 15c0 10 18 10 18 10s18 0 18-10" fill="none" stroke="#181818" stroke-width="1.5"/><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76" x="410" y="721.123">Block Store</text><path d="m433 734.0762c0-10 18-10 18-10s18 0 18 10v26c0 10-18 10-18 10s-18 0-18-10z" fill="#e2e2f0" stroke="#181818" stroke-width="1.5"/><path d="m433 734.0762c0 10 18 10 18 10s18 0 18-10" fill="none" stroke="#181818" stroke-width="1.5"/><path d="m507 41h96c5 0 5 13.2441 5 13.2441s0 13.2442-5 13.2442h-96c-5 0-5-13.2442-5-13.2442s0-13.2441 5-13.2441" fill="#e2e2f0" stroke="#181818" stroke-width=".5"/><path d="m603 41c-5 0-5 13.2441-5 13.2441 0 13.2442 5 13.2442 5 13.2442" fill="none" stroke="#181818" stroke-width=".5"/><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="86" x="507" y="59.5352">Notifications</text><path d="m507 707.5879h96c5 0 5 13.2441 5 13.2441s0 13.2442-5 13.2442h-96c-5 0-5-13.2442-5-13.2442s0-13.2441 5-13.2441" fill="#e2e2f0" stroke="#181818" stroke-width=".5"/><path d="m603 707.5879c-5 0-5 13.2441-5 13.2441 0 13.2442 5 13.2442 5 13.2442" fill="none" stroke="#181818" stroke-width=".5"/><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="86" x="507" y="726.123">Notifications</text><path d="m238 98.7988h10v95.9316h-10z" fill="#fff" stroke="#181818"/><path d="m226 94.7988 10 4-10 4 4-4z" fill="#181818" stroke="#181818"/><path d="m77 98.7988h155" stroke="#181818"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="142" x="84" y="94.0566">AddBlock(ctx, request)</text><path d="m248 128.1094h42" stroke="#181818"/><path d="m290 128.1094v13" stroke="#181818"/><path d="m249 141.1094h41" stroke="#181818"/><path d="m259 137.1094-10 4 10 4-4-4z" fill="#181818" stroke="#181818"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="119" x="255" y="123.3672">Parse Block Header</text><path d="m10 156.1094h62v7.3105l-10 10h-52z" fill="#eee" stroke="#000" stroke-width="1.5"/><path d="m10 156.1094h648v535.4785h-648z" fill="none" stroke="#000" stroke-width="1.5"/><text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="25" y="169.6777">alt</text><text font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="139" x="87" y="168.7441">[If Error Parsing Header]</text><path d="m88 190.7305-10 4 10 4-4-4z" fill="#181818" stroke="#181818"/><path d="m82 194.7305h160" stroke="#181818" stroke-dasharray="2 2"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75" x="94" y="189.9883">Return Error</text><path d="m10 203.7305h648" stroke="#000" stroke-dasharray="2 2"/><text font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="80" x="15" y="214.3652">[If Successful]</text><path d="m243 238.9961h42" stroke="#181818"/><path d="m285 238.9961v13" stroke="#181818"/><path d="m244 251.9961h41" stroke="#181818"/><path d="m254 247.9961-10 4 10 4-4-4z" fill="#181818" stroke="#181818"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="173" x="250" y="234.2539">Parse Coinbase Transaction</text><path d="m20 266.9961h62v7.3105l-10 10h-52z" fill="#eee" stroke="#000" stroke-width="1.5"/><path d="m20 266.9961h628v417.5918h-628z" fill="none" stroke="#000" stroke-width="1.5"/><text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="35" y="280.5645">alt</text><text font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="169" x="97" y="279.6309">[If Error Parsing Coinbase Tx]</text><path d="m88 301.6172-10 4 10 4-4-4z" fill="#181818" stroke="#181818"/><path d="m82 305.6172h160" stroke="#181818" stroke-dasharray="2 2"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75" x="94" y="300.875">Return Error</text><path d="m20 314.6172h628" stroke="#000" stroke-dasharray="2 2"/><text font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="80" x="25" y="325.252">[If Successful]</text><path d="m243 349.8828h42" stroke="#181818"/><path d="m285 349.8828v13" stroke="#181818"/><path d="m244 362.8828h41" stroke="#181818"/><path d="m254 358.8828-10 4 10 4-4-4z" fill="#181818" stroke="#181818"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="134" x="250" y="345.1406">Parse Subtree Hashes</text><path d="m30 377.8828h62v7.3106l-10 10h-52z" fill="#eee" stroke="#000" stroke-width="1.5"/><path d="m30 377.8828h608v299.7051h-608z" fill="none" stroke="#000" stroke-width="1.5"/><text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="45" y="391.4512">alt</text><text font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="185" x="107" y="390.5176">[If Error Parsing Subtree Hashes]</text><path d="m88 412.5039-10 4 10 4-4-4z" fill="#181818" stroke="#181818"/><path d="m82 416.5039h160" stroke="#181818" stroke-dasharray="2 2"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75" x="94" y="411.7617">Return Error</text><path d="m30 425.5039h608" stroke="#000" stroke-dasharray="2 2"/><text font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="80" x="35" y="436.1387">[If Successful]</text><path d="m439 456.7695 10 4-10 4 4-4z" fill="#181818" stroke="#181818"/><path d="m243 460.7695h202" stroke="#181818"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="184" x="250" y="456.0273">StoreBlock(ctx, block, peerId)</text><path d="m40 475.7695h62v7.3106l-10 10h-52z" fill="#eee" stroke="#000" stroke-width="1.5"/><path d="m40 475.7695h588v194.8184h-588z" fill="none" stroke="#000" stroke-width="1.5"/><text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="55" y="489.3379">alt</text><text font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="129" x="117" y="488.4043">[If Error Storing Block]</text><path d="m254 510.3906-10 4 10 4-4-4z" fill="#181818" stroke="#181818"/><path d="m248 514.3906h202" stroke="#181818" stroke-dasharray="2 2"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75" x="260" y="509.6484">Return Error</text><path d="m88 539.7012-10 4 10 4-4-4z" fill="#181818" stroke="#181818"/><path d="m82 543.7012h160" stroke="#181818" stroke-dasharray="2 2"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75" x="94" y="538.959">Return Error</text><path d="m40 552.7012h588" stroke="#000" stroke-dasharray="2 2"/><text font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="80" x="45" y="563.3359">[If Successful]</text><path d="m254 568.6563-10 4 10 4-4-4z" fill="#181818" stroke="#181818"/><path d="m248 572.6563h202" stroke="#181818" stroke-dasharray="2 2"/><path d="m163.5 587.6563h74v7.3105l-10 10h-64z" fill="#eee" stroke="#000" stroke-width="1.5"/><path d="m163.5 587.6563h454.5v46.6211h-454.5z" fill="none" stroke="#000" stroke-width="1.5"/><text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="29" x="178.5" y="601.2246">loop</text><text font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="151" x="252.5" y="600.291">[For each notification type]</text><path d="m543 622.2773 10 4-10 4 4-4z" fill="#181818" stroke="#181818"/><path d="m243 626.2773h306" stroke="#181818"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="214" x="250" y="621.5352">SendNotification(ctx, notification)</text><path d="m88 658.5879-10 4 10 4-4-4z" fill="#181818" stroke="#181818"/><path d="m82 662.5879h160" stroke="#181818" stroke-dasharray="2 2"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="50" x="94" y="657.8457">Success</text></svg>
