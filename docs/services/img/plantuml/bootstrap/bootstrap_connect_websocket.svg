<svg contentStyleType="text/css" height="1188" preserveAspectRatio="none" viewBox="0 0 1119 1188" width="1119" xmlns="http://www.w3.org/2000/svg" zoomAndPan="magnify"><g fill="#fff" stroke="#181818"><path d="m273.5 141.5625h10v818.4531h-10z"/><path d="m278.5 425.7578h10v58.2656h-10z"/><path d="m278.5 669.8203h10v58.2656h-10z"/><path d="m504.5 212.8281h10v718.0547h-10z"/><path d="m716.5 241.9609h10v859.5859h-10z"/><path d="m721.5 616.5547h10v147.6641h-10z"/><path d="m852.5 587.4219h10v176.7969h-10z"/><path d="m976.5 343.3594h10v29.1328h-10z"/><path d="m1059.5 1056.4141h10v29.1328h-10z"/></g><g fill="none"><path d="m20 387.4922h530v104.5313h-530z" stroke="#000" stroke-width="1.5"/><path d="m10 549.1563h926.5v223.0625h-926.5z" stroke="#000" stroke-width="1.5"/><path d="m20 631.5547h530v104.5313h-530z" stroke="#000" stroke-width="1.5"/><path d="m469 1018.1484h633.5v75.3984h-633.5z" stroke="#000" stroke-width="1.5"/></g><g stroke="#181818" stroke-width=".5"><g stroke-dasharray="5 5"><path d="m58 67.2969v1043.25"/><path d="m278.5 67.2969v1043.25"/><path d="m509 67.2969v1043.25"/><path d="m721.5 67.2969v1043.25"/><path d="m857.5 67.2969v1043.25"/><path d="m981.5 67.2969v1043.25"/><path d="m1064.5 67.2969v1043.25"/></g><rect fill="#e2e2f0" height="30.2969" rx="2.5" width="57" x="30" y="36"/></g><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="43" x="37" y="55.9951">Client</text><rect fill="#e2e2f0" height="30.2969" rx="2.5" stroke="#181818" stroke-width=".5" width="57" x="30" y="1109.5469"/><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="43" x="37" y="1129.542">Client</text><rect fill="#e2e2f0" height="30.2969" rx="2.5" stroke="#181818" stroke-width=".5" width="98" x="229.5" y="36"/><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84" x="236.5" y="55.9951">WebSocket</text><rect fill="#e2e2f0" height="30.2969" rx="2.5" stroke="#181818" stroke-width=".5" width="98" x="229.5" y="1109.5469"/><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84" x="236.5" y="1129.542">WebSocket</text><rect fill="#e2e2f0" height="30.2969" rx="2.5" stroke="#181818" stroke-width=".5" width="61" x="479" y="36"/><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="47" x="486" y="55.9951">Server</text><rect fill="#e2e2f0" height="30.2969" rx="2.5" stroke="#181818" stroke-width=".5" width="61" x="479" y="1109.5469"/><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="47" x="486" y="1129.542">Server</text><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108" x="664.5" y="63.9951">ClientChannels</text><path d="m703.5 15c0-10 18-10 18-10s18 0 18 10v26c0 10-18 10-18 10s-18 0-18-10z" fill="#e2e2f0" stroke="#181818" stroke-width="1.5"/><path d="m703.5 15c0 10 18 10 18 10s18 0 18-10" fill="none" stroke="#181818" stroke-width="1.5"/><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108" x="664.5" y="1122.542">ClientChannels</text><path d="m703.5 1135.8438c0-10 18-10 18-10s18 0 18 10v26c0 10-18 10-18 10s-18 0-18-10z" fill="#e2e2f0" stroke="#181818" stroke-width="1.5"/><path d="m703.5 1135.8438c0 10 18 10 18 10s18 0 18-10" fill="none" stroke="#181818" stroke-width="1.5"/><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="132" x="788.5" y="63.9951">Discovery Channel</text><path d="m839.5 15c0-10 18-10 18-10s18 0 18 10v26c0 10-18 10-18 10s-18 0-18-10z" fill="#e2e2f0" stroke="#181818" stroke-width="1.5"/><path d="m839.5 15c0 10 18 10 18 10s18 0 18-10" fill="none" stroke="#181818" stroke-width="1.5"/><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="132" x="788.5" y="1122.542">Discovery Channel</text><path d="m839.5 1135.8438c0-10 18-10 18-10s18 0 18 10v26c0 10-18 10-18 10s-18 0-18-10z" fill="#e2e2f0" stroke="#181818" stroke-width="1.5"/><path d="m839.5 1135.8438c0 10 18 10 18 10s18 0 18-10" fill="none" stroke="#181818" stroke-width="1.5"/><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84" x="936.5" y="63.9951">Subscribers</text><path d="m963.5 15c0-10 18-10 18-10s18 0 18 10v26c0 10-18 10-18 10s-18 0-18-10z" fill="#e2e2f0" stroke="#181818" stroke-width="1.5"/><path d="m963.5 15c0 10 18 10 18 10s18 0 18-10" fill="none" stroke="#181818" stroke-width="1.5"/><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84" x="936.5" y="1122.542">Subscribers</text><path d="m963.5 1135.8438c0-10 18-10 18-10s18 0 18 10v26c0 10-18 10-18 10s-18 0-18-10z" fill="#e2e2f0" stroke="#181818" stroke-width="1.5"/><path d="m963.5 1135.8438c0 10 18 10 18 10s18 0 18-10" fill="none" stroke="#181818" stroke-width="1.5"/><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="50" x="1036.5" y="63.9951">Logger</text><path d="m1046.5 15c0-10 18-10 18-10s18 0 18 10v26c0 10-18 10-18 10s-18 0-18-10z" fill="#e2e2f0" stroke="#181818" stroke-width="1.5"/><path d="m1046.5 15c0 10 18 10 18 10s18 0 18-10" fill="none" stroke="#181818" stroke-width="1.5"/><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="50" x="1036.5" y="1122.542">Logger</text><g stroke="#181818"><path d="m1046.5 1135.8438c0-10 18-10 18-10s18 0 18 10v26c0 10-18 10-18 10s-18 0-18-10z" fill="#e2e2f0" stroke-width="1.5"/><path d="m1046.5 1135.8438c0 10 18 10 18 10s18 0 18-10" fill="none" stroke-width="1.5"/><g fill="#fff"><path d="m273.5 141.5625h10v818.4531h-10z"/><path d="m278.5 425.7578h10v58.2656h-10z"/><path d="m278.5 669.8203h10v58.2656h-10z"/><path d="m504.5 212.8281h10v718.0547h-10z"/><path d="m716.5 241.9609h10v859.5859h-10z"/><path d="m721.5 616.5547h10v147.6641h-10z"/><path d="m852.5 587.4219h10v176.7969h-10z"/><path d="m976.5 343.3594h10v29.1328h-10z"/><path d="m1059.5 1056.4141h10v29.1328h-10z"/></g></g><path d="m0 97.8633h1112.5v3h-1112.5z" fill="#eee" stroke="#eee"/><path d="m0 97.8633h1112.5" stroke="#000"/><path d="m0 100.8633h1112.5" stroke="#000"/><path d="m424.25 87.2969h264v23.1328h-264z" fill="#eee" stroke="#000" stroke-width="2"/><text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="245" x="430.25" y="103.3638">WebSocket Connection Handling</text><path d="m261.5 137.5625 10 4-10 4 4-4z" fill="#181818" stroke="#181818"/><path d="m58.5 141.5625h209" stroke="#181818"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="188" x="65.5" y="136.4966">HTTP Request for WebSocket</text><g stroke="#181818"><path d="m283.5 170.6953h42"/><path d="m325.5 170.6953v13"/><path d="m284.5 183.6953h41"/><path d="m294.5 179.6953-10 4 10 4-4-4z" fill="#181818"/></g><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147" x="290.5" y="165.6294">Upgrade to WebSocket</text><path d="m492.5 208.8281 10 4-10 4 4-4z" fill="#181818" stroke="#181818"/><path d="m283.5 212.8281h215" stroke="#181818"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="126" x="290.5" y="207.7622">HandleWebSocket()</text><path d="m704.5 237.9609 10 4-10 4 4-4z" fill="#181818" stroke="#181818"/><path d="m514.5 241.9609h196" stroke="#181818"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="148" x="521.5" y="236.895">Add new client channel</text><path d="m525.5 267.0938-10 4 10 4-4-4z" fill="#181818" stroke="#181818"/><path d="m519.5 271.0938h196" stroke="#181818" stroke-dasharray="2 2"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="134" x="531.5" y="266.0278">Client channel added</text><path d="m0 299.6602h1112.5v3h-1112.5z" fill="#eee" stroke="#eee"/><path d="m0 299.6602h1112.5" stroke="#000"/><path d="m0 302.6602h1112.5" stroke="#000"/><path d="m412.25 289.0938h288v23.1328h-288z" fill="#eee" stroke="#000" stroke-width="2"/><text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="269" x="418.25" y="305.1606">Sending List of Existing Subscribers</text><path d="m964.5 339.3594 10 4-10 4 4-4z" fill="#181818" stroke="#181818"/><path d="m514.5 343.3594h456" stroke="#181818"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127" x="521.5" y="338.2935">Get Subscribers List</text><path d="m525.5 368.4922-10 4 10 4-4-4z" fill="#181818" stroke="#181818"/><path d="m519.5 372.4922h461" stroke="#181818" stroke-dasharray="2 2"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109" x="531.5" y="367.4263">Subscribers Data</text><path d="m20 387.4922h78v7.1328l-10 10h-68z" fill="#eee" stroke="#000" stroke-width="1.5"/><path d="m20 387.4922h530v104.5313h-530z" fill="none" stroke="#000" stroke-width="1.5"/><text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="33" x="35" y="400.5591">loop</text><text font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="114" x="113" y="399.7026">[Each Subscriber]</text><path d="m299.5 421.7578-10 4 10 4-4-4z" fill="#181818" stroke="#181818"/><path d="m293.5 425.7578h210" stroke="#181818"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="131" x="305.5" y="420.6919">Send Subscriber Info</text><path d="m69.5 450.8906-10 4 10 4-4-4z" fill="#181818" stroke="#181818"/><path d="m63.5 454.8906h214" stroke="#181818"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="131" x="75.5" y="449.8247">Send Subscriber Info</text><path d="m492.5 480.0234 10 4-10 4 4-4z" fill="#181818" stroke="#181818"/><path d="m283.5 484.0234h215" stroke="#181818" stroke-dasharray="2 2"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="57" x="290.5" y="478.9575">Info Sent</text><path d="m0 519.5898h1112.5v3h-1112.5z" fill="#eee" stroke="#eee"/><path d="m0 519.5898h1112.5" stroke="#000"/><path d="m0 522.5898h1112.5" stroke="#000"/><path d="m417.75 509.0234h277v23.1328h-277z" fill="#eee" stroke="#000" stroke-width="2"/><text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="258" x="423.75" y="525.0903">Broadcasting Messages to Clients</text><path d="m10 549.1563h78v7.1328l-10 10h-68z" fill="#eee" stroke="#000" stroke-width="1.5"/><path d="m10 549.1563h926.5v223.0625h-926.5z" fill="none" stroke="#000" stroke-width="1.5"/><text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="33" x="25" y="562.2231">loop</text><text font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="244" x="103" y="561.3667">[New Message on Discovery Channel]</text><path d="m525.5 583.4219-10 4 10 4-4-4z" fill="#181818" stroke="#181818"/><path d="m519.5 587.4219h332" stroke="#181818"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="156" x="531.5" y="582.356">New Discovery Message</text><path d="m709.5 612.5547 10 4-10 4 4-4z" fill="#181818" stroke="#181818"/><path d="m514.5 616.5547h201" stroke="#181818"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="178" x="521.5" y="611.4888">Iterate over Client Channels</text><path d="m20 631.5547h78v7.1328l-10 10h-68z" fill="#eee" stroke="#000" stroke-width="1.5"/><path d="m20 631.5547h530v104.5313h-530z" fill="none" stroke="#000" stroke-width="1.5"/><text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="33" x="35" y="644.6216">loop</text><text font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="141" x="113" y="643.7651">[Each Client Channel]</text><path d="m299.5 665.8203-10 4 10 4-4-4z" fill="#181818" stroke="#181818"/><path d="m293.5 669.8203h210" stroke="#181818"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="191" x="305.5" y="664.7544">Send Message via WebSocket</text><path d="m69.5 694.9531-10 4 10 4-4-4z" fill="#181818" stroke="#181818"/><path d="m63.5 698.9531h214" stroke="#181818"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="191" x="75.5" y="693.8872">Send Message via WebSocket</text><path d="m492.5 724.0859 10 4-10 4 4-4z" fill="#181818" stroke="#181818"/><path d="m283.5 728.0859h215" stroke="#181818" stroke-dasharray="2 2"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="89" x="290.5" y="723.02">Message Sent</text><path d="m525.5 760.2188-10 4 10 4-4-4z" fill="#181818" stroke="#181818"/><path d="m519.5 764.2188h196" stroke="#181818" stroke-dasharray="2 2"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="112" x="531.5" y="759.1528">All clients notified</text><path d="m0 799.7852h1112.5v3h-1112.5z" fill="#eee" stroke="#eee"/><path d="m0 799.7852h1112.5" stroke="#000"/><path d="m0 802.7852h1112.5" stroke="#000"/><path d="m468.75 789.2188h175v23.1328h-175z" fill="#eee" stroke="#000" stroke-width="2"/><text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="156" x="474.75" y="805.2856">Client Disconnection</text><path d="m492.5 839.4844 10 4-10 4 4-4z" fill="#181818" stroke="#181818"/><path d="m283.5 843.4844h215" stroke="#181818"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147" x="290.5" y="838.4185">WebSocket Disconnect</text><path d="m704.5 868.6172 10 4-10 4 4-4z" fill="#181818" stroke="#181818"/><path d="m514.5 872.6172h196" stroke="#181818"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="146" x="521.5" y="867.5513">Remove client channel</text><path d="m525.5 897.75-10 4 10 4-4-4z" fill="#181818" stroke="#181818"/><path d="m519.5 901.75h196" stroke="#181818" stroke-dasharray="2 2"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152" x="531.5" y="896.6841">Client channel removed</text><path d="m294.5 926.8828-10 4 10 4-4-4z" fill="#181818" stroke="#181818"/><path d="m288.5 930.8828h220" stroke="#181818" stroke-dasharray="2 2"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="197" x="300.5" y="925.8169">WebSocket Handling Complete</text><path d="m69.5 956.0156-10 4 10 4-4-4z" fill="#181818" stroke="#181818"/><path d="m63.5 960.0156h214" stroke="#181818" stroke-dasharray="2 2"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="63" x="75.5" y="954.9497">Response</text><path d="m0 988.582h1112.5v3h-1112.5z" fill="#eee" stroke="#eee"/><path d="m0 988.582h1112.5" stroke="#000"/><path d="m0 991.582h1112.5" stroke="#000"/><path d="m492.25 978.0156h128v23.1328h-128z" fill="#eee" stroke="#000" stroke-width="2"/><text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="109" x="498.25" y="994.0825">Error Handling</text><path d="m469 1018.1484h66v7.1329l-10 10h-56z" fill="#eee" stroke="#000" stroke-width="1.5"/><path d="m469 1018.1484h633.5v75.3984h-633.5z" fill="none" stroke="#000" stroke-width="1.5"/><text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="21" x="484" y="1031.2153">alt</text><text font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="184" x="550" y="1030.3589">[If Marshaling Error Occurs]</text><path d="m1047.5 1052.4141 10 4-10 4 4-4z" fill="#181818" stroke="#181818"/><path d="m509.5 1056.4141h544" stroke="#181818"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="58" x="516.5" y="1051.3481">Log Error</text><path d="m520.5 1081.5469-10 4 10 4-4-4z" fill="#181818" stroke="#181818"/><path d="m514.5 1085.5469h549" stroke="#181818" stroke-dasharray="2 2"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="82" x="526.5" y="1080.481">Error Logged</text></svg>
