<svg contentStyleType="text/css" height="712" preserveAspectRatio="none" viewBox="0 0 1065 712" width="1065" xmlns="http://www.w3.org/2000/svg" zoomAndPan="magnify"><g fill="#fff" stroke="#181818"><path d="m149.5 365.2266h10v258.7969h-10z"/><path d="m441 141.5625h10v143.3984h-10z"/><path d="m441 465.625h10v143.3984h-10z"/><path d="m664.5 170.6953h10v100.2656h-10z"/><path d="m664.5 494.7578h10v100.2656h-10z"/><path d="m809.5 199.8281h10v57.1328h-10z"/><path d="m809.5 523.8906h10v57.1328h-10z"/><path d="m960.5 228.9609h10v14h-10z"/><path d="m960.5 553.0234h10v14h-10z"/></g><path d="m10 427.3594h1038v189.6641h-1038z" fill="none" stroke="#000" stroke-width="1.5"/><path d="m154 67.2969v566.7265" stroke="#181818" stroke-dasharray="5 5" stroke-width=".5"/><path d="m446 67.2969v566.7265" stroke="#181818" stroke-dasharray="5 5" stroke-width=".5"/><path d="m669 67.2969v566.7265" stroke="#181818" stroke-dasharray="5 5" stroke-width=".5"/><path d="m814 67.2969v566.7265" stroke="#181818" stroke-dasharray="5 5" stroke-width=".5"/><path d="m965 67.2969v566.7265" stroke="#181818" stroke-dasharray="5 5" stroke-width=".5"/><rect fill="#e2e2f0" height="46.5938" rx="2.5" stroke="#181818" stroke-width=".5" width="269" x="20" y="19.7031"/><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="164" x="72.5" y="39.6982">Block Assembly Server</text><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="255" x="27" y="55.9951">(services/blockassembly/Server.go)</text><rect fill="#e2e2f0" height="46.5938" rx="2.5" stroke="#181818" stroke-width=".5" width="269" x="20" y="633.0234"/><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="164" x="72.5" y="653.0186">Block Assembly Server</text><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="255" x="27" y="669.3154">(services/blockassembly/Server.go)</text><rect fill="#e2e2f0" height="46.5938" rx="2.5" stroke="#181818" stroke-width=".5" width="294" x="299" y="19.7031"/><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88" x="402" y="39.6982">Remote TTL</text><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="280" x="306" y="55.9951">(services/blockassembly/remotettl.go)</text><rect fill="#e2e2f0" height="46.5938" rx="2.5" stroke="#181818" stroke-width=".5" width="294" x="299" y="633.0234"/><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88" x="402" y="653.0186">Remote TTL</text><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="280" x="306" y="669.3154">(services/blockassembly/remotettl.go)</text><rect fill="#e2e2f0" height="46.5938" rx="2.5" stroke="#181818" stroke-width=".5" width="133" x="603" y="19.7031"/><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="87" x="626" y="39.6982">Asset Client</text><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="119" x="610" y="55.9951">(asset/Client.go)</text><rect fill="#e2e2f0" height="46.5938" rx="2.5" stroke="#181818" stroke-width=".5" width="133" x="603" y="633.0234"/><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="87" x="626" y="653.0186">Asset Client</text><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="119" x="610" y="669.3154">(asset/Client.go)</text><rect fill="#e2e2f0" height="46.5938" rx="2.5" stroke="#181818" stroke-width=".5" width="137" x="746" y="19.7031"/><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="91" x="769" y="39.6982">Asset Server</text><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="123" x="753" y="55.9951">(asset/Server.go)</text><rect fill="#e2e2f0" height="46.5938" rx="2.5" stroke="#181818" stroke-width=".5" width="137" x="746" y="633.0234"/><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="91" x="769" y="653.0186">Asset Server</text><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="123" x="753" y="669.3154">(asset/Server.go)</text><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="139" x="893" y="63.9951">Blob Subtree Store</text><path d="m947.5 15c0-10 18-10 18-10s18 0 18 10v26c0 10-18 10-18 10s-18 0-18-10z" fill="#e2e2f0" stroke="#181818" stroke-width="1.5"/><path d="m947.5 15c0 10 18 10 18 10s18 0 18-10" fill="none" stroke="#181818" stroke-width="1.5"/><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="139" x="893" y="646.0186">Blob Subtree Store</text><g stroke="#181818"><path d="m947.5 659.3203c0-10 18-10 18-10s18 0 18 10v26c0 10-18 10-18 10s-18 0-18-10z" fill="#e2e2f0" stroke-width="1.5"/><path d="m947.5 659.3203c0 10 18 10 18 10s18 0 18-10" fill="none" stroke-width="1.5"/><g fill="#fff"><path d="m149.5 365.2266h10v258.7969h-10z"/><path d="m441 141.5625h10v143.3984h-10z"/><path d="m441 465.625h10v143.3984h-10z"/><path d="m664.5 170.6953h10v100.2656h-10z"/><path d="m664.5 494.7578h10v100.2656h-10z"/><path d="m809.5 199.8281h10v57.1328h-10z"/><path d="m809.5 523.8906h10v57.1328h-10z"/><path d="m960.5 228.9609h10v14h-10z"/><path d="m960.5 553.0234h10v14h-10z"/></g></g><path d="m0 97.8633h1058v3h-1058z" fill="#eee" stroke="#eee"/><path d="m0 97.8633h1058" stroke="#000"/><path d="m0 100.8633h1058" stroke="#000"/><path d="m436 87.2969h186v23.1328h-186z" fill="#eee" stroke="#000" stroke-width="2"/><text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="167" x="442" y="103.3638">New Subtree Scenario</text><path d="m429 137.5625 10 4-10 4 4-4z" fill="#181818" stroke="#181818"/><path d="m154.5 141.5625h280.5" stroke="#181818"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="108" x="161.5" y="136.4966">Set(ctx, subtree)</text><path d="m652.5 166.6953 10 4-10 4 4-4z" fill="#181818" stroke="#181818"/><path d="m451 170.6953h207.5" stroke="#181818"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="107" x="458" y="165.6294">set(ctx, subtree)</text><path d="m797.5 195.8281 10 4-10 4 4-4z" fill="#181818" stroke="#181818"/><path d="m674.5 199.8281h129" stroke="#181818"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="108" x="681.5" y="194.7622">Set(ctx, subtree)</text><path d="m948.5 224.9609 10 4-10 4 4-4z" fill="#181818" stroke="#181818"/><path d="m819.5 228.9609h135" stroke="#181818"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="108" x="826.5" y="223.895">Set(ctx, subtree)</text><g stroke="#181818"><path d="m830.5 238.9609-10 4 10 4-4-4z" fill="#181818"/><path d="m824.5 242.9609h140" stroke-dasharray="2 2"/><path d="m685.5 252.9609-10 4 10 4-4-4z" fill="#181818"/><path d="m679.5 256.9609h134" stroke-dasharray="2 2"/><path d="m462 266.9609-10 4 10 4-4-4z" fill="#181818"/><path d="m456 270.9609h212.5" stroke-dasharray="2 2"/><path d="m165.5 280.9609-10 4 10 4-4-4z" fill="#181818"/><path d="m159.5 284.9609h285.5" stroke-dasharray="2 2"/></g><path d="m0 313.5273h1058v3h-1058z" fill="#eee" stroke="#eee"/><path d="m0 313.5273h1058" stroke="#000"/><path d="m0 316.5273h1058" stroke="#000"/><path d="m415 302.9609h228v23.1328h-228z" fill="#eee" stroke="#000" stroke-width="2"/><text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="209" x="421" y="319.0278">Clear Subtree TTL Scenario</text><path d="m154.5 352.2266h47" stroke="#181818"/><path d="m201.5 352.2266v13" stroke="#181818"/><path d="m160.5 365.2266h41" stroke="#181818"/><path d="m170.5 361.2266-10 4 10 4-4-4z" fill="#181818" stroke="#181818"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="206" x="166.5" y="347.1606">submitMiningSolution(ctx, block)</text><path d="m159.5 399.3594h42" stroke="#181818"/><path d="m201.5 399.3594v13" stroke="#181818"/><path d="m160.5 412.3594h41" stroke="#181818"/><path d="m170.5 408.3594-10 4 10 4-4-4z" fill="#181818" stroke="#181818"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="201" x="166.5" y="394.2935">removeSubtreesTTL(ctx, Block)</text><path d="m10 427.3594h78v7.1328l-10 10h-68z" fill="#eee" stroke="#000" stroke-width="1.5"/><path d="m10 427.3594h1038v189.6641h-1038z" fill="none" stroke="#000" stroke-width="1.5"/><text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="33" x="25" y="440.4263">loop</text><text font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="206" x="103" y="439.5698">[For Each Subtree in the Block]</text><path d="m429 461.625 10 4-10 4 4-4z" fill="#181818" stroke="#181818"/><path d="m159.5 465.625h275.5" stroke="#181818"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="95" x="166.5" y="460.5591">SetTTL(ctx, ttl)</text><path d="m652.5 490.7578 10 4-10 4 4-4z" fill="#181818" stroke="#181818"/><path d="m451 494.7578h207.5" stroke="#181818"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="95" x="458" y="489.6919">SetTTL(ctx, ttl)</text><path d="m797.5 519.8906 10 4-10 4 4-4z" fill="#181818" stroke="#181818"/><path d="m674.5 523.8906h129" stroke="#181818"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="95" x="681.5" y="518.8247">SetTTL(ctx, ttl)</text><path d="m948.5 549.0234 10 4-10 4 4-4z" fill="#181818" stroke="#181818"/><path d="m819.5 553.0234h135" stroke="#181818"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="95" x="826.5" y="547.9575">SetTTL(ctx, ttl)</text><g stroke="#181818"><path d="m830.5 563.0234-10 4 10 4-4-4z" fill="#181818"/><path d="m824.5 567.0234h140" stroke-dasharray="2 2"/><path d="m685.5 577.0234-10 4 10 4-4-4z" fill="#181818"/><path d="m679.5 581.0234h134" stroke-dasharray="2 2"/><path d="m462 591.0234-10 4 10 4-4-4z" fill="#181818"/><path d="m456 595.0234h212.5" stroke-dasharray="2 2"/><path d="m170.5 605.0234-10 4 10 4-4-4z" fill="#181818"/><path d="m164.5 609.0234h280.5" stroke-dasharray="2 2"/></g></svg>
