<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="543px" preserveAspectRatio="none" style="width:868px;height:543px;background:#FFFFFF;" version="1.1" viewBox="0 0 868 543" width="868px" zoomAndPan="magnify"><defs/><g><rect fill="none" height="281.75" style="stroke:#000000;stroke-width:1.5;" width="624.042" x="237.6367" y="142.7305"/><rect fill="none" height="75.9316" style="stroke:#000000;stroke-width:1.5;" width="413.54" x="438.1387" y="238.6621"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="53" x2="53" y1="36.4883" y2="492.1016"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="328.6367" x2="328.6367" y1="36.4883" y2="492.1016"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="530.1387" x2="530.1387" y1="36.4883" y2="492.1016"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="690.8691" x2="690.8691" y1="36.4883" y2="492.1016"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="808.8262" x2="808.8262" y1="36.4883" y2="492.1016"/><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="97.1318" x="5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83.1318" x="12" y="25.5352">TX Validator</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="97.1318" x="5" y="491.1016"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83.1318" x="12" y="511.6367">TX Validator</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="163.3926" x="247.6367" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="149.3926" x="254.6367" y="25.5352">Block Assembly Client</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="163.3926" x="247.6367" y="491.1016"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="149.3926" x="254.6367" y="511.6367">Block Assembly Client</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="165.7305" x="448.1387" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="151.7305" x="455.1387" y="25.5352">Block Assembly Server</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="165.7305" x="448.1387" y="491.1016"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="151.7305" x="455.1387" y="511.6367">Block Assembly Server</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="135.6729" x="623.8691" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="121.6729" x="630.8691" y="25.5352">Subtree Processor</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="135.6729" x="623.8691" y="491.1016"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="121.6729" x="630.8691" y="511.6367">Subtree Processor</text><path d="M782.8262,10 L836.6787,10 C841.6787,10 841.6787,23.2441 841.6787,23.2441 C841.6787,23.2441 841.6787,36.4883 836.6787,36.4883 L782.8262,36.4883 C777.8262,36.4883 777.8262,23.2441 777.8262,23.2441 C777.8262,23.2441 777.8262,10 782.8262,10 " fill="#E2E2F0" style="stroke:#181818;stroke-width:0.5;"/><path d="M836.6787,10 C831.6787,10 831.6787,23.2441 831.6787,23.2441 C831.6787,36.4883 836.6787,36.4883 836.6787,36.4883 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="43.8525" x="782.8262" y="28.5352">Queue</text><path d="M782.8262,491.1016 L836.6787,491.1016 C841.6787,491.1016 841.6787,504.3457 841.6787,504.3457 C841.6787,504.3457 841.6787,517.5898 836.6787,517.5898 L782.8262,517.5898 C777.8262,517.5898 777.8262,504.3457 777.8262,504.3457 C777.8262,504.3457 777.8262,491.1016 782.8262,491.1016 " fill="#E2E2F0" style="stroke:#181818;stroke-width:0.5;"/><path d="M836.6787,491.1016 C831.6787,491.1016 831.6787,504.3457 831.6787,504.3457 C831.6787,517.5898 836.6787,517.5898 836.6787,517.5898 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="43.8525" x="782.8262" y="509.6367">Queue</text><polygon fill="#181818" points="317.333,63.7988,327.333,67.7988,317.333,71.7988,321.333,67.7988" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="53.5659" x2="323.333" y1="67.7988" y2="67.7988"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="140.2388" x="60.5659" y="63.0566">NewClient(ctx, logger)</text><polygon fill="#181818" points="317.333,123.7305,327.333,127.7305,317.333,131.7305,321.333,127.7305" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="53.5659" x2="323.333" y1="127.7305" y2="127.7305"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="206.8955" x="60.5659" y="92.3672">Store(ctx, bData.TxIDChainHash,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="251.7671" x="60.5659" y="107.6777">bData.Fee, bData.Size, bData.LockTime,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="120.6055" x="64.6792" y="122.9883">bData.UtxoHashes)</text><path d="M237.6367,142.7305 L299.7754,142.7305 L299.7754,150.041 L289.7754,160.041 L237.6367,160.041 L237.6367,142.7305 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="281.75" style="stroke:#000000;stroke-width:1.5;" width="624.042" x="237.6367" y="142.7305"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1387" x="252.6367" y="156.2988">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="144.5576" x="314.7754" y="155.3652">[if "batch mode" enabled]</text><line style="stroke:#181818;stroke-width:1.0;" x1="329.333" x2="371.333" y1="181.3516" y2="181.3516"/><line style="stroke:#181818;stroke-width:1.0;" x1="371.333" x2="371.333" y1="181.3516" y2="194.3516"/><line style="stroke:#181818;stroke-width:1.0;" x1="330.333" x2="371.333" y1="194.3516" y2="194.3516"/><polygon fill="#181818" points="340.333,190.3516,330.333,194.3516,340.333,198.3516,336.333,194.3516" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="81.3579" x="336.333" y="176.6094">Add to batch</text><path d="M429.3579,168.541 L429.3579,193.541 L661.3579,193.541 L661.3579,178.541 L651.3579,168.541 L429.3579,168.541 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M651.3579,168.541 L651.3579,178.541 L661.3579,178.541 L651.3579,168.541 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="211.5483" x="435.3579" y="186.1094">Check batch size limit and timing</text><polygon fill="#181818" points="519.0039,219.6621,529.0039,223.6621,519.0039,227.6621,523.0039,223.6621" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="329.333" x2="525.0039" y1="223.6621" y2="223.6621"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="177.6709" x="336.333" y="218.9199">AddTxBatch(ctx, nodeBatch)</text><path d="M438.1387,238.6621 L512.5854,238.6621 L512.5854,245.9727 L502.5854,255.9727 L438.1387,255.9727 L438.1387,238.6621 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="75.9316" style="stroke:#000000;stroke-width:1.5;" width="413.54" x="438.1387" y="238.6621"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="29.4468" x="453.1387" y="252.2305">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="162.9321" x="527.5854" y="251.2969">[for each node in nodeBatch]</text><polygon fill="#181818" points="679.7056,273.2832,689.7056,277.2832,679.7056,281.2832,683.7056,277.2832" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="531.0039" x2="685.7056" y1="277.2832" y2="277.2832"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130.5396" x="538.0039" y="272.541">AddTx(subtreeNode)</text><polygon fill="#181818" points="797.7524,302.5938,807.7524,306.5938,797.7524,310.5938,801.7524,306.5938" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="691.7056" x2="803.7524" y1="306.5938" y2="306.5938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94.0469" x="698.7056" y="301.8516">enqueue(node)</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="237.6367" x2="861.6787" y1="322.5938" y2="322.5938"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="147.9736" x="242.6367" y="333.2285">[if "batch mode" disabled]</text><polygon fill="#181818" points="519.0039,353.8594,529.0039,357.8594,519.0039,361.8594,523.0039,357.8594" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="329.333" x2="525.0039" y1="357.8594" y2="357.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130.5396" x="336.333" y="353.1172">AddTx(subtreeNode)</text><polygon fill="#181818" points="679.7056,383.1699,689.7056,387.1699,679.7056,391.1699,683.7056,387.1699" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="531.0039" x2="685.7056" y1="387.1699" y2="387.1699"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130.5396" x="538.0039" y="382.4277">AddTx(subtreeNode)</text><polygon fill="#181818" points="797.7524,412.4805,807.7524,416.4805,797.7524,420.4805,801.7524,416.4805" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="691.7056" x2="803.7524" y1="416.4805" y2="416.4805"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94.0469" x="698.7056" y="411.7383">enqueue(node)</text><path d="M572,436.4805 L572,476.4805 L810,476.4805 L810,446.4805 L800,436.4805 L572,436.4805 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M800,436.4805 L800,446.4805 L810,446.4805 L800,436.4805 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="217.3882" x="578" y="454.0488">Dequeue and process transactions</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="135.2813" x="578" y="469.3594">in separate goroutine</text><text fill="#888888" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="154.8389" x="0" y="533.2578">Last Modified On: 14-Nov-2024</text><!--SRC=[dLDDZnCn3BtdLrWZ8RLIom_e0QaVMe6qNK0Tq1xsafcuCn6fCoGkTFdrE4dRxRO88N8Pntdl-SNE33gmRUsWYQ6g7-6hTjPezg427Q5-FE_LS8bSEDz-WtcCk6lSCooTHU9CMSp_YjnW-855l8IlqPjzmm4HFWNVOen76yViEQc-xt6FK7rEdup8aL8NVc7wJhp031xmPx4tQlam0UUx3iFupzYDRB3WcfLc_RO-V5WjUstflOxz19wefEyGJuYD_NMEx-MgjTtXv8cEcIzyy8cAKIfgns2tK3MQsnvsteXt9DquD0faYOMJaRanm1uoCf-HPuHWkvvdiEnHMbfKefG7PtUMGPDm9ABkGgqqkIZMXqNYbFkHbC_RSKOxxmVOIYjGYsew14ile8n9wwYNbA-6SgenYkNWGRZZ5zurMXJoq8I6bESveZC3oIXq4M_QPMoyxjVh6zvM_n_7_-usELLvE3vLkNcfIMs5vRsc0Gtb13XeYhfbwobca7GxelmBMgGw7_oUBM6IpwDNok6MPK0I1xZNaM7jZTrQDF2HPl16tZ6EAcEcw_Lw-Yoh6glV]--></g></svg>
