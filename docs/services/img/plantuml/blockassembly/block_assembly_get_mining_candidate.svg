<svg contentStyleType="text/css" height="639" preserveAspectRatio="none" viewBox="0 0 1748 639" width="1748" xmlns="http://www.w3.org/2000/svg" zoomAndPan="magnify"><g fill="#fff"><path d="m209.5 98.7988h10v289.7949h-10z" stroke="#181818"/><path d="m397.5 128.1094h10v231.1738h-10z" stroke="#181818"/><path d="m919.5 157.4199h10v172.5527h-10z" stroke="#181818"/><path d="m1484.5 186.7305h10v29.3105h-10z" stroke="#181818"/></g><path d="m857.5 403.5938h885v75.9316h-885z" fill="none" stroke="#000" stroke-width="1.5"/><path d="m857.5 493.5254h779v46.6211h-779z" fill="none" stroke="#000" stroke-width="1.5"/><g stroke="#181818" stroke-width=".5"><g stroke-dasharray="5 5"><path d="m31 67.4883v489.6582"/><path d="m214 67.4883v489.6582"/><path d="m402.5 67.4883v489.6582"/><path d="m924.5 67.4883v489.6582"/><path d="m1489.5 67.4883v489.6582"/><path d="m1594.5 67.4883v489.6582"/><path d="m1684.5 67.4883v489.6582"/></g><rect fill="#e2e2f0" height="30.4883" rx="2.5" width="53" x="5" y="36"/></g><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39" x="12" y="56.5352">Miner</text><rect fill="#e2e2f0" height="30.4883" rx="2.5" stroke="#181818" stroke-width=".5" width="53" x="5" y="556.1465"/><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39" x="12" y="576.6816">Miner</text><rect fill="#e2e2f0" height="30.4883" rx="2.5" stroke="#181818" stroke-width=".5" width="155" x="137" y="36"/><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="141" x="144" y="56.5352">BlockAssemblyClient</text><rect fill="#e2e2f0" height="30.4883" rx="2.5" stroke="#181818" stroke-width=".5" width="155" x="137" y="556.1465"/><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="141" x="144" y="576.6816">BlockAssemblyClient</text><rect fill="#e2e2f0" height="30.4883" rx="2.5" stroke="#181818" stroke-width=".5" width="158" x="323.5" y="36"/><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="144" x="330.5" y="56.5352">BlockAssemblyServer</text><rect fill="#e2e2f0" height="30.4883" rx="2.5" stroke="#181818" stroke-width=".5" width="158" x="323.5" y="556.1465"/><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="144" x="330.5" y="576.6816">BlockAssemblyServer</text><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108" x="867.5" y="64.5352">BlockAssembler</text><ellipse cx="924.5" cy="35" fill="#e2e2f0" rx="12" ry="12" stroke="#181818" stroke-width=".5"/><path d="m912.5 49h24" stroke="#181818" stroke-width=".5"/><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108" x="867.5" y="569.6816">BlockAssembler</text><ellipse cx="924.5" cy="588.6348" fill="#e2e2f0" rx="12" ry="12" stroke="#181818" stroke-width=".5"/><path d="m912.5 602.6348h24" stroke="#181818" stroke-width=".5"/><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="120" x="1426.5" y="64.5352">SubtreeProcessor</text><ellipse cx="1489.5" cy="35" fill="#e2e2f0" rx="12" ry="12" stroke="#181818" stroke-width=".5"/><path d="m1477.5 49h24" stroke="#181818" stroke-width=".5"/><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="120" x="1426.5" y="569.6816">SubtreeProcessor</text><ellipse cx="1489.5" cy="588.6348" fill="#e2e2f0" rx="12" ry="12" stroke="#181818" stroke-width=".5"/><path d="m1477.5 602.6348h24" stroke="#181818" stroke-width=".5"/><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="58" x="1562.5" y="64.5352">JobStore</text><path d="m1576.5 15c0-10 18-10 18-10s18 0 18 10v26c0 10-18 10-18 10s-18 0-18-10z" fill="#e2e2f0" stroke="#181818" stroke-width="1.5"/><path d="m1576.5 15c0 10 18 10 18 10s18 0 18-10" fill="none" stroke="#181818" stroke-width="1.5"/><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="58" x="1562.5" y="569.6816">JobStore</text><path d="m1576.5 582.6348c0-10 18-10 18-10s18 0 18 10v26c0 10-18 10-18 10s-18 0-18-10z" fill="#e2e2f0" stroke="#181818" stroke-width="1.5"/><path d="m1576.5 582.6348c0 10 18 10 18 10s18 0 18-10" fill="none" stroke="#181818" stroke-width="1.5"/><rect fill="#e2e2f0" height="30.4883" rx="2.5" stroke="#181818" stroke-width=".5" width="96" x="1636.5" y="36"/><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="82" x="1643.5" y="56.5352">StatusClient</text><rect fill="#e2e2f0" height="30.4883" rx="2.5" stroke="#181818" stroke-width=".5" width="96" x="1636.5" y="556.1465"/><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="82" x="1643.5" y="576.6816">StatusClient</text><g stroke="#181818"><g fill="#fff"><path d="m209.5 98.7988h10v289.7949h-10z"/><path d="m397.5 128.1094h10v231.1738h-10z"/><path d="m919.5 157.4199h10v172.5527h-10z"/><path d="m1484.5 186.7305h10v29.3105h-10z"/></g><path d="m197.5 94.7988 10 4-10 4 4-4z" fill="#181818"/><path d="m31.5 98.7988h172"/></g><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="155" x="38.5" y="94.0566">GetMiningCandidate(ctx)</text><path d="m385.5 124.1094 10 4-10 4 4-4z" fill="#181818" stroke="#181818"/><path d="m219.5 128.1094h172" stroke="#181818"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="155" x="226.5" y="123.3672">GetMiningCandidate(ctx)</text><path d="m907.5 153.4199 10 4-10 4 4-4z" fill="#181818" stroke="#181818"/><path d="m407.5 157.4199h506" stroke="#181818"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="155" x="414.5" y="152.6777">GetMiningCandidate(ctx)</text><path d="m1472.5 182.7305 10 4-10 4 4-4z" fill="#181818" stroke="#181818"/><path d="m929.5 186.7305h549" stroke="#181818"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="277" x="936.5" y="181.9883">GetCompletedSubtreesForMiningCandidate()</text><path d="m940.5 212.041-10 4 10 4-4-4z" fill="#181818" stroke="#181818"/><path d="m934.5 216.041h554" stroke="#181818" stroke-dasharray="2 2"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96" x="946.5" y="211.2988">return subtrees</text><path d="m929.5 245.3516h42" stroke="#181818"/><path d="m971.5 245.3516v13" stroke="#181818"/><path d="m930.5 258.3516h41" stroke="#181818"/><path d="m940.5 254.3516-10 4 10 4-4-4z" fill="#181818" stroke="#181818"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="541" x="936.5" y="240.6094">coinbaseValue = util.GetBlockSubsidyForHeight(b.bestBlockHeight + 1) + subtreeFees</text><path d="m929.5 287.6621h42" stroke="#181818"/><path d="m971.5 287.6621v13" stroke="#181818"/><path d="m930.5 300.6621h41" stroke="#181818"/><path d="m940.5 296.6621-10 4 10 4-4-4z" fill="#181818" stroke="#181818"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="207" x="936.5" y="282.9199">Compute candidate merkle proof</text><path d="m418.5 325.9727-10 4 10 4-4-4z" fill="#181818" stroke="#181818"/><path d="m412.5 329.9727h511" stroke="#181818" stroke-dasharray="2 2"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="488" x="424.5" y="325.2305">return mining candidate with coinbase Tx, merkle proof, fees, list of subtrees</text><path d="m230.5 355.2832-10 4 10 4-4-4z" fill="#181818" stroke="#181818"/><path d="m224.5 359.2832h177" stroke="#181818" stroke-dasharray="2 2"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="154" x="236.5" y="354.541">Return mining candidate</text><path d="m42.5 384.5938-10 4 10 4-4-4z" fill="#181818" stroke="#181818"/><path d="m36.5 388.5938h177" stroke="#181818" stroke-dasharray="2 2"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="154" x="48.5" y="383.8516">Return mining candidate</text><path d="m857.5 403.5938h201v7.3105l-10 10h-191z" fill="#eee" stroke="#000" stroke-width="1.5"/><path d="m857.5 403.5938h885v75.9316h-885z" fill="none" stroke="#000" stroke-width="1.5"/><text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="156" x="872.5" y="417.1621">Status Announcements</text><path d="m1672.5 438.2148 10 4-10 4 4-4z" fill="#181818" stroke="#181818"/><path d="m924.5 442.2148h754" stroke="#181818"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="496" x="931.5" y="437.4727">AnnounceStatus(ctx, "GetMiningCandidate", "Height", miningCandidate.Height)</text><path d="m1672.5 467.5254 10 4-10 4 4-4z" fill="#181818" stroke="#181818"/><path d="m924.5 471.5254h754" stroke="#181818"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="582" x="931.5" y="466.7832">AnnounceStatus(ctx, "GetMiningCandidate", "PreviousHash", miningCandidate.PreviousHash)</text><path d="m857.5 493.5254h158v7.3105l-10 10h-148z" fill="#eee" stroke="#000" stroke-width="1.5"/><path d="m857.5 493.5254h779v46.6211h-779z" fill="none" stroke="#000" stroke-width="1.5"/><text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="113" x="872.5" y="507.0938">Job Store Update</text><path d="m1582.5 528.1465 10 4-10 4 4-4z" fill="#181818" stroke="#181818"/><path d="m924.5 532.1465h664" stroke="#181818"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="266" x="931.5" y="527.4043">Set(*id, &amp;subtreeprocessor.Job{...}, jobTTL)</text><text fill="#888" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="152" y="629.3027">Last Modified On: 10-Jan-2024</text></svg>
