<svg contentStyleType="text/css" height="553" preserveAspectRatio="none" viewBox="0 0 936 553" width="936" xmlns="http://www.w3.org/2000/svg" zoomAndPan="magnify"><g stroke="#181818"><g fill="#fff"><path d="m395 98.7988h10v29.3105h-10z"/><path d="m539.5 157.4199h10v308.4844h-10z"/><path d="m544.5 237.041h10v219.8633h-10z"/><path d="m880.5 271.3516h10v29.3105h-10z"/></g><g stroke-width=".5"><g stroke-dasharray="5 5"><path d="m68 67.4883v407.416"/><path d="m399.5 67.4883v407.416"/><path d="m544.5 67.4883v407.416"/><path d="m885 67.4883v407.416"/></g><rect fill="#e2e2f0" height="30.4883" rx="2.5" width="126" x="5" y="36"/></g></g><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112" x="12" y="56.5352">Block Assembler</text><rect fill="#e2e2f0" height="30.4883" rx="2.5" stroke="#181818" stroke-width=".5" width="126" x="5" y="473.9043"/><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112" x="12" y="494.4395">Block Assembler</text><rect fill="#e2e2f0" height="30.4883" rx="2.5" stroke="#181818" stroke-width=".5" width="131" x="334.5" y="36"/><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="117" x="341.5" y="56.5352">Blockchain Client</text><rect fill="#e2e2f0" height="30.4883" rx="2.5" stroke="#181818" stroke-width=".5" width="131" x="334.5" y="473.9043"/><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="117" x="341.5" y="494.4395">Blockchain Client</text><rect fill="#e2e2f0" height="30.4883" rx="2.5" stroke="#181818" stroke-width=".5" width="138" x="475.5" y="36"/><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="124" x="482.5" y="56.5352">Subtree Processor</text><rect fill="#e2e2f0" height="30.4883" rx="2.5" stroke="#181818" stroke-width=".5" width="138" x="475.5" y="473.9043"/><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="124" x="482.5" y="494.4395">Subtree Processor</text><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="93" x="836" y="64.5352">Subtree Store</text><path d="m867.5 15c0-10 18-10 18-10s18 0 18 10v26c0 10-18 10-18 10s-18 0-18-10z" fill="#e2e2f0" stroke="#181818" stroke-width="1.5"/><path d="m867.5 15c0 10 18 10 18 10s18 0 18-10" fill="none" stroke="#181818" stroke-width="1.5"/><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="93" x="836" y="487.4395">Subtree Store</text><g stroke="#181818"><path d="m867.5 500.3926c0-10 18-10 18-10s18 0 18 10v26c0 10-18 10-18 10s-18 0-18-10z" fill="#e2e2f0" stroke-width="1.5"/><path d="m867.5 500.3926c0 10 18 10 18 10s18 0 18-10" fill="none" stroke-width="1.5"/><g fill="#fff"><path d="m395 98.7988h10v29.3105h-10z"/><path d="m539.5 157.4199h10v308.4844h-10z"/><path d="m544.5 237.041h10v219.8633h-10z"/><path d="m880.5 271.3516h10v29.3105h-10z"/></g><path d="m383 94.7988 10 4-10 4 4-4z" fill="#181818"/><path d="m68 98.7988h321"/></g><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="308" x="75" y="94.0566">GetBlock(ctx, bestBlockchainBlockHeader.Hash())</text><path d="m79 124.1094-10 4 10 4-4-4z" fill="#181818" stroke="#181818"/><path d="m73 128.1094h326" stroke="#181818" stroke-dasharray="2 2"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="67" x="85" y="123.3672">block / err</text><path d="m527.5 153.4199 10 4-10 4 4-4z" fill="#181818" stroke="#181818"/><path d="m68 157.4199h465.5" stroke="#181818"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127" x="75" y="152.6777">MoveUpBlock(block)</text><g stroke="#181818"><path d="m549.5 186.7305h42"/><path d="m591.5 186.7305v13"/><path d="m550.5 199.7305h41"/><path d="m560.5 195.7305-10 4 10 4-4-4z" fill="#181818"/></g><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="261" x="556.5" y="181.9883">moveUpBlockChan &lt;- moveBlockRequest</text><path d="m549.5 224.041h47" stroke="#181818"/><path d="m596.5 224.041v13" stroke="#181818"/><path d="m555.5 237.041h41" stroke="#181818"/><path d="m565.5 233.041-10 4 10 4-4-4z" fill="#181818" stroke="#181818"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="170" x="561.5" y="219.2988">Process moveBlockRequest</text><path d="m868.5 267.3516 10 4-10 4 4-4z" fill="#181818" stroke="#181818"/><path d="m554.5 271.3516h320" stroke="#181818"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="149" x="561.5" y="266.6094">Get subtrees from store</text><path d="m565.5 296.6621-10 4 10 4-4-4z" fill="#181818" stroke="#181818"/><path d="m559.5 300.6621h325" stroke="#181818" stroke-dasharray="2 2"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="54" x="571.5" y="295.9199">Subtrees</text><path d="m554.5 329.9727h42" stroke="#181818"/><path d="m596.5 329.9727v13" stroke="#181818"/><path d="m555.5 342.9727h41" stroke="#181818"/><path d="m565.5 338.9727-10 4 10 4-4-4z" fill="#181818" stroke="#181818"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="148" x="561.5" y="325.2305">Process coinbase utxos</text><path d="m554.5 372.2832h42" stroke="#181818"/><path d="m596.5 372.2832v13" stroke="#181818"/><path d="m555.5 385.2832h41" stroke="#181818"/><path d="m565.5 381.2832-10 4 10 4-4-4z" fill="#181818" stroke="#181818"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="277" x="561.5" y="367.541">Create transaction map from block subtrees</text><path d="m554.5 414.5938h42" stroke="#181818"/><path d="m596.5 414.5938v13" stroke="#181818"/><path d="m555.5 427.5938h41" stroke="#181818"/><path d="m565.5 423.5938-10 4 10 4-4-4z" fill="#181818" stroke="#181818"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="312" x="561.5" y="409.8516">Update current subtree with pending transactions</text><path d="m79 452.9043-10 4 10 4-4-4z" fill="#181818" stroke="#181818"/><path d="m73 456.9043h465.5" stroke="#181818" stroke-dasharray="2 2"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="48" x="85" y="452.1621">err / nil</text></svg>
