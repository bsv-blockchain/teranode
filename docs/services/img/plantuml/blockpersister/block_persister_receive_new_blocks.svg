<svg contentStyleType="text/css" height="588" preserveAspectRatio="none" viewBox="0 0 779 588" width="779" xmlns="http://www.w3.org/2000/svg" zoomAndPan="magnify"><path d="m437.5 165.4199h10v322.7949h-10z" fill="#fff" stroke="#181818"/><path d="m442.5 207.7305h10v280.4844h-10z" fill="#fff" stroke="#181818"/><path d="m447.5 458.9043h10v29.3105h-10z" fill="#fff" stroke="#181818"/><path d="m350 383.9727h423v46.6211h-423z" fill="none" stroke="#000" stroke-width="1.5"/><path d="m74 67.4883v438.7265" stroke="#181818" stroke-dasharray="5 5" stroke-width=".5"/><path d="m282.5 67.4883v438.7265" stroke="#181818" stroke-dasharray="5 5" stroke-width=".5"/><path d="m442 67.4883v438.7265" stroke="#181818" stroke-dasharray="5 5" stroke-width=".5"/><path d="m719 67.4883v438.7265" stroke="#181818" stroke-dasharray="5 5" stroke-width=".5"/><rect fill="#e2e2f0" height="30.4883" rx="2.5" stroke="#181818" stroke-width=".5" width="139" x="5" y="36"/><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="125" x="12" y="56.5352">Blockchain Service</text><rect fill="#e2e2f0" height="30.4883" rx="2.5" stroke="#181818" stroke-width=".5" width="139" x="5" y="505.2148"/><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="125" x="12" y="525.75">Blockchain Service</text><rect fill="#e2e2f0" height="30.4883" rx="2.5" stroke="#181818" stroke-width=".5" width="52" x="256.5" y="36"/><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="38" x="263.5" y="56.5352">Kafka</text><rect fill="#e2e2f0" height="30.4883" rx="2.5" stroke="#181818" stroke-width=".5" width="52" x="256.5" y="505.2148"/><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="38" x="263.5" y="525.75">Kafka</text><rect fill="#e2e2f0" height="30.4883" rx="2.5" stroke="#181818" stroke-width=".5" width="165" x="360" y="36"/><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="151" x="367" y="56.5352">Block Persister Service</text><rect fill="#e2e2f0" height="30.4883" rx="2.5" stroke="#181818" stroke-width=".5" width="165" x="360" y="505.2148"/><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="151" x="367" y="525.75">Block Persister Service</text><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81" x="676" y="64.5352">File Storage</text><path d="m701.5 15c0-10 18-10 18-10s18 0 18 10v26c0 10-18 10-18 10s-18 0-18-10z" fill="#e2e2f0" stroke="#181818" stroke-width="1.5"/><path d="m701.5 15c0 10 18 10 18 10s18 0 18-10" fill="none" stroke="#181818" stroke-width="1.5"/><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81" x="676" y="518.75">File Storage</text><g stroke="#181818"><path d="m701.5 531.7031c0-10 18-10 18-10s18 0 18 10v26c0 10-18 10-18 10s-18 0-18-10z" fill="#e2e2f0" stroke-width="1.5"/><path d="m701.5 531.7031c0 10 18 10 18 10s18 0 18-10" fill="none" stroke-width="1.5"/><path d="m437.5 165.4199h10v322.7949h-10z" fill="#fff"/><path d="m442.5 207.7305h10v280.4844h-10z" fill="#fff"/><path d="m447.5 458.9043h10v29.3105h-10z" fill="#fff"/><path d="m270.5 94.7988 10 4-10 4 4-4z" fill="#181818"/><path d="m74.5 98.7988h202"/></g><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="184" x="81.5" y="94.0566">Emit Kafka Block Notification</text><path d="m430.5 124.1094 10 4-10 4 4-4z" fill="#181818" stroke="#181818"/><path d="m282.5 128.1094h154" stroke="#181818"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136" x="289.5" y="123.3672">Notify Block Received</text><path d="m442.5 152.4199h47" stroke="#181818"/><path d="m489.5 152.4199v13" stroke="#181818"/><path d="m448.5 165.4199h41" stroke="#181818"/><path d="m458.5 161.4199-10 4 10 4-4-4z" fill="#181818" stroke="#181818"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="240" x="454.5" y="147.6777">blocksFinalHandler(ctx, _, blockBytes)</text><path d="m447.5 194.7305h47" stroke="#181818"/><path d="m494.5 194.7305v13" stroke="#181818"/><path d="m453.5 207.7305h41" stroke="#181818"/><path d="m463.5 203.7305-10 4 10 4-4-4z" fill="#181818" stroke="#181818"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="219" x="459.5" y="189.9883">persistBlock(ctx, hash, blockBytes)</text><path d="m452.5 242.041h42" stroke="#181818"/><path d="m494.5 242.041v13" stroke="#181818"/><path d="m453.5 255.041h41" stroke="#181818"/><path d="m463.5 251.041-10 4 10 4-4-4z" fill="#181818" stroke="#181818"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="164" x="459.5" y="237.2988">Create UTXODiff for block</text><path d="m452.5 284.3516h42" stroke="#181818"/><path d="m494.5 284.3516v13" stroke="#181818"/><path d="m453.5 297.3516h41" stroke="#181818"/><path d="m463.5 293.3516-10 4 10 4-4-4z" fill="#181818" stroke="#181818"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="125" x="459.5" y="279.6094">Create file for block</text><path d="m452.5 326.6621h42" stroke="#181818"/><path d="m494.5 326.6621v13" stroke="#181818"/><path d="m453.5 339.6621h41" stroke="#181818"/><path d="m463.5 335.6621-10 4 10 4-4-4z" fill="#181818" stroke="#181818"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="248" x="459.5" y="321.9199">Write block header to block file (.block)</text><path d="m707.5 364.9727 10 4-10 4 4-4z" fill="#181818" stroke="#181818"/><path d="m452.5 368.9727h261" stroke="#181818"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="224" x="459.5" y="364.2305">Persist block file (.block) to storage</text><path d="m350 383.9727h74v7.3105l-10 10h-64z" fill="#eee" stroke="#000" stroke-width="1.5"/><path d="m350 383.9727h423v46.6211h-423z" fill="none" stroke="#000" stroke-width="1.5"/><text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="29" x="365" y="397.541">loop</text><text font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="170" x="439" y="396.6074">[for each Subtree in the Block]</text><path d="m707.5 418.5938 10 4-10 4 4-4z" fill="#181818" stroke="#181818"/><path d="m452.5 422.5938h261" stroke="#181818"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="178" x="459.5" y="417.8516">Create subtree file (.subtree)</text><path d="m707.5 454.9043 10 4-10 4 4-4z" fill="#181818" stroke="#181818"/><path d="m457.5 458.9043h256" stroke="#181818"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="198" x="464.5" y="454.1621">Create UTXODiff file (.utxodiff)</text><path d="m707.5 484.2148 10 4-10 4 4-4z" fill="#181818" stroke="#181818"/><path d="m442.5 488.2148h271" stroke="#181818"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="190" x="449.5" y="483.4727">Create UTXO Set file (.utxoset)</text><text fill="#888" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="152" y="578.3711">Last Modified On: 7-June-2024</text></svg>
