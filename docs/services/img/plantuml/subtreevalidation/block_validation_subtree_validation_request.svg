<svg contentStyleType="text/css" height="505" preserveAspectRatio="none" viewBox="0 0 1112 505" width="1112" xmlns="http://www.w3.org/2000/svg" zoomAndPan="magnify"><path d="m100.5 106.7988h10v306.4844h-10z" fill="#fff" stroke="#181818"/><path d="m377.5 189.7305h10v29.3105h-10z" fill="#fff" stroke="#181818"/><path d="m575.5 219.041h10v144.2422h-10z" fill="#fff" stroke="#181818"/><path d="m934.5 349.2832h10v14h-10z" fill="#fff" stroke="#181818"/><path d="m1032 248.3516h10v29.3105h-10z" fill="#fff" stroke="#181818"/><path d="m10 126.7988h1096.5v279.4844h-1096.5z" fill="none" stroke="#000" stroke-width="1.5"/><path d="m20 151.1094h1076.5v248.1738h-1076.5z" fill="none" stroke="#000" stroke-width="1.5"/><g stroke="#181818"><path d="m105 67.4883v355.7949" stroke-dasharray="5 5" stroke-width=".5"/><path d="m382.5 67.4883v355.7949" stroke-dasharray="5 5" stroke-width=".5"/><path d="m580 67.4883v355.7949" stroke-dasharray="5 5" stroke-width=".5"/><path d="m939.5 67.4883v355.7949" stroke-dasharray="5 5" stroke-width=".5"/><path d="m1036.5 67.4883v355.7949" stroke-dasharray="5 5" stroke-width=".5"/><rect fill="#e2e2f0" height="46.9766" rx="2.5" stroke-width=".5" width="151" x="30" y="19.5117"/></g><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="109" x="51" y="40.0469">Block Validation</text><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="137" x="37" y="56.5352">(BlockValidation.go)</text><rect fill="#e2e2f0" height="46.9766" rx="2.5" stroke="#181818" stroke-width=".5" width="151" x="30" y="422.2832"/><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="109" x="51" y="442.8184">Block Validation</text><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="137" x="37" y="459.3066">(BlockValidation.go)</text><rect fill="#e2e2f0" height="30.4883" rx="2.5" stroke="#181818" stroke-width=".5" width="184" x="290.5" y="36"/><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="170" x="297.5" y="56.5352">Subtree Validation Client</text><rect fill="#e2e2f0" height="30.4883" rx="2.5" stroke="#181818" stroke-width=".5" width="184" x="290.5" y="422.2832"/><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="170" x="297.5" y="442.8184">Subtree Validation Client</text><rect fill="#e2e2f0" height="30.4883" rx="2.5" stroke="#181818" stroke-width=".5" width="187" x="487" y="36"/><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="173" x="494" y="56.5352">Subtree Validation Server</text><rect fill="#e2e2f0" height="30.4883" rx="2.5" stroke="#181818" stroke-width=".5" width="187" x="487" y="422.2832"/><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="173" x="494" y="442.8184">Subtree Validation Server</text><rect fill="#e2e2f0" height="30.4883" rx="2.5" stroke="#181818" stroke-width=".5" width="76" x="901.5" y="36"/><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62" x="908.5" y="56.5352">Validator</text><rect fill="#e2e2f0" height="30.4883" rx="2.5" stroke="#181818" stroke-width=".5" width="76" x="901.5" y="422.2832"/><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62" x="908.5" y="442.8184">Validator</text><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="93" x="987.5" y="64.5352">Subtree Store</text><path d="m1019 15c0-10 18-10 18-10s18 0 18 10v26c0 10-18 10-18 10s-18 0-18-10z" fill="#e2e2f0" stroke="#181818" stroke-width="1.5"/><path d="m1019 15c0 10 18 10 18 10s18 0 18-10" fill="none" stroke="#181818" stroke-width="1.5"/><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="93" x="987.5" y="435.8184">Subtree Store</text><g stroke="#181818"><path d="m1019 448.7715c0-10 18-10 18-10s18 0 18 10v26c0 10-18 10-18 10s-18 0-18-10z" fill="#e2e2f0" stroke-width="1.5"/><path d="m1019 448.7715c0 10 18 10 18 10s18 0 18-10" fill="none" stroke-width="1.5"/><g fill="#fff"><path d="m100.5 106.7988h10v306.4844h-10z"/><path d="m377.5 189.7305h10v29.3105h-10z"/><path d="m575.5 219.041h10v144.2422h-10z"/><path d="m934.5 349.2832h10v14h-10z"/><path d="m1032 248.3516h10v29.3105h-10z"/></g><path d="m105.5 93.7988h47"/><path d="m152.5 93.7988v13"/><path d="m111.5 106.7988h41"/><path d="m121.5 102.7988-10 4 10 4-4-4z" fill="#181818"/></g><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="263" x="117.5" y="89.0566">validateBlockSubtrees(ctx, block, baseUrl)</text><path d="m10 126.7988h74v7.3106l-10 10h-64z" fill="#eee" stroke="#000" stroke-width="1.5"/><path d="m10 126.7988h1096.5v279.4844h-1096.5z" fill="none" stroke="#000" stroke-width="1.5"/><text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="29" x="25" y="140.3672">loop</text><text font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="170" x="99" y="139.4336">[for each subtree in the block]</text><path d="m20 151.1094h62v7.3105l-10 10h-52z" fill="#eee" stroke="#000" stroke-width="1.5"/><path d="m20 151.1094h1076.5v248.1738h-1076.5z" fill="none" stroke="#000" stroke-width="1.5"/><text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="35" y="164.6777">alt</text><text font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="154" x="97" y="163.7441">[if a subtree does not exist]</text><path d="m365.5 185.7305 10 4-10 4 4-4z" fill="#181818" stroke="#181818"/><path d="m110.5 189.7305h261" stroke="#181818"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="169" x="117.5" y="184.9883">CheckSubtree(ctx, request)</text><path d="m563.5 215.041 10 4-10 4 4-4z" fill="#181818" stroke="#181818"/><path d="m382.5 219.041h187" stroke="#181818"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="169" x="389.5" y="214.2988">CheckSubtree(ctx, request)</text><path d="m1020 244.3516 10 4-10 4 4-4z" fill="#181818" stroke="#181818"/><path d="m585.5 248.3516h440.5" stroke="#181818"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="280" x="592.5" y="243.6094">subtreeStore.Exists(spanCtx, subtreeHash[:])</text><path d="m596.5 273.6621-10 4 10 4-4-4z" fill="#181818" stroke="#181818"/><path d="m590.5 277.6621h445.5" stroke="#181818" stroke-dasharray="2 2"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="117" x="602.5" y="272.9199">subtreeExists / err</text><path d="m585.5 306.9727h42" stroke="#181818"/><path d="m627.5 306.9727v13" stroke="#181818"/><path d="m586.5 319.9727h41" stroke="#181818"/><path d="m596.5 315.9727-10 4 10 4-4-4z" fill="#181818" stroke="#181818"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="179" x="592.5" y="302.2305">Obtain a lock on the Subtree</text><path d="m922.5 345.2832 10 4-10 4 4-4z" fill="#181818" stroke="#181818"/><path d="m585.5 349.2832h343" stroke="#181818"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="330" x="592.5" y="344.541">validateSubtreeInternal(ctx, validateSubtreeMessage)</text><path d="m591.5 359.2832-10 4 10 4-4-4z" fill="#181818" stroke="#181818"/><path d="m585.5 363.2832h353" stroke="#181818" stroke-dasharray="2 2"/><path d="m393.5 373.2832-10 4 10 4-4-4z" fill="#181818" stroke="#181818"/><path d="m387.5 377.2832h192" stroke="#181818" stroke-dasharray="2 2"/><path d="m121.5 387.2832-10 4 10 4-4-4z" fill="#181818" stroke="#181818"/><path d="m115.5 391.2832h266" stroke="#181818" stroke-dasharray="2 2"/><text fill="#888" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="167" y="495.4395">Last Modified On: 19-March-2024</text></svg>
