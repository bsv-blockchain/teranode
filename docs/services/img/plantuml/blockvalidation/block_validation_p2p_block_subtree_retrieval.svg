<svg contentStyleType="text/css" height="591" preserveAspectRatio="none" viewBox="0 0 1141 591" width="1141" xmlns="http://www.w3.org/2000/svg" zoomAndPan="magnify"><path d="m822 181.7305h10v29.3105h-10z" fill="#fff" stroke="#181818"/><path d="m949.5 98.7988h10v29.3105h-10z" fill="#fff" stroke="#181818"/><path d="m949.5 473.5254h10v14h-10z" fill="#fff" stroke="#181818"/><path d="m1059.5 248.3516h10v102.9316h-10z" fill="#fff" stroke="#181818"/><path d="m10 143.1094h1125v352.416h-1125z" fill="none" stroke="#000" stroke-width="1.5"/><path d="m20 268.3516h1105v75.9316h-1105z" fill="none" stroke="#000" stroke-width="1.5"/><path d="m68 67.4883v445.0371" stroke="#181818" stroke-dasharray="5 5" stroke-width=".5"/><path d="m702 67.4883v445.0371" stroke="#181818" stroke-dasharray="5 5" stroke-width=".5"/><path d="m827 67.4883v445.0371" stroke="#181818" stroke-dasharray="5 5" stroke-width=".5"/><path d="m954 67.4883v445.0371" stroke="#181818" stroke-dasharray="5 5" stroke-width=".5"/><path d="m1064 67.4883v445.0371" stroke="#181818" stroke-dasharray="5 5" stroke-width=".5"/><rect fill="#e2e2f0" height="30.4883" rx="2.5" stroke="#181818" stroke-width=".5" width="76" x="30" y="36"/><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62" x="37" y="56.5352">Validator</text><rect fill="#e2e2f0" height="30.4883" rx="2.5" stroke="#181818" stroke-width=".5" width="76" x="30" y="511.5254"/><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62" x="37" y="532.0605">Validator</text><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88" x="655" y="64.5352">Subtree Data</text><ellipse cx="702" cy="35" fill="#e2e2f0" rx="12" ry="12" stroke="#181818" stroke-width=".5"/><path d="m690 49h24" stroke="#181818" stroke-width=".5"/><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88" x="655" y="525.0605">Subtree Data</text><ellipse cx="702" cy="544.0137" fill="#e2e2f0" rx="12" ry="12" stroke="#181818" stroke-width=".5"/><path d="m690 558.0137h24" stroke="#181818" stroke-width=".5"/><rect fill="#e2e2f0" height="30.4883" rx="2.5" stroke="#181818" stroke-width=".5" width="136" x="759" y="36"/><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="122" x="766" y="56.5352">Util HTTP Request</text><rect fill="#e2e2f0" height="30.4883" rx="2.5" stroke="#181818" stroke-width=".5" width="136" x="759" y="511.5254"/><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="122" x="766" y="532.0605">Util HTTP Request</text><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="93" x="905" y="64.5352">Subtree Store</text><path d="m936.5 15c0-10 18-10 18-10s18 0 18 10v26c0 10-18 10-18 10s-18 0-18-10z" fill="#e2e2f0" stroke="#181818" stroke-width="1.5"/><path d="m936.5 15c0 10 18 10 18 10s18 0 18-10" fill="none" stroke="#181818" stroke-width="1.5"/><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="93" x="905" y="525.0605">Subtree Store</text><path d="m936.5 538.0137c0-10 18-10 18-10s18 0 18 10v26c0 10-18 10-18 10s-18 0-18-10z" fill="#e2e2f0" stroke="#181818" stroke-width="1.5"/><path d="m936.5 538.0137c0 10 18 10 18 10s18 0 18-10" fill="none" stroke="#181818" stroke-width="1.5"/><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="95" x="1014" y="64.5352">Tx Meta Store</text><path d="m1046.5 15c0-10 18-10 18-10s18 0 18 10v26c0 10-18 10-18 10s-18 0-18-10z" fill="#e2e2f0" stroke="#181818" stroke-width="1.5"/><path d="m1046.5 15c0 10 18 10 18 10s18 0 18-10" fill="none" stroke="#181818" stroke-width="1.5"/><text font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="95" x="1014" y="525.0605">Tx Meta Store</text><g stroke="#181818"><path d="m1046.5 538.0137c0-10 18-10 18-10s18 0 18 10v26c0 10-18 10-18 10s-18 0-18-10z" fill="#e2e2f0" stroke-width="1.5"/><path d="m1046.5 538.0137c0 10 18 10 18 10s18 0 18-10" fill="none" stroke-width="1.5"/><path d="m822 181.7305h10v29.3105h-10z" fill="#fff"/><path d="m949.5 98.7988h10v29.3105h-10z" fill="#fff"/><path d="m949.5 473.5254h10v14h-10z" fill="#fff"/><path d="m1059.5 248.3516h10v102.9316h-10z" fill="#fff"/><path d="m937.5 94.7988 10 4-10 4 4-4z" fill="#181818"/><path d="m68 98.7988h875.5"/></g><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="280" x="75" y="94.0566">subtreeStore.Exists(spanCtx, subtreeHash[:])</text><path d="m79 124.1094-10 4 10 4-4-4z" fill="#181818" stroke="#181818"/><path d="m73 128.1094h880.5" stroke="#181818" stroke-dasharray="2 2"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="117" x="85" y="123.3672">subtreeExists / err</text><path d="m10 143.1094h62v7.3105l-10 10h-52z" fill="#eee" stroke="#000" stroke-width="1.5"/><path d="m10 143.1094h1125v352.416h-1125z" fill="none" stroke="#000" stroke-width="1.5"/><text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="25" y="156.6777">alt</text><text font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="127" x="87" y="155.7441">[subtreeExists is false]</text><path d="m810 177.7305 10 4-10 4 4-4z" fill="#181818" stroke="#181818"/><path d="m68 181.7305h748" stroke="#181818"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="186" x="75" y="176.9883">DoHTTPRequest(spanCtx, url)</text><path d="m79 207.041-10 4 10 4-4-4z" fill="#181818" stroke="#181818"/><path d="m73 211.041h753" stroke="#181818" stroke-dasharray="2 2"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="112" x="85" y="206.2988">subtreeBytes / err</text><path d="m68 235.3516h47" stroke="#181818"/><path d="m115 235.3516v13" stroke="#181818"/><path d="m74 248.3516h41" stroke="#181818"/><path d="m84 244.3516-10 4 10 4-4-4z" fill="#181818" stroke="#181818"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132" x="80" y="230.6094">Process subtreeBytes</text><path d="m20 268.3516h74v7.3105l-10 10h-64z" fill="#eee" stroke="#000" stroke-width="1.5"/><path d="m20 268.3516h1105v75.9316h-1105z" fill="none" stroke="#000" stroke-width="1.5"/><text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="29" x="35" y="281.9199">loop</text><text font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="96" x="109" y="280.9863">[for each txHash]</text><path d="m1047.5 302.9727 10 4-10 4 4-4z" fill="#181818" stroke="#181818"/><path d="m68 306.9727h985.5" stroke="#181818"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="230" x="75" y="302.2305">txMetaStore.GetMeta(gCtx, &amp;txHash)</text><path d="m79 332.2832-10 4 10 4-4-4z" fill="#181818" stroke="#181818"/><path d="m73 336.2832h985.5" stroke="#181818" stroke-dasharray="2 2"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75" x="85" y="331.541">txMeta / err</text><path d="m68 372.5938h42" stroke="#181818"/><path d="m110 372.5938v13" stroke="#181818"/><path d="m69 385.5938h41" stroke="#181818"/><path d="m79 381.5938-10 4 10 4-4-4z" fill="#181818" stroke="#181818"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="620" x="75" y="367.8516">processMissingTransactions(ctx, subtreeHash, missingTxHashesCompacted, baseUrl, txMetaSlice)</text><path d="m690 410.9043 10 4-10 4 4-4z" fill="#181818" stroke="#181818"/><path d="m68 414.9043h628" stroke="#181818"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="175" x="75" y="410.1621">Add transactions to Subtree</text><path d="m690 440.2148 10 4-10 4 4-4z" fill="#181818" stroke="#181818"/><path d="m68 444.2148h628" stroke="#181818"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="312" x="75" y="439.4727">AddNode(txHash, txMeta.Fee, txMeta.SizeInBytes)</text><path d="m937.5 469.5254 10 4-10 4 4-4z" fill="#181818" stroke="#181818"/><path d="m68 473.5254h875.5" stroke="#181818"/><text font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="317" x="75" y="468.7832">Set(spanCtx, merkleRoot[:], completeSubtreeBytes)</text><path d="m79 483.5254-10 4 10 4-4-4z" fill="#181818" stroke="#181818"/><path d="m73 487.5254h880.5" stroke="#181818" stroke-dasharray="2 2"/></svg>
