@startuml
participant Client
participant "RPC Server" as RPC
participant "JSON Unmarshaler" as Unmarshaler
participant "Block Assembly Client" as BlockAssembly

Client -> RPC : SubmitMiningSolutionCmd(JsonString)
activate RPC

RPC -> Unmarshaler : Unmarshal JSON to MiningSolution
activate Unmarshaler
Unmarshaler --> RPC : return MiningSolution or error
deactivate Unmarshaler

alt If JSON Unmarshaling Fails
    RPC -> Client : Return unmarshaling error
else If JSON Unmarshaling Succeeds
    RPC -> RPC : Log debug information

    RPC -> BlockAssembly : SubmitMiningSolution(context, solution)
    activate BlockAssembly
    BlockAssembly --> RPC : return result or error
    deactivate BlockAssembly

    alt If Submission Fails
        RPC -> Client : Return submission error
    else If Submission Succeeds
        RPC -> Client : Return nil (success)
        note right
        Response fields:
        - Returns nil on success
        end note
    end
end

deactivate RPC

left footer Last Modified On: %date("dd-MMM-yyyy")

@enduml
